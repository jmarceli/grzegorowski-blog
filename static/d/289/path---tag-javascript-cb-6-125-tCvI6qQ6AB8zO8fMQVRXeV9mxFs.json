{"data":{"posts":{"edges":[{"node":{"id":"639bcb7a-589e-5417-ba84-61a95f355c3c","html":"<p>How to bind handlers in React to multiple similar elements e.g. buttons on list?\nIs it any better to use one handler and identify clicked elements (like it was in jQuery days) than binding them to each element?\nIs it an \"expensive\" operation to bind an event handler in React?</p>\n<p>TLDR; There is nearly no benefit from using only one handler bound to the parent container, but it is fairly important to avoid handler creation during rendering if you use Pure components as a children.</p>\n<h2>Overview</h2>\n<p>If you have a list of elements you may either set <code class=\"language-text\">onClick</code> property to each of rendered elements or create <code class=\"language-text\">onClick</code> handler in the parent container.\nI will try to show the difference between those two approaches.</p>\n<h2>Example</h2>\n<p>There were 1000 fairly simple React components in this example.\nEach component act as a button and shows its ID in the browser console in response to click event.</p>\n<iframe src=\"https://codesandbox.io/embed/6lo82zrlzw?fontsize=14&view=preview\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<p>In order to measure perfomance go to <a href=\"https://6lo82zrlzw.codesandbox.io/\">https://6lo82zrlzw.codesandbox.io/</a> and open Chrome DevTool Performance tab.</p>\n<h2>Description</h2>\n<p>There are two types of components in this example:</p>\n<ul>\n<li>Regular - standard React.Component</li>\n<li>Pure - React.PureComponent</li>\n<li>-</li>\n</ul>\n<p>And four ways of providing element context/information to event handler:</p>\n<ul>\n<li>Arrow - wrapping event handler in arrow function, data as an argument</li>\n<li>WithId - passing data through <code class=\"language-text\">data-id</code> and getting it through (<code class=\"language-text\">event.currentTarget</code>)</li>\n<li>SingleHandler - passing data through <code class=\"language-text\">data-id</code> and having one shared handler (<code class=\"language-text\">event.target</code>)</li>\n<li>MethodList - wrapping handler inside class method</li>\n</ul>\n<p>Here are the results from Google DevTools Performance tab.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b88373e4c76781a81c83f5acb465097f/e5651/react-handlers-performance.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 778px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 11.311053984575835%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsSAAALEgHS3X78AAAAn0lEQVQI1x3Huw7BAABA0f4vQmIwGAxMHrsfoCltF7qgXkk3r6HaWCqqUpR2EJKW5BLbOULo++zHKsGyxW0hEq5Eoo3EfS3xNGU+O5XYkkkshbetktjK78r/sdUl3nZ+7pKYbWLXQPg8HjiDJk6/zEmrEhg1fL2EO0pxnma5zjMEkyJer8hRS+NpOcJRnkgvcJnUuU5rhOMG91mF12HIF/LWhQBS4p4tAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"react-handlers-performance\"\n        title=\"\"\n        src=\"/static/b88373e4c76781a81c83f5acb465097f/e5651/react-handlers-performance.png\"\n        srcset=\"/static/b88373e4c76781a81c83f5acb465097f/a1986/react-handlers-performance.png 210w,\n/static/b88373e4c76781a81c83f5acb465097f/ad7fb/react-handlers-performance.png 420w,\n/static/b88373e4c76781a81c83f5acb465097f/e5651/react-handlers-performance.png 778w\"\n        sizes=\"(max-width: 778px) 100vw, 778px\"\n      />\n  </span>\n  </a></p>\n<p>I've executed 17 re-renders and calculated avarage rendering time for each components list. Non of this re-renders was an initial render. Numbers from perfomance tab looks as follows (lower number is better):</p>\n<ul>\n<li>17 ms RegularArrow</li>\n<li>17 ms RegularSingleHandler</li>\n<li>18 ms RegularWithId</li>\n<li>20 ms PureSingleHandler</li>\n<li>21 ms PureWithId</li>\n<li>21 ms PureMethodList</li>\n<li><strong>64 ms</strong> RegularMethodList</li>\n<li><strong>73 ms</strong> PureArrow</li>\n</ul>\n<p>Avarage render time of each components list as a bar chart\n<img src=\"/react-multiple-handlers-bcb293b88e25de0d32ec12a704eb78b0.svg\" alt=\"react-multiple-handlers\">\n<small><sup>Chart rendered with <a href=\"https://www.amcharts.com/\">amCharts 4</a> library</sup></small></p>\n<p>It is not a big suprise that <strong>PureArrow</strong> component was the slowest one, as for each re-render shallow equality comparison has to be executed and in each case component has to be re-rendered due to the fact that arrow function creates new handler function during rendering.</p>\n<p>Surprising is the fact that <strong>RegularMethodList</strong> is second slowest way of event handling. I guess that that is due to the large overhead required for new component initialization, and on each re-render new component has to be created.</p>\n<p>What surprises me about this test is the fact that there is no benefit from having a single handler attached to parent component as it will be beneficial in the jQuery times.</p>\n<h2>Links</h2>\n<ul>\n<li><a href=\"https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/edit#\">https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/edit#</a> - official Google docs about data export from DevTools Performance tab</li>\n<li><a href=\"https://www.amcharts.com/\">https://www.amcharts.com/</a> - charting library used to render bar chart with rendering times</li>\n<li><a href=\"https://ymm959qlxv.codesandbox.io/\">https://ymm959qlxv.codesandbox.io/</a> - Google Chrome Performance tab visualizer app (source code: <a href=\"https://codesandbox.io/s/ymm959qlxv\">https://codesandbox.io/s/ymm959qlxv</a>)</li>\n</ul>","timeToRead":3,"rawMarkdownBody":"How to bind handlers in React to multiple similar elements e.g. buttons on list?\nIs it any better to use one handler and identify clicked elements (like it was in jQuery days) than binding them to each element?\nIs it an \"expensive\" operation to bind an event handler in React?\n\nTLDR; There is nearly no benefit from using only one handler bound to the parent container, but it is fairly important to avoid handler creation during rendering if you use Pure components as a children.\n\n## Overview\n\nIf you have a list of elements you may either set `onClick` property to each of rendered elements or create `onClick` handler in the parent container.\nI will try to show the difference between those two approaches.\n\n## Example\n\nThere were 1000 fairly simple React components in this example.\nEach component act as a button and shows its ID in the browser console in response to click event.\n\n<iframe src=\"https://codesandbox.io/embed/6lo82zrlzw?fontsize=14&view=preview\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n\nIn order to measure perfomance go to https://6lo82zrlzw.codesandbox.io/ and open Chrome DevTool Performance tab.\n\n## Description\n\nThere are two types of components in this example:\n\n- Regular - standard React.Component\n- Pure - React.PureComponent\n-\nAnd four ways of providing element context/information to event handler:\n\n- Arrow - wrapping event handler in arrow function, data as an argument\n- WithId - passing data through `data-id` and getting it through (`event.currentTarget`)\n- SingleHandler - passing data through `data-id` and having one shared handler (`event.target`)\n- MethodList - wrapping handler inside class method\n\nHere are the results from Google DevTools Performance tab.\n\n![react-handlers-performance](img/react-handlers-performance.png)\n\nI've executed 17 re-renders and calculated avarage rendering time for each components list. Non of this re-renders was an initial render. Numbers from perfomance tab looks as follows (lower number is better):\n\n- 17 ms RegularArrow\n- 17 ms RegularSingleHandler\n- 18 ms RegularWithId\n- 20 ms PureSingleHandler\n- 21 ms PureWithId\n- 21 ms PureMethodList\n- **64 ms** RegularMethodList\n- **73 ms** PureArrow\n\nAvarage render time of each components list as a bar chart\n![react-multiple-handlers](img/react-multiple-handlers.svg)\n<small><sup>Chart rendered with <a href=\"https://www.amcharts.com/\">amCharts 4</a> library</sup></small>\n\nIt is not a big suprise that **PureArrow** component was the slowest one, as for each re-render shallow equality comparison has to be executed and in each case component has to be re-rendered due to the fact that arrow function creates new handler function during rendering.\n\nSurprising is the fact that **RegularMethodList** is second slowest way of event handling. I guess that that is due to the large overhead required for new component initialization, and on each re-render new component has to be created.\n\nWhat surprises me about this test is the fact that there is no benefit from having a single handler attached to parent component as it will be beneficial in the jQuery times.\n\n\n## Links\n\n- https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/edit# - official Google docs about data export from DevTools Performance tab\n- https://www.amcharts.com/ - charting library used to render bar chart with rendering times\n- https://ymm959qlxv.codesandbox.io/ - Google Chrome Performance tab visualizer app (source code: https://codesandbox.io/s/ymm959qlxv)\n","excerpt":"How to bind handlers in React to multiple similar elements e.g. buttons on list?\nIs it any better to use one handler and identify clicked…","frontmatter":{"title":"React multiple event handlers performance","slug":"react-multiple-event-handlers","date":"2019-03-13T08:38:18.000Z","tags":["react","javascript","frontend"],"date_created":"2019-03-09T19:49:23.000Z","date_updated":"2019-03-13T22:58:17.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1514388479888-50b7cef280ed.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHiyWMg/8QAFxABAQEBAAAAAAAAAAAAAAAAABIBEf/aAAgBAQABBQKEuK1euv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAABAx/9oACAEBAAY/Amv/xAAZEAEBAQADAAAAAAAAAAAAAAABABEhUWH/2gAIAQEAAT8hHbnEHOz2Xxil/9oADAMBAAIAAwAAABAIP//EABcRAQEBAQAAAAAAAAAAAAAAAAEAURH/2gAIAQMBAT8QDW4bf//EABcRAQADAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QuWv/xAAfEAEAAgICAgMAAAAAAAAAAAABABEhMUFRgZGh0fD/2gAIAQEAAT8QSGd4KNxK7cfvs9y1SwarJ055ti7o5XlK+OJR0DNO3uf/2Q==","aspectRatio":1.5,"src":"/static/aad908a40e560a85f4e88a73b25c43dc/775d9/photo-1514388479888-50b7cef280ed.jpg","srcSet":"/static/aad908a40e560a85f4e88a73b25c43dc/cb3d3/photo-1514388479888-50b7cef280ed.jpg 150w,\n/static/aad908a40e560a85f4e88a73b25c43dc/c83a6/photo-1514388479888-50b7cef280ed.jpg 300w,\n/static/aad908a40e560a85f4e88a73b25c43dc/775d9/photo-1514388479888-50b7cef280ed.jpg 600w,\n/static/aad908a40e560a85f4e88a73b25c43dc/2b1a3/photo-1514388479888-50b7cef280ed.jpg 900w,\n/static/aad908a40e560a85f4e88a73b25c43dc/90537/photo-1514388479888-50b7cef280ed.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"3f01b94d-11d9-5759-bcd8-9c6c0fc96bd8","html":"<p>There are many ways to define event handlers in React. Are there any differences between them?</p>\n<p>TLDR; You should probably avoid the inline arrow functions and handlers defined in the <code class=\"language-text\">render()</code> method.</p>\n<h2>Overview</h2>\n<p>Writing React handlers is easy, just take care of \"it\" and you're good to go.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'it works'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>Click me<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Are you sure?</p>\n<h2>Example</h2>\n<p>A brief example of the various handler defining methods and their impact on the re-rendering of React.PureComponent based elements.</p>\n<iframe src=\"https://codesandbox.io/embed/wom604pn85?fontsize=14\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<br/>\n<p>NOTE: You may open console in above example to see a value of <code class=\"language-text\">this</code> for each handler.</p>\n<h2>Description</h2>\n<p>In the above example, you can see five ways to write click handlers.</p>\n<h3>Handler defined outside of a component</h3>\n<p>Easy to write, but you won't be able to access <code class=\"language-text\">this</code> from within the handler, that's why most of the time it is not so useful.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleClickOutsideClass</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h3>Handler as a class method</h3>\n<p>This is probably the most \"classic\" way of handling events in React components.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  <span class=\"token function\">handleClickMethodBound</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>In most cases, you should remember to bind handler methods in the class constructor or remember that <code class=\"language-text\">this</code> will be <code class=\"language-text\">undefined</code> inside the handler.\nHere is a binding implementation example:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">props</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">super</span><span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>handleClickMethodBound <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleClickMethodBound</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>While it might be important for your code to bind the handler method, it's also worth knowing that binding will slow down your code, <a href=\"https://medium.com/@charpeni/arrow-functions-in-class-properties-might-not-be-as-great-as-we-think-3b3551c440b1#e821\">a little bit, but still</a>.</p>\n<h3>Handler as a class property</h3>\n<p>The most elegant way to define event handler is through the Babel class properties.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  <span class=\"token function-variable function\">handleClickClassProp</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>In this method you can avoid binding inside the class constructor and still keep expected <code class=\"language-text\">this</code> assignment.\nOf course you will have to use <a href=\"https://babeljs.io/docs/en/babel-plugin-proposal-class-properties\">@babel/plugin-proposal-class-properties</a> in order to make this work.\nOne more drawback of this method is a Babel transpilation result.\nClass properties are transpiled to arrow functions in the class constructor.\nIt means that you won't be able to access them from outside the class e.g. to mock/spy them in tests, or use with super in subclasses.</p>\n<h3>Handler inside render() method</h3>\n<p>In this method, a new handler function will be created on each re-render, which is probably not the desired behavior.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">handleClickInRender</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// ... Remaining implementation</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3>Handler as an inline arrow function</h3>\n<p>Arrow functions may quickly solve <code class=\"language-text\">this</code> related issues.\nThis method has similar disadvantages to the handlers defined inside <code class=\"language-text\">render()</code> method.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>button onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>Click me<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>You can use the inline arrow functions to avoid binding class methods in the class constructor, but drawbacks are still the same.\nOn each render, a new handler method will be created.</p>\n<h2>Summary</h2>\n<p>As you can see it is easy to create handler function on each render, which is not necessarly something you want to do.\nIt seems that class methods with optional binding (if necessary) are still the best option to define event handlers.</p>\n<h2>Sources</h2>\n<p>Official React guide on event handling is something worth checking <a href=\"https://reactjs.org/docs/handling-events.html\">https://reactjs.org/docs/handling-events.html</a>\nDetailed analysis of class properties solution\n<a href=\"https://medium.com/@charpeni/arrow-functions-in-class-properties-might-not-be-as-great-as-we-think-3b3551c440b1\">https://medium.com/@charpeni/arrow-functions-in-class-properties-might-not-be-as-great-as-we-think-3b3551c440b1</a>\nComparison of transpiled class properties vs class methods\nStack Overflow question: <a href=\"https://stackoverflow.com/questions/49065425/should-class-methods-be-created-with-arrow-functions\">https://stackoverflow.com/questions/49065425/should-class-methods-be-created-with-arrow-functions</a>\nDirect Babel REPL <a href=\"https://babeljs.io/repl/#?babili=false&#x26;browsers=&#x26;build=&#x26;builtIns=false&#x26;spec=false&#x26;loose=false&#x26;code_lz=MYGwhgzhAEBiD29oFMAeAXZA7AJjASsmMOgHQDC8AtgA7xbbrQDeAUNNMPROgE4CuJeLwAUNXvBoQAlC3YdoEfjWSjxkmfI7oAFgEsIpHWFwhkAIXDQAvNF0GjJnGcthSAIz24R9zRwC-rPLGphbgIrJs8oGBrKCQMAjwAEwoGNh40ITEZJS09IxywU4uVrYRNgB8RQGs_kA&#x26;debug=false&#x26;forceAllTransforms=false&#x26;shippedProposals=false&#x26;circleciRepo=&#x26;evaluate=true&#x26;fileSize=false&#x26;timeTravel=false&#x26;sourceType=module&#x26;lineWrap=false&#x26;presets=es2015%2Creact%2Cstage-0&#x26;prettier=false&#x26;targets=&#x26;version=7.3.3\">link</a></p>","timeToRead":4,"rawMarkdownBody":"There are many ways to define event handlers in React. Are there any differences between them?\n\nTLDR; You should probably avoid the inline arrow functions and handlers defined in the `render()` method.\n\n## Overview\n\nWriting React handlers is easy, just take care of \"it\" and you're good to go.\n\n```javascript\n<button onClick={() => console.log('it works', this)}>Click me</button>\n```\n\nAre you sure?\n\n## Example\n\nA brief example of the various handler defining methods and their impact on the re-rendering of React.PureComponent based elements.\n\n<iframe src=\"https://codesandbox.io/embed/wom604pn85?fontsize=14\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<br/>\n\nNOTE: You may open console in above example to see a value of `this` for each handler.\n\n## Description\n\nIn the above example, you can see five ways to write click handlers.\n\n### Handler defined outside of a component\n\nEasy to write, but you won't be able to access `this` from within the handler, that's why most of the time it is not so useful.\n\n```javascript\nconst handleClickOutsideClass = () => {\n  console.log(\"click\", this);\n};\n```\n\n### Handler as a class method\n\nThis is probably the most \"classic\" way of handling events in React components.\n\n```javascript\n  handleClickMethodBound() {\n    console.log(\"click\", this);\n  }\n```\n\nIn most cases, you should remember to bind handler methods in the class constructor or remember that `this` will be `undefined` inside the handler.\nHere is a binding implementation example:\n\n```javascript\n  constructor(props) {\n    super(props);\n    this.handleClickMethodBound = this.handleClickMethodBound.bind(this);\n  }\n```\n\nWhile it might be important for your code to bind the handler method, it's also worth knowing that binding will slow down your code, [a little bit, but still](https://medium.com/@charpeni/arrow-functions-in-class-properties-might-not-be-as-great-as-we-think-3b3551c440b1#e821).\n\n### Handler as a class property\n\nThe most elegant way to define event handler is through the Babel class properties.\n\n```javascript\n  handleClickClassProp = () => {\n    console.log(\"click\", this);\n  };\n```\n\nIn this method you can avoid binding inside the class constructor and still keep expected `this` assignment.\nOf course you will have to use [@babel/plugin-proposal-class-properties](https://babeljs.io/docs/en/babel-plugin-proposal-class-properties) in order to make this work.\nOne more drawback of this method is a Babel transpilation result.\nClass properties are transpiled to arrow functions in the class constructor.\nIt means that you won't be able to access them from outside the class e.g. to mock/spy them in tests, or use with super in subclasses.\n\n### Handler inside render() method\n\nIn this method, a new handler function will be created on each re-render, which is probably not the desired behavior.\n\n```javascript\n  render() {\n    const handleClickInRender = () => {\n      console.log(\"click\", this);\n    };\n    // ... Remaining implementation\n ```\n\n### Handler as an inline arrow function\n\nArrow functions may quickly solve `this` related issues.\nThis method has similar disadvantages to the handlers defined inside `render()` method.\n\n```javascript\n  return (\n    <button onClick={() => console.log('click', this)}>Click me</button>\n  );\n```\n\nYou can use the inline arrow functions to avoid binding class methods in the class constructor, but drawbacks are still the same.\nOn each render, a new handler method will be created.\n\n## Summary\n\nAs you can see it is easy to create handler function on each render, which is not necessarly something you want to do.\nIt seems that class methods with optional binding (if necessary) are still the best option to define event handlers.\n\n## Sources\n\nOfficial React guide on event handling is something worth checking https://reactjs.org/docs/handling-events.html\nDetailed analysis of class properties solution\nhttps://medium.com/@charpeni/arrow-functions-in-class-properties-might-not-be-as-great-as-we-think-3b3551c440b1\nComparison of transpiled class properties vs class methods\nStack Overflow question: https://stackoverflow.com/questions/49065425/should-class-methods-be-created-with-arrow-functions\nDirect Babel REPL [link](https://babeljs.io/repl/#?babili=false&browsers=&build=&builtIns=false&spec=false&loose=false&code_lz=MYGwhgzhAEBiD29oFMAeAXZA7AJjASsmMOgHQDC8AtgA7xbbrQDeAUNNMPROgE4CuJeLwAUNXvBoQAlC3YdoEfjWSjxkmfI7oAFgEsIpHWFwhkAIXDQAvNF0GjJnGcthSAIz24R9zRwC-rPLGphbgIrJs8oGBrKCQMAjwAEwoGNh40ITEZJS09IxywU4uVrYRNgB8RQGs_kA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=true&fileSize=false&timeTravel=false&sourceType=module&lineWrap=false&presets=es2015%2Creact%2Cstage-0&prettier=false&targets=&version=7.3.3)\n","excerpt":"There are many ways to define event handlers in React. Are there any differences between them?TLDR; You should probably avoid the inline…","frontmatter":{"title":"React.PureComponent - different ways of writing event handlers","slug":"react-different-ways-of-passing-handlers-through-the-props","date":"2019-02-19T22:55:00.000Z","tags":["react","javascript","frontend"],"date_created":"2019-03-03T23:56:03.000Z","date_updated":"2019-02-24T10:36:11.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1501281668745-f7f57925c3b4.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAD/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAARaijRsOL//EABgQAQEBAQEAAAAAAAAAAAAAAAIBAwAT/9oACAEBAAEFAs8ZeOQR8zOmikLR66K9/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQACE//aAAgBAwEBPwE0F0L/xAAWEQEBAQAAAAAAAAAAAAAAAAABABL/2gAIAQIBAT8BSy3/xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhAhD/2gAIAQEABj8Cb6ciMdZGZ7//xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAhQf/aAAgBAQABPyEmER3dEa3gZTTuZClI6JHh5lKy7//aAAwDAQACAAMAAAAQQC//xAAXEQEAAwAAAAAAAAAAAAAAAAAAESFh/9oACAEDAQE/EIqmL//EABcRAAMBAAAAAAAAAAAAAAAAAAABMWH/2gAIAQIBAT8Qc4aH/8QAGRABAQADAQAAAAAAAAAAAAAAAREAITFB/9oACAEBAAE/EHHzENs5lhCE1jzb3jjRMdmbFqb2OTCoILYe5ZKiLO5//9k=","aspectRatio":1.5,"src":"/static/b8caf1eb71d198c481e25e4bcf14457d/775d9/photo-1501281668745-f7f57925c3b4.jpg","srcSet":"/static/b8caf1eb71d198c481e25e4bcf14457d/cb3d3/photo-1501281668745-f7f57925c3b4.jpg 150w,\n/static/b8caf1eb71d198c481e25e4bcf14457d/c83a6/photo-1501281668745-f7f57925c3b4.jpg 300w,\n/static/b8caf1eb71d198c481e25e4bcf14457d/775d9/photo-1501281668745-f7f57925c3b4.jpg 600w,\n/static/b8caf1eb71d198c481e25e4bcf14457d/2b1a3/photo-1501281668745-f7f57925c3b4.jpg 900w,\n/static/b8caf1eb71d198c481e25e4bcf14457d/90537/photo-1501281668745-f7f57925c3b4.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"1c25215b-841a-58f0-bbe4-5c19017dace7","html":"<p>Can I use the <code class=\"language-text\">children</code> property with React.PureComponent, or do I have to use only custom properties?</p>\n<p>TLDR; You can use <code class=\"language-text\">children</code> with React.PureComponent as long as you use your component carefully. It is much easier to make a \"mistake\" with <code class=\"language-text\">children</code>.</p>\n<h2>Overview</h2>\n<p>Pure Components were introduced to facilitate limiting the re-rendering after component properties/state update.\nThey do this by using a shallow equality comparison inside <code class=\"language-text\">shouldComponentUpdate()</code>, <a href=\"https://reactjs.org/docs/react-api.html#reactpurecomponent\">see the official React documentation</a>\nThis comparison is used for every property, including <code class=\"language-text\">children</code> property as well as component internal state.</p>\n<h2>Example</h2>\n<p>Here's an example with different implementations that use React.Component or React.PureComponent as a base class.</p>\n<iframe src=\"https://codesandbox.io/embed/r0k3oywn44?fontsize=14&view=preview\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n<br/>\n<p>Components used in this example:</p>\n<ul>\n<li>PureWithChildren - React PureComponent, which uses the <code class=\"language-text\">children</code> property</li>\n<li>PureWithLabel - React PureComponent, which uses the <code class=\"language-text\">label</code> property</li>\n<li>RegularWithChildren - React Component, which uses the <code class=\"language-text\">children</code> property</li>\n<li>RegularWithLabel - React Component, which uses the <code class=\"language-text\">label</code> property</li>\n</ul>\n<p>Regular React.Component is re-rendered each time it receives new properties, even if they are equal to old.\nOn the other, hand React.PureComponent is re-rendered only if new properties are different from the old ones.</p>\n<h2>Description</h2>\n<p>The above example shows that using PureComponents is much easier when they have custom properties such as <code class=\"language-text\">label</code> instead of the generic <code class=\"language-text\">children</code> property.\nThis is especially important if we look at interpolated strings.\nFor the <code class=\"language-text\">label</code> property it works expected, but in the case of <code class=\"language-text\">children</code> additional renders may surprise the developer.\nThe reason for this behavior is that <code class=\"language-text\">children</code> are passed as an array while <code class=\"language-text\">label</code> is simply a string (interpolated but still a string).\nArrays are not shallow equal to each other and therefore <code class=\"language-text\">children</code> are always re-rendered despite the lack of changes.</p>\n<p>React.PureComponent can be used with the <code class=\"language-text\">children</code> property, but with caution (probably along with some type checking using Flow/Typescript/PropTypes).\nThe above example can be refactored to prevent problematic array values for <code class=\"language-text\">children</code> by adding:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">PureWithChildren<span class=\"token punctuation\">.</span>propTypes <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  children<span class=\"token punctuation\">:</span> PropTypes<span class=\"token punctuation\">.</span>string\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Then the correct component usage would be:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>PureWithChildren<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token string\">`string </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>data<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>PureWithChildren<span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2>Sources</h2>\n<p>Official documentation for React.PureComponent:\n<a href=\"https://reactjs.org/docs/react-api.html#reactpurecomponent\">https://reactjs.org/docs/react-api.html#reactpurecomponent</a></p>\n<p>Other interesting posts on this topic:\n<a href=\"https://blog.cloudboost.io/react-purecomponents-children-979e3da15ba8\">https://blog.cloudboost.io/react-purecomponents-children-979e3da15ba8</a>\n<a href=\"https://medium.com/@antonkorzunov/2-things-about-purecomponent-you-probable-should-know-b04844a90d4\">https://medium.com/@antonkorzunov/2-things-about-purecomponent-you-probable-should-know-b04844a90d4</a>\n<a href=\"https://blog.shakacode.com/react-purecomponent-pitfalls-d057882f4b6e\">https://blog.shakacode.com/react-purecomponent-pitfalls-d057882f4b6e</a></p>","timeToRead":2,"rawMarkdownBody":"Can I use the `children` property with React.PureComponent, or do I have to use only custom properties?\n\nTLDR; You can use `children` with React.PureComponent as long as you use your component carefully. It is much easier to make a \"mistake\" with `children`.\n\n## Overview\n\nPure Components were introduced to facilitate limiting the re-rendering after component properties/state update.\nThey do this by using a shallow equality comparison inside `shouldComponentUpdate()`, [see the official React documentation](https://reactjs.org/docs/react-api.html#reactpurecomponent)\nThis comparison is used for every property, including `children` property as well as component internal state.\n\n## Example\n\nHere's an example with different implementations that use React.Component or React.PureComponent as a base class.\n\n<iframe src=\"https://codesandbox.io/embed/r0k3oywn44?fontsize=14&view=preview\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n\n<br/>\n\nComponents used in this example:\n\n- PureWithChildren - React PureComponent, which uses the `children` property\n- PureWithLabel - React PureComponent, which uses the `label` property\n- RegularWithChildren - React Component, which uses the `children` property\n- RegularWithLabel - React Component, which uses the `label` property\n\nRegular React.Component is re-rendered each time it receives new properties, even if they are equal to old.\nOn the other, hand React.PureComponent is re-rendered only if new properties are different from the old ones.\n\n## Description\n\nThe above example shows that using PureComponents is much easier when they have custom properties such as `label` instead of the generic `children` property.\nThis is especially important if we look at interpolated strings.\nFor the `label` property it works expected, but in the case of `children` additional renders may surprise the developer.\nThe reason for this behavior is that `children` are passed as an array while `label` is simply a string (interpolated but still a string).\nArrays are not shallow equal to each other and therefore `children` are always re-rendered despite the lack of changes.\n\nReact.PureComponent can be used with the `children` property, but with caution (probably along with some type checking using Flow/Typescript/PropTypes).\nThe above example can be refactored to prevent problematic array values for `children` by adding:\n\n```js\nPureWithChildren.propTypes = {\n  children: PropTypes.string\n};\n```\n\nThen the correct component usage would be:\n\n```js\n<PureWithChildren>{`string ${data}`}</PureWithChildren>\n```\n\n## Sources\n\nOfficial documentation for React.PureComponent:\nhttps://reactjs.org/docs/react-api.html#reactpurecomponent\n\nOther interesting posts on this topic:\nhttps://blog.cloudboost.io/react-purecomponents-children-979e3da15ba8\nhttps://medium.com/@antonkorzunov/2-things-about-purecomponent-you-probable-should-know-b04844a90d4\nhttps://blog.shakacode.com/react-purecomponent-pitfalls-d057882f4b6e\n","excerpt":"Can I use the  property with React.PureComponent, or do I have to use only custom properties?TLDR; You can use  with React.PureComponent as…","frontmatter":{"title":"React.PureComponent - children vs custom properties","slug":"react-purecomponent-children-vs-custom-properties","date":"2019-02-16T16:00:00.000Z","tags":["react","javascript","frontend"],"date_created":"2019-02-27T14:11:00.000Z","date_updated":"2019-02-23T13:04:06.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1503847752244-32e931070a43.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAGi3NgaOEDj/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEQEv/aAAgBAQABBQJa9hrCguJ7abvP/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAEDAQE/Abiv/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAECAQE/Abqv/8QAGBAAAgMAAAAAAAAAAAAAAAAAADEBECH/2gAIAQEABj8CNkQ7/8QAGxAAAwACAwAAAAAAAAAAAAAAAAERECExQWH/2gAIAQEAAT8h7BYISlpTpj2Dbk28f//aAAwDAQACAAMAAAAQKw//xAAXEQADAQAAAAAAAAAAAAAAAAAAARFB/9oACAEDAQE/EHmij//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EBT/xAAcEAEAAgMAAwAAAAAAAAAAAAABESEAMVEQYXH/2gAIAQEAAT8QdFQ1eNSF8Ph11XvNlTrWRiBSzTkVWdZ8f//Z","aspectRatio":1.3705583756345177,"src":"/static/b1dc252aafcc5edeb969febda63fd7b3/775d9/photo-1503847752244-32e931070a43.jpg","srcSet":"/static/b1dc252aafcc5edeb969febda63fd7b3/cb3d3/photo-1503847752244-32e931070a43.jpg 150w,\n/static/b1dc252aafcc5edeb969febda63fd7b3/c83a6/photo-1503847752244-32e931070a43.jpg 300w,\n/static/b1dc252aafcc5edeb969febda63fd7b3/775d9/photo-1503847752244-32e931070a43.jpg 600w,\n/static/b1dc252aafcc5edeb969febda63fd7b3/2b1a3/photo-1503847752244-32e931070a43.jpg 900w,\n/static/b1dc252aafcc5edeb969febda63fd7b3/90537/photo-1503847752244-32e931070a43.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"4b912dd4-1563-50fe-bce3-65493d0391de","html":"<p>Although there is much useful information on the official BrowserStack website, you will certainly have a lot of questions when you run tests for the first time. I will try to explain how to deal with it based on a simple example which uses Jest and Selenium.</p>\n<p><strong>There is no problem in running <a href=\"https://jestjs.io\">Jest</a> with BrowserStack, despite the lack of documentation or examples.</strong></p>\n<p>TLDR; Check the <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example\">example repository</a> it should be self-explanatory.</p>\n<h2>Starting point</h2>\n<p>I have Selenium-based tests that I can run locally. How do I load BrowserStack and run tests against their browsers?</p>\n<p>It seems that it is quite simple and typical task.</p>\n<p>Here is an example of a basic Selenium test powered by Jest. It will be used to show how to integrate existing code with <a href=\"https://www.browserstack.com/docs?product=automate\">BrowserStack Automate</a> testing service.</p>\n<p><strong>test/local.test.js</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Builder<span class=\"token punctuation\">,</span> By<span class=\"token punctuation\">,</span> until <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'selenium-webdriver'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> firefox <span class=\"token keyword\">from</span> <span class=\"token string\">'selenium-webdriver/firefox'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> path <span class=\"token keyword\">from</span> <span class=\"token string\">'path'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getElementById</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">driver<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">,</span> timeout <span class=\"token operator\">=</span> <span class=\"token number\">2000</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> el <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span>until<span class=\"token punctuation\">.</span><span class=\"token function\">elementLocated</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span><span class=\"token function\">id</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> timeout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span>until<span class=\"token punctuation\">.</span><span class=\"token function\">elementIsVisible</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> timeout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'webdriver'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> driver<span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">beforeAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">firefox<span class=\"token punctuation\">.</span>Options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    options<span class=\"token punctuation\">.</span><span class=\"token function\">headless</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    driver <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">forBrowser</span><span class=\"token punctuation\">(</span><span class=\"token string\">'firefox'</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">setFirefoxOptions</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// eslint-disable-next-line no-undef</span>\n    <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'file://'</span> <span class=\"token operator\">+</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'test.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">afterAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">quit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> btn <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> <span class=\"token string\">'test-button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> btn<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> output <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> <span class=\"token string\">'output'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> outputVal <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> output<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>outputVal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Something'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>As you can see, this is a simple example in which after clicking on <strong>#myBtn</strong> we expect to have <strong>Something</strong> as value of the <strong>#output</strong> input HTML element. Here's tested code.</p>\n<p><strong>test/jest-selenium-browserstack-example.js</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> JestSeleniumBrowserStackExample <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">exports</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">'use strict'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">write</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">elementId</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> el <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>elementId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    el<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">'Something'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  exports<span class=\"token punctuation\">.</span>write <span class=\"token operator\">=</span> write<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> exports<span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Here is a local HTML file used for testing in browser.</p>\n<p><strong>test/test.html</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>./jest-selenium-browserstack-example.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">'</span>JestSeleniumBrowserStackExample.write(\"output\")<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>copy<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>write<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>output<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>not working<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>All files listed above are available inside <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example/tree/master/test\">test folder of Github example repository</a>. You may run <code class=\"language-text\">yarn test:local</code> in cloned repository to check if everything is working as expected.</p>\n<blockquote>\n<p>NOTE! In order to run Selenium tests locally you will have to download and install approperiate driver, which is geckodriver in this case. It may be downloaded directly from <a href=\"https://github.com/mozilla/geckodriver/releases\">official Mozilla repository</a> .</p>\n</blockquote>\n<h2>Solution</h2>\n<p>The following solution will use <a href=\"https://www.browserstack.com/automate/node#setting-local-tunnel\">Automate with Local Testing</a> for running fully automated tests on selected version of OS and browser.\nIn order to simplify things a bit, I assume that you're working on a Unix system (e.g. Ubuntu, Mac OS X). Windows commands will be different only when it comes to <strong>BrowserStackLocal</strong> executable.</p>\n<h3>1. What is BrowserStackLocal?</h3>\n<p>After reading <a href=\"https://www.browserstack.com/automate/node\">https://www.browserstack.com/automate/node</a> you may already know that <strong>BrowserStackLocal</strong> is \"something\" that can be useful in tests.\nUnfortunately, I didn't find any clear information about how to use it for integration with test (maybe I didn't look carefully enough).</p>\n<p>For starters, just run <a href=\"https://www.browserstack.com/automate/node#local-testing-getting-started\">downloaded</a> <strong>BrowserStackLocal</strong> to check if it works. You will have to provide the <code class=\"language-text\">--key</code> argument with your BrowserStack key (as in <a href=\"https://www.browserstack.com/automate/node#doc-platform-tab\">official docs</a>) e.g. <code class=\"language-text\">Asdafklwe12312kldfasfmaMD</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">./BrowserStackLocal --key <span class=\"token punctuation\">[</span>YOUR_BROWSERSTACK_KEY<span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>As a result, you will get some output. Exact messages doesn't matter, just make sure that there are no errors at this point.\nNow run it with additional <code class=\"language-text\">--folder $(pwd)</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">./BrowserStackLocal --key <span class=\"token punctuation\">[</span>YOUR_BROWSERSTACK_KEY<span class=\"token punctuation\">]</span> --folder <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">pwd</span><span class=\"token variable\">)</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>As you can see on the output, the contents of the current folder will be available for your tests under unique URL <code class=\"language-text\">http://[YOUR_BROWSERSTACK_USERNAME].browserstack.com</code> where <code class=\"language-text\">[YOUR_BROWSERSTACK_USERNAME]</code> is your BrowserStack username.</p>\n<h3>2. Adjust/rewrite tests</h3>\n<p>By default, our test is run using the local Selenium webdriver e.g. <code class=\"language-text\">geckodriver</code> (for Firefox). We would like to run it with remote BrowserStack OS and browser. Exact BrowserStack webdriver settings are defined inside <code class=\"language-text\">capabilities</code> object.\nHere is an example:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">// for more options check https://www.browserstack.com/automate/capabilities</span>\n<span class=\"token keyword\">const</span> capabilities <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  build<span class=\"token punctuation\">:</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'../package.json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>version<span class=\"token punctuation\">,</span>\n  project<span class=\"token punctuation\">:</span> <span class=\"token string\">'jest-selenium-browserstack-example'</span><span class=\"token punctuation\">,</span>\n  browserName<span class=\"token punctuation\">:</span> <span class=\"token string\">'chrome'</span><span class=\"token punctuation\">,</span>\n  os<span class=\"token punctuation\">:</span> <span class=\"token string\">'Windows'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'browserstack.local'</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'browserstack.user'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'[YOUR_BROWSERSTACK_USERNAME]'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">'browserstack.key'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'[YOUR_BROWSERSTACK_KEY]'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>With the above configuration, you will run tests using the Google Chrome browser on Windows. Here is the code that initiates the driver.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">driver <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">webdriver<span class=\"token punctuation\">.</span>Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">usingServer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://hub-cloud.browserstack.com/wd/hub'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">withCapabilities</span><span class=\"token punctuation\">(</span>capabilities<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Remember to import the Selenium webdriver before using the above code.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> webdriver <span class=\"token keyword\">from</span> <span class=\"token string\">'selenium-webdriver'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>All this is described on the <a href=\"https://www.browserstack.com/automate/node\">official documentation pages</a>.</p>\n<p>The last important thing is to replace:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'file://'</span> <span class=\"token operator\">+</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'test.html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>with:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>\n<span class=\"token template-string\"><span class=\"token string\">`http://</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>capabilities<span class=\"token punctuation\">[</span><span class=\"token string\">'browserstack.user'</span><span class=\"token punctuation\">]</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.browserstack.com/test.html`</span></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Because local files are not directly available in the Browser Stack, you can access them only through a webserver (which serves files from <strong>BrowserStackLocal</strong> <code class=\"language-text\">--folder</code>). This makes sense if you think about running tests on multiple OSes because thanks to this webserver you don't have to copy files from one machine to the other, all you have to do is access the internal URL.</p>\n<p>At this stage, if you manually connect to BrowserStack using <code class=\"language-text\">./BroserStackLocal --key [bs_key] --folder $(pwd)</code> executed in the same folder as the test files, you should be able to completet all tests.</p>\n<blockquote>\n<p>NOTE! BrowserStack Selenium tests may require setting a Jest timeouts (default is 5s). This is especially true for connecting and disconnecting which tends to be time consuming process. I would advise something around 10-15s.</p>\n</blockquote>\n<p>If you clone <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example\">example repository</a> initiate <strong>BrowserStackLocal</strong> with <code class=\"language-text\">test/</code> directory inside <code class=\"language-text\">--folder</code> argument and then run <code class=\"language-text\">yarn test:manual</code> to view the results.</p>\n<p>Here is the test code described above <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/manual.test.js\">https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/manual.test.js</a>.</p>\n<h3>3. Automate BrowserStackLocal connection</h3>\n<p>Going further, it's time to go for more automated/autonomous approach.\nIf you don't want (and probably you should not) to implement NodeJS wrapper for <code class=\"language-text\">./BrowserStackLocal</code>, use the official one <a href=\"https://github.com/browserstack/browserstack-local-nodejs\">browserstack-local-nodejs</a>.\nThis package will handle the download of approperiate binary files for you and can serve as an interface between your tests and the <code class=\"language-text\">BrowserStackLocal</code> executable.</p>\n<blockquote>\n<p>To be honest I don't like the <strong>browserstack-local-nodejs</strong> package at all (callbacks, hard to debug, unused variables and more), but since this the official BrowserStack repository, we can hope that it will be maintained.</p>\n</blockquote>\n<p>Let's continue with examples.</p>\n<p>Here is how you may wrap <code class=\"language-text\">start</code> and <code class=\"language-text\">stop</code> methods from <strong>browserstack-local-nodejs</strong> to make them work with my beloved async/await syntax.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">connect</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    local<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span>BrowserStackLocalArgs<span class=\"token punctuation\">,</span> <span class=\"token parameter\">error</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">disconnect</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    local<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now you can use <code class=\"language-text\">await start()</code> and <code class=\"language-text\">await stop()</code> which is much more convenient.\nDon't forget to initialize <strong>browserstack-local-nodejs</strong> first, with:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> local <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">browserstack<span class=\"token punctuation\">.</span>Local</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>and set approperiate args for executable with:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> BrowserStackLocalArgs <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token string\">'[YOUR_BROWSERSTACK_KEY]'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// verbose: true,</span>\n  onlyAutomate<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// eslint-disable-next-line</span>\n  folder<span class=\"token punctuation\">:</span> __dirname<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Then connect with BrowserStack by awaiting for <code class=\"language-text\">start()</code> function.\nYou should do this <strong>before</strong> running the webdriver.\nHere's how <code class=\"language-text\">beforeAll()</code> looks like for your tests:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  <span class=\"token function\">beforeAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// BrowserStackLocal has to be ready before webdriver initialization</span>\n      <span class=\"token keyword\">await</span> <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      driver <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">webdriver<span class=\"token punctuation\">.</span>Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">usingServer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://hub-cloud.browserstack.com/wd/hub'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">withCapabilities</span><span class=\"token punctuation\">(</span>capabilities<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>\n        <span class=\"token template-string\"><span class=\"token string\">`http://</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>\n          capabilities<span class=\"token punctuation\">[</span><span class=\"token string\">'browserstack.user'</span><span class=\"token punctuation\">]</span>\n        <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.browserstack.com/test.html`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'connetion error'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// IMPORTANT! Selenium and Browserstack needs more time than regular Jest</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The tests should not require any changes. Remember about disconnecting from BrowserStack after finishing tests.\nYou can do it with:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  <span class=\"token function\">afterAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">quit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ~ 11 s !</span>\n      <span class=\"token keyword\">await</span> <span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ~ 3 s</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'disconnection error'</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// IMPORTANT! Selenium and Browserstack needs a lot of time!</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<blockquote>\n<p>NOTE! At least in my case the disconnection after testing takes really long, which is why I set 20 seconds as a <code class=\"language-text\">afterAll</code> timeout.</p>\n</blockquote>\n<blockquote>\n<p>NOTE! If the waiting time is too short, you'll probably run into this message: <strong>Jest did not exit one second after the test run has completed</strong>. When it appears, check your system process/task manager and kill BrowserStackLocal process(es) which may not close/stop correctly.</p>\n</blockquote>\n<p>This is it. If you have any questions do not hestitate to ask and check out a sample repository that should help you a lot (I hope).</p>\n<p>If you clone <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example\">example repository</a> just run <code class=\"language-text\">yarn test:automate</code> to view the results.</p>\n<p>Here is the test code described above <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/automate.test.js\">https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/automate.test.js</a>.</p>\n<p>In the part 2 of this \"series\" I will present a way to run tests for many browsers and OSes at once, see <a href=\"https://www.grzegorowski.com/integration-tests-with-jest-selenium-and-browserstack-part-2/\">https://www.grzegorowski.com/integration-tests-with-jest-selenium-and-browserstack-part-2/</a>.</p>\n<h2>Sources</h2>\n<p><a href=\"https://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/index.html\">https://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/index.html</a> - Selenium documentation\n<a href=\"https://github.com/Hyddan/se-runner-browserstack-example#readme\">https://github.com/Hyddan/se-runner-browserstack-example#readme</a> - first inspiration for automated tests with BrowserStack\n<a href=\"https://github.com/browserstack/browserstack-local-nodejs\">https://github.com/browserstack/browserstack-local-nodejs</a> - finally a working example of BrowserStack integration\n<a href=\"https://www.browserstack.com/automate/node\">https://www.browserstack.com/automate/node</a> - useful official NodeJS documentation\n<a href=\"https://blog.evantahler.com/testing-javascript-applications-with-selenium-async-await-and-jest-7580ed074f2b\">https://blog.evantahler.com/testing-javascript-applications-with-selenium-async-await-and-jest-7580ed074f2b</a> - nice setup of Jest and Selenium without BrowserStack\n<a href=\"https://www.browserstack.com/local-testing#modifiers\">https://www.browserstack.com/local-testing#modifiers</a> - BrowserStackLocal argument list\n<a href=\"https://github.com/Hyddan/se-runner\">https://github.com/Hyddan/se-runner</a> - one of the inspirations (uses Grunt and Jasmine)</p>","timeToRead":9,"rawMarkdownBody":"Although there is much useful information on the official BrowserStack website, you will certainly have a lot of questions when you run tests for the first time. I will try to explain how to deal with it based on a simple example which uses Jest and Selenium.\n\n**There is no problem in running [Jest](https://jestjs.io) with BrowserStack, despite the lack of documentation or examples.**\n\nTLDR; Check the [example repository](https://github.com/jmarceli/jest-selenium-browserstack-example) it should be self-explanatory.\n\n## Starting point\n\nI have Selenium-based tests that I can run locally. How do I load BrowserStack and run tests against their browsers?\n\nIt seems that it is quite simple and typical task.\n\nHere is an example of a basic Selenium test powered by Jest. It will be used to show how to integrate existing code with [BrowserStack Automate](https://www.browserstack.com/docs?product=automate) testing service.\n\n**test/local.test.js**\n```javascript\nimport { Builder, By, until } from 'selenium-webdriver';\nimport firefox from 'selenium-webdriver/firefox';\nimport path from 'path';\n\nconst getElementById = async (driver, id, timeout = 2000) => {\n  const el = await driver.wait(until.elementLocated(By.id(id)), timeout);\n  return await driver.wait(until.elementIsVisible(el), timeout);\n};\n\ndescribe('webdriver', () => {\n  let driver;\n\n  beforeAll(async () => {\n    const options = new firefox.Options();\n    options.headless();\n    driver = new Builder()\n      .forBrowser('firefox')\n      .setFirefoxOptions(options)\n      .build();\n\n    // eslint-disable-next-line no-undef\n    await driver.get('file://' + path.join(__dirname, 'test.html'));\n  });\n\n  afterAll(async () => {\n    await driver.quit();\n  });\n\n  test('test', async () => {\n    const btn = await getElementById(driver, 'test-button');\n    await btn.click();\n\n    const output = await getElementById(driver, 'output');\n    const outputVal = await output.getAttribute('value');\n\n    expect(outputVal).toEqual('Something');\n  });\n});\n```\n\nAs you can see, this is a simple example in which after clicking on **#myBtn** we expect to have **Something** as value of the **#output** input HTML element. Here's tested code.\n\n**test/jest-selenium-browserstack-example.js**\n```javascript\nvar JestSeleniumBrowserStackExample = (function (exports) {\n  'use strict';\n\n  var write = function write(elementId) {\n    var el = document.getElementById(elementId);\n    el.value = 'Something';\n  };\n\n  exports.write = write;\n\n  return exports;\n\n}({}));\n```\n\nHere is a local HTML file used for testing in browser.\n\n**test/test.html**\n```html\n<html>\n  <head>\n    <script src=\"./jest-selenium-browserstack-example.js\" type=\"text/javascript\"></script>\n  </head>\n  <body>\n    <button onClick='JestSeleniumBrowserStackExample.write(\"output\")' id=\"copy\">write</button>\n    <input id=\"output\" value=\"not working\" />\n  </body>\n</html>\n```\n\nAll files listed above are available inside [test folder of Github example repository](https://github.com/jmarceli/jest-selenium-browserstack-example/tree/master/test). You may run `yarn test:local` in cloned repository to check if everything is working as expected.\n\n> NOTE! In order to run Selenium tests locally you will have to download and install approperiate driver, which is geckodriver in this case. It may be downloaded directly from [official Mozilla repository](https://github.com/mozilla/geckodriver/releases) .\n\n## Solution\n\nThe following solution will use [Automate with Local Testing](https://www.browserstack.com/automate/node#setting-local-tunnel) for running fully automated tests on selected version of OS and browser.\nIn order to simplify things a bit, I assume that you're working on a Unix system (e.g. Ubuntu, Mac OS X). Windows commands will be different only when it comes to **BrowserStackLocal** executable.\n\n### 1. What is BrowserStackLocal?\n\nAfter reading https://www.browserstack.com/automate/node you may already know that **BrowserStackLocal** is \"something\" that can be useful in tests.\nUnfortunately, I didn't find any clear information about how to use it for integration with test (maybe I didn't look carefully enough).\n\nFor starters, just run [downloaded](https://www.browserstack.com/automate/node#local-testing-getting-started) **BrowserStackLocal** to check if it works. You will have to provide the `--key` argument with your BrowserStack key (as in [official docs](https://www.browserstack.com/automate/node#doc-platform-tab)) e.g. `Asdafklwe12312kldfasfmaMD`:\n\n```bash\n./BrowserStackLocal --key [YOUR_BROWSERSTACK_KEY]\n```\n\nAs a result, you will get some output. Exact messages doesn't matter, just make sure that there are no errors at this point.\nNow run it with additional `--folder $(pwd)`.\n\n```bash\n./BrowserStackLocal --key [YOUR_BROWSERSTACK_KEY] --folder $(pwd)\n```\n\nAs you can see on the output, the contents of the current folder will be available for your tests under unique URL `http://[YOUR_BROWSERSTACK_USERNAME].browserstack.com` where `[YOUR_BROWSERSTACK_USERNAME]` is your BrowserStack username.\n\n### 2. Adjust/rewrite tests\n\nBy default, our test is run using the local Selenium webdriver e.g. `geckodriver` (for Firefox). We would like to run it with remote BrowserStack OS and browser. Exact BrowserStack webdriver settings are defined inside `capabilities` object.\nHere is an example:\n\n```javascript\n// for more options check https://www.browserstack.com/automate/capabilities\nconst capabilities = {\n  build: require('../package.json').version,\n  project: 'jest-selenium-browserstack-example',\n  browserName: 'chrome',\n  os: 'Windows',\n  'browserstack.local': true,\n  'browserstack.user': '[YOUR_BROWSERSTACK_USERNAME]',\n  'browserstack.key': '[YOUR_BROWSERSTACK_KEY]',\n};\n```\n\nWith the above configuration, you will run tests using the Google Chrome browser on Windows. Here is the code that initiates the driver.\n\n```javascript\ndriver = new webdriver.Builder()\n  .usingServer('http://hub-cloud.browserstack.com/wd/hub')\n  .withCapabilities(capabilities)\n  .build();\n```\n\nRemember to import the Selenium webdriver before using the above code.\n\n```javascript\nimport webdriver from 'selenium-webdriver';\n```\n\nAll this is described on the [official documentation pages](https://www.browserstack.com/automate/node).\n\nThe last important thing is to replace:\n\n```javascript\nawait driver.get('file://' + path.join(__dirname, 'test.html'));\n```\n\nwith:\n\n```javascript\nawait driver.get(\n`http://${capabilities['browserstack.user']}.browserstack.com/test.html`\n);\n```\nBecause local files are not directly available in the Browser Stack, you can access them only through a webserver (which serves files from **BrowserStackLocal** `--folder`). This makes sense if you think about running tests on multiple OSes because thanks to this webserver you don't have to copy files from one machine to the other, all you have to do is access the internal URL.\n\nAt this stage, if you manually connect to BrowserStack using `./BroserStackLocal --key [bs_key] --folder $(pwd)` executed in the same folder as the test files, you should be able to completet all tests.\n\n> NOTE! BrowserStack Selenium tests may require setting a Jest timeouts (default is 5s). This is especially true for connecting and disconnecting which tends to be time consuming process. I would advise something around 10-15s.\n\nIf you clone [example repository](https://github.com/jmarceli/jest-selenium-browserstack-example) initiate **BrowserStackLocal** with `test/` directory inside `--folder` argument and then run `yarn test:manual` to view the results.\n\nHere is the test code described above https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/manual.test.js.\n\n### 3. Automate BrowserStackLocal connection\n\nGoing further, it's time to go for more automated/autonomous approach.\nIf you don't want (and probably you should not) to implement NodeJS wrapper for `./BrowserStackLocal`, use the official one [browserstack-local-nodejs](https://github.com/browserstack/browserstack-local-nodejs).\nThis package will handle the download of approperiate binary files for you and can serve as an interface between your tests and the `BrowserStackLocal` executable.\n\n> To be honest I don't like the **browserstack-local-nodejs** package at all (callbacks, hard to debug, unused variables and more), but since this the official BrowserStack repository, we can hope that it will be maintained.\n\nLet's continue with examples.\n\nHere is how you may wrap `start` and `stop` methods from **browserstack-local-nodejs** to make them work with my beloved async/await syntax.\n\n```javascript\n\nconst connect = async () =>\n  new Promise((resolve, reject) => {\n    local.start(BrowserStackLocalArgs, error => {\n      if (error) {\n        reject(error);\n      }\n      resolve();\n    });\n  });\n\nconst disconnect = async () =>\n  new Promise((resolve, reject) => {\n    local.stop(function(error) {\n      if (error) {\n        reject(error);\n      }\n\n      resolve();\n    });\n  });\n```\n\nNow you can use `await start()` and `await stop()` which is much more convenient.\nDon't forget to initialize **browserstack-local-nodejs** first, with:\n\n```javascript\nconst local = new browserstack.Local();\n```\n\nand set approperiate args for executable with:\n\n```javascript\nconst BrowserStackLocalArgs = {\n  key: '[YOUR_BROWSERSTACK_KEY]',\n  // verbose: true,\n  onlyAutomate: true,\n  // eslint-disable-next-line\n  folder: __dirname,\n};\n```\n\nThen connect with BrowserStack by awaiting for `start()` function.\nYou should do this **before** running the webdriver.\nHere's how `beforeAll()` looks like for your tests:\n\n```javascript\n  beforeAll(async () => {\n    try {\n      // BrowserStackLocal has to be ready before webdriver initialization\n      await start();\n      driver = new webdriver.Builder()\n        .usingServer('http://hub-cloud.browserstack.com/wd/hub')\n        .withCapabilities(capabilities)\n        .build();\n\n      await driver.get(\n        `http://${\n          capabilities['browserstack.user']\n        }.browserstack.com/test.html`,\n      );\n    } catch (error) {\n      console.error('connetion error', error);\n    }\n    // IMPORTANT! Selenium and Browserstack needs more time than regular Jest\n  }, 10000);\n```\n\nThe tests should not require any changes. Remember about disconnecting from BrowserStack after finishing tests.\nYou can do it with:\n\n```javascript\n  afterAll(async () => {\n    try {\n      await driver.quit(); // ~ 11 s !\n      await stop(); // ~ 3 s\n    } catch (error) {\n      console.error('disconnection error', error);\n    }\n    // IMPORTANT! Selenium and Browserstack needs a lot of time!\n  }, 20000);\n```\n\n> NOTE! At least in my case the disconnection after testing takes really long, which is why I set 20 seconds as a `afterAll` timeout.\n\n> NOTE! If the waiting time is too short, you'll probably run into this message: **Jest did not exit one second after the test run has completed**. When it appears, check your system process/task manager and kill BrowserStackLocal process(es) which may not close/stop correctly.\n\nThis is it. If you have any questions do not hestitate to ask and check out a sample repository that should help you a lot (I hope).\n\nIf you clone [example repository](https://github.com/jmarceli/jest-selenium-browserstack-example) just run `yarn test:automate` to view the results.\n\nHere is the test code described above https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/automate.test.js.\n\nIn the part 2 of this \"series\" I will present a way to run tests for many browsers and OSes at once, see https://www.grzegorowski.com/integration-tests-with-jest-selenium-and-browserstack-part-2/.\n\n## Sources\n\nhttps://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/index.html - Selenium documentation\nhttps://github.com/Hyddan/se-runner-browserstack-example#readme - first inspiration for automated tests with BrowserStack\nhttps://github.com/browserstack/browserstack-local-nodejs - finally a working example of BrowserStack integration\nhttps://www.browserstack.com/automate/node - useful official NodeJS documentation\nhttps://blog.evantahler.com/testing-javascript-applications-with-selenium-async-await-and-jest-7580ed074f2b - nice setup of Jest and Selenium without BrowserStack\nhttps://www.browserstack.com/local-testing#modifiers - BrowserStackLocal argument list\nhttps://github.com/Hyddan/se-runner - one of the inspirations (uses Grunt and Jasmine)\n","excerpt":"Although there is much useful information on the official BrowserStack website, you will certainly have a lot of questions when you run…","frontmatter":{"title":"Integration tests with Jest, Selenium and BrowserStack - part 1 - simple example","slug":"integration-tests-with-jest-selenium-and-browserstack","date":"2018-10-30T09:29:00.000Z","tags":["javascript","tools"],"date_created":"2018-11-20T10:58:51.000Z","date_updated":"2018-11-04T18:01:19.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1513611771808-7e8ab7f1dec6.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBP/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABXvl2MkjSP//EABoQAAIDAQEAAAAAAAAAAAAAAAABAxETAjL/2gAIAQEAAQUCid9ZmYola8n/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAADAAMAAAAAAAAAAAAAAAACEBExgZH/2gAIAQEABj8CkPbyXX//xAAZEAADAAMAAAAAAAAAAAAAAAAAAREQMUH/2gAIAQEAAT8hcje7GDCglxXRn//aAAwDAQACAAMAAAAQVP8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/EKx//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERMSFx/9oACAEBAAE/EIP1xGF60VNQi9Yn93tDtUaa9Zo//9k=","aspectRatio":1.5,"src":"/static/77532cba5dddbaa1e8170b8f97b35b49/775d9/photo-1513611771808-7e8ab7f1dec6.jpg","srcSet":"/static/77532cba5dddbaa1e8170b8f97b35b49/cb3d3/photo-1513611771808-7e8ab7f1dec6.jpg 150w,\n/static/77532cba5dddbaa1e8170b8f97b35b49/c83a6/photo-1513611771808-7e8ab7f1dec6.jpg 300w,\n/static/77532cba5dddbaa1e8170b8f97b35b49/775d9/photo-1513611771808-7e8ab7f1dec6.jpg 600w,\n/static/77532cba5dddbaa1e8170b8f97b35b49/2b1a3/photo-1513611771808-7e8ab7f1dec6.jpg 900w,\n/static/77532cba5dddbaa1e8170b8f97b35b49/90537/photo-1513611771808-7e8ab7f1dec6.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"1f94c718-6955-5082-8dd2-901e97109cad","html":"<p>As described in <a href=\"https://www.grzegorowski.com/integration-tests-with-jest-selenium-and-browserstack/\">part 1</a> you can run Jest based tests with BrowserStack service. Now I will show how they can be automatically run against many browsers and OSes.</p>\n<h2>Parametrized tests</h2>\n<p>Probably the most simple way to convert <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/automate.test.js\">single-browser automatic Browserstack test</a> to multi browser/OS is parametrization using enironment variables. Here is how it might be done regarding example test file <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/automate.test.js\">test/automate.test.js</a>.</p>\n<p>Replace the following lines from <code class=\"language-text\">capabilities</code> object:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  browserName<span class=\"token punctuation\">:</span> <span class=\"token string\">'chrome'</span><span class=\"token punctuation\">,</span>\n  os<span class=\"token punctuation\">:</span> <span class=\"token string\">'Windows'</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>with:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  browserName<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">BROWSER</span><span class=\"token punctuation\">,</span>\n  os<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">OS</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>This is it! Now you may run tests against any browser and OS available in BrowserStack service.\nExample:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">OS<span class=\"token operator\">=</span>Windows BROWSER<span class=\"token operator\">=</span>chrome <span class=\"token function\">yarn</span> jest ./test/parametrized.test.js</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Provided that your parametrized tests file path is: <code class=\"language-text\">./test/parametrized.test.js</code></p>\n<p>Running against multiple browsers and OSes might be achieved by chaining execution of commands like:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">OS<span class=\"token operator\">=</span>Windows BROWSER<span class=\"token operator\">=</span>chrome <span class=\"token function\">yarn</span> jest ./test/parametrized.test.js <span class=\"token operator\">&amp;&amp;</span> OS<span class=\"token operator\">=</span>Windows BROWSER<span class=\"token operator\">=</span>firefox <span class=\"token function\">yarn</span> jest ./test/parametrized.test.js</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>or (if you don't care about possible previous command errors):</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">OS<span class=\"token operator\">=</span>Windows BROWSER<span class=\"token operator\">=</span>chrome <span class=\"token function\">yarn</span> jest ./test/parametrized.test.js<span class=\"token punctuation\">;</span> OS<span class=\"token operator\">=</span>Windows BROWSER<span class=\"token operator\">=</span>firefox <span class=\"token function\">yarn</span> jest ./test/parametrized.test.js</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>As you may expect, this is not the most effective method, because the connection to BrowserStack service is opened and closed for each command executed.</p>\n<h2>Sequential tests</h2>\n<p>Another option is to write a sequential test wrapper that will run selected tests against browsers defined in the <code class=\"language-text\">config.json</code> file one after another. It is a bit more complicated as it requires tests code refactoring.</p>\n<p>Here is an example content of a <code class=\"language-text\">config.json</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"browsers\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"browserName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"internet explorer\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"10.0\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"browserName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"chrome\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"22.0\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The file structure is based on the official <code class=\"language-text\">example/config.json</code> from <a href=\"https://www.browserstack.com/automate/node#wd\">https://www.browserstack.com/automate/node#wd</a>. Check the <a href=\"https://www.browserstack.com/automate/capabilities\">https://www.browserstack.com/automate/capabilities</a> for list of all available keys.</p>\n<p>The general idea is to connect to BrowserStackLocal, run tests for all browsers defined inside the <code class=\"language-text\">config.json</code> file and finally disconnect. To achieve this, we will use the <code class=\"language-text\">beforeAll</code> and <code class=\"language-text\">afterAll</code> hooks to handle BrowserStack connection. After establishing a connection with BrowserStackLocal we will loop through all browser versions from config file and run tests for each of them. Here's how it can look.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> webdriver <span class=\"token keyword\">from</span> <span class=\"token string\">'selenium-webdriver'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> browserstack <span class=\"token keyword\">from</span> <span class=\"token string\">'browserstack-local'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> local <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">browserstack<span class=\"token punctuation\">.</span>Local</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> until <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>until<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> By <span class=\"token operator\">=</span> webdriver<span class=\"token punctuation\">.</span>By<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./config.json'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> BrowserStackLocalArgs <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  onlyAutomate<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  folder<span class=\"token punctuation\">:</span> __dirname<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">start</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    local<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span>BrowserStackLocalArgs<span class=\"token punctuation\">,</span> <span class=\"token parameter\">error</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">stop</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    local<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getElementById</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">driver<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">,</span> timeout <span class=\"token operator\">=</span> <span class=\"token number\">5000</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> el <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span>until<span class=\"token punctuation\">.</span><span class=\"token function\">elementLocated</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span><span class=\"token function\">id</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> timeout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span>until<span class=\"token punctuation\">.</span><span class=\"token function\">elementIsVisible</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> timeout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">beforeAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">afterAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">await</span> <span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> browser <span class=\"token keyword\">of</span> config<span class=\"token punctuation\">.</span>browsers<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> driver<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> capabilities <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    os<span class=\"token punctuation\">:</span> <span class=\"token string\">'Windows'</span><span class=\"token punctuation\">,</span>\n    build<span class=\"token punctuation\">:</span> <span class=\"token string\">'0.1.0'</span><span class=\"token punctuation\">,</span>\n    project<span class=\"token punctuation\">:</span> <span class=\"token string\">'jest-selenium-browserstack-example'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'browserstack.local'</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'browserstack.user'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'browserstack.key'</span><span class=\"token punctuation\">:</span> BrowserStackLocalArgs<span class=\"token punctuation\">.</span>key<span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">...</span>browser<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">describe</span><span class=\"token punctuation\">(</span>\n    <span class=\"token string\">'selenium webdriver'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">beforeAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        driver <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">webdriver<span class=\"token punctuation\">.</span>Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">usingServer</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://hub-cloud.browserstack.com/wd/hub'</span><span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">withCapabilities</span><span class=\"token punctuation\">(</span>capabilities<span class=\"token punctuation\">)</span>\n          <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'driver start'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token function\">afterAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">quit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'driver quit'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`desc </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>capabilities<span class=\"token punctuation\">.</span>browserName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`test </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>capabilities<span class=\"token punctuation\">.</span>browserName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tests start'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>\n            <span class=\"token template-string\"><span class=\"token string\">`http://</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>\n              capabilities<span class=\"token punctuation\">[</span><span class=\"token string\">'browserstack.user'</span><span class=\"token punctuation\">]</span>\n            <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.browserstack.com/test.html`</span></span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">const</span> btn <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> <span class=\"token string\">'test-button'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">await</span> btn<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n          <span class=\"token keyword\">const</span> output <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> <span class=\"token string\">'output'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          <span class=\"token keyword\">const</span> outputVal <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> output<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">'value'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n          <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>outputVal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Something'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n          console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tests end'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token number\">30000</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Although it seems quite easy, you need to take care of several things:</p>\n<ol>\n<li><code class=\"language-text\">describe</code> can not use <code class=\"language-text\">async</code> function, so there is no way to prepare <code class=\"language-text\">driver</code> instance to use directly inside <code class=\"language-text\">describe</code> block, it can be used only inside <code class=\"language-text\">test</code> body, which may be asynchronous</li>\n<li>Jest scoping is a topic which is worth refreshing to fully understand what is going on in the presented code <a href=\"https://jestjs.io/docs/en/setup-teardown#scoping\">https://jestjs.io/docs/en/setup-teardown#scoping</a></li>\n<li><code class=\"language-text\">beforeAll</code> and <code class=\"language-text\">afterAll</code> are scoped by <code class=\"language-text\">describe</code> blocks and what is more important both of them supports asynchronous function as an argument</li>\n<li>Remember about timeouts, default 5s is often not enough</li>\n</ol>\n<p>More details and sample files can be found in this repository <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example\">https://github.com/jmarceli/jest-selenium-browserstack-example</a>, especially in <code class=\"language-text\">test/sequential.test.js</code> file.</p>\n<h2>Sources</h2>\n<p><a href=\"https://www.browserstack.com/automate/node\">https://www.browserstack.com/automate/node</a>\n<a href=\"https://www.browserstack.com/list-of-browsers-and-platforms?product=automate\">https://www.browserstack.com/list-of-browsers-and-platforms?product=automate</a></p>","timeToRead":4,"rawMarkdownBody":"As described in [part 1](https://www.grzegorowski.com/integration-tests-with-jest-selenium-and-browserstack/) you can run Jest based tests with BrowserStack service. Now I will show how they can be automatically run against many browsers and OSes.\n\n## Parametrized tests\n\nProbably the most simple way to convert [single-browser automatic Browserstack test](https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/automate.test.js) to multi browser/OS is parametrization using enironment variables. Here is how it might be done regarding example test file [test/automate.test.js](https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/automate.test.js).\n\nReplace the following lines from `capabilities` object:\n\n```javascript\n  browserName: 'chrome',\n  os: 'Windows',\n```\n\nwith:\n\n```javascript\n  browserName: process.env.BROWSER,\n  os: process.env.OS,\n```\n\nThis is it! Now you may run tests against any browser and OS available in BrowserStack service.\nExample:\n\n```bash\nOS=Windows BROWSER=chrome yarn jest ./test/parametrized.test.js\n```\n\nProvided that your parametrized tests file path is: `./test/parametrized.test.js`\n\nRunning against multiple browsers and OSes might be achieved by chaining execution of commands like:\n\n```bash\nOS=Windows BROWSER=chrome yarn jest ./test/parametrized.test.js && OS=Windows BROWSER=firefox yarn jest ./test/parametrized.test.js\n```\n\nor (if you don't care about possible previous command errors):\n\n```bash\nOS=Windows BROWSER=chrome yarn jest ./test/parametrized.test.js; OS=Windows BROWSER=firefox yarn jest ./test/parametrized.test.js\n```\n\nAs you may expect, this is not the most effective method, because the connection to BrowserStack service is opened and closed for each command executed.\n\n## Sequential tests\n\nAnother option is to write a sequential test wrapper that will run selected tests against browsers defined in the `config.json` file one after another. It is a bit more complicated as it requires tests code refactoring.\n\nHere is an example content of a `config.json`:\n\n```json\n{\n  \"browsers\": [\n    {\n      \"browserName\": \"internet explorer\",\n      \"version\": \"10.0\"\n    },\n    {\n      \"browserName\": \"chrome\",\n      \"version\": \"22.0\"\n    }\n  ],\n}\n```\n\nThe file structure is based on the official `example/config.json` from https://www.browserstack.com/automate/node#wd. Check the https://www.browserstack.com/automate/capabilities for list of all available keys.\n\nThe general idea is to connect to BrowserStackLocal, run tests for all browsers defined inside the `config.json` file and finally disconnect. To achieve this, we will use the `beforeAll` and `afterAll` hooks to handle BrowserStack connection. After establishing a connection with BrowserStackLocal we will loop through all browser versions from config file and run tests for each of them. Here's how it can look.\n\n```javascript\nimport webdriver from 'selenium-webdriver';\nimport browserstack from 'browserstack-local';\n\nconst local = new browserstack.Local();\nconst until = webdriver.until;\nconst By = webdriver.By;\n\nconst config = require('./config.json');\n\nconst BrowserStackLocalArgs = {\n  key: '',\n  onlyAutomate: true,\n  folder: __dirname,\n};\n\nconst start = async () =>\n  new Promise((resolve, reject) => {\n    local.start(BrowserStackLocalArgs, error => {\n      if (error) {\n        reject(error);\n      }\n      resolve();\n    });\n  });\n\nconst stop = async () =>\n  new Promise((resolve, reject) => {\n    local.stop(function(error) {\n      if (error) {\n        reject(error);\n      }\n      resolve();\n    });\n  });\n\nconst getElementById = async (driver, id, timeout = 5000) => {\n  const el = await driver.wait(until.elementLocated(By.id(id)), timeout);\n  return await driver.wait(until.elementIsVisible(el), timeout);\n};\n\nbeforeAll(async () => {\n  await start();\n}, 20000);\n\nafterAll(async () => {\n  await stop();\n}, 20000);\n\nfor (const browser of config.browsers) {\n  let driver;\n  const capabilities = {\n    os: 'Windows',\n    build: '0.1.0',\n    project: 'jest-selenium-browserstack-example',\n    'browserstack.local': true,\n    'browserstack.user': '',\n    'browserstack.key': BrowserStackLocalArgs.key,\n    ...browser,\n  };\n\n  describe(\n    'selenium webdriver',\n    () => {\n      beforeAll(async () => {\n        driver = await new webdriver.Builder()\n          .usingServer('http://hub-cloud.browserstack.com/wd/hub')\n          .withCapabilities(capabilities)\n          .build();\n        console.log('driver start');\n      }, 20000);\n\n      afterAll(async () => {\n        await driver.quit();\n        console.log('driver quit');\n      }, 20000);\n\n      describe(`desc ${capabilities.browserName}`, () => {\n        test(`test ${capabilities.browserName}`, async () => {\n          console.log('tests start');\n          await driver.get(\n            `http://${\n              capabilities['browserstack.user']\n            }.browserstack.com/test.html`,\n          );\n          const btn = await getElementById(driver, 'test-button');\n          await btn.click();\n\n          const output = await getElementById(driver, 'output');\n          const outputVal = await output.getAttribute('value');\n\n          expect(outputVal).toEqual('Something');\n          console.log('tests end');\n        });\n      });\n    },\n    30000,\n  );\n}\n```\n\nAlthough it seems quite easy, you need to take care of several things:\n\n1. `describe` can not use `async` function, so there is no way to prepare `driver` instance to use directly inside `describe` block, it can be used only inside `test` body, which may be asynchronous\n2. Jest scoping is a topic which is worth refreshing to fully understand what is going on in the presented code https://jestjs.io/docs/en/setup-teardown#scoping\n3. `beforeAll` and `afterAll` are scoped by `describe` blocks and what is more important both of them supports asynchronous function as an argument\n4. Remember about timeouts, default 5s is often not enough\n\nMore details and sample files can be found in this repository https://github.com/jmarceli/jest-selenium-browserstack-example, especially in `test/sequential.test.js` file.\n\n## Sources\n\nhttps://www.browserstack.com/automate/node\nhttps://www.browserstack.com/list-of-browsers-and-platforms?product=automate\n","excerpt":"As described in part 1 you can run Jest based tests with BrowserStack service. Now I will show how they can be automatically run against…","frontmatter":{"title":"Integration tests with Jest, Selenium and BrowserStack - part 2 - multiple browsers","slug":"integration-tests-with-jest-selenium-and-browserstack-part-2","date":"2018-11-03T02:58:00.000Z","tags":["frontend","javascript"],"date_created":"2018-11-06T02:33:54.000Z","date_updated":"2018-11-04T18:17:34.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1517607537732-619ace47ec9e.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwAE/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAYspJWCP/8QAHBAAAQQDAQAAAAAAAAAAAAAAAAIDERIBBBAy/9oACAEBAAEFAk7FzC7D8Ou+SY5//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHBAAAgICAwAAAAAAAAAAAAAAAREAIQIxEEFh/9oACAEBAAY/AiEHtwl6uHIIeSp3x//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExQWH/2gAIAQEAAT8hED0kcIpPDwgQz1AAchSrGD0cit8hP//aAAwDAQACAAMAAAAQXM//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCq/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/EBF//8QAGxABAAMBAQEBAAAAAAAAAAAAAQARIUExYZH/2gAIAQEAAT8QHVN4GjTxZVYBpQoywy62Ko4AOFHwiXqmhiaedlniVnS55FnPyf/Z","aspectRatio":1.5,"src":"/static/4035689e780baa3abd3793f7b51bc335/775d9/photo-1517607537732-619ace47ec9e.jpg","srcSet":"/static/4035689e780baa3abd3793f7b51bc335/cb3d3/photo-1517607537732-619ace47ec9e.jpg 150w,\n/static/4035689e780baa3abd3793f7b51bc335/c83a6/photo-1517607537732-619ace47ec9e.jpg 300w,\n/static/4035689e780baa3abd3793f7b51bc335/775d9/photo-1517607537732-619ace47ec9e.jpg 600w,\n/static/4035689e780baa3abd3793f7b51bc335/2b1a3/photo-1517607537732-619ace47ec9e.jpg 900w,\n/static/4035689e780baa3abd3793f7b51bc335/90537/photo-1517607537732-619ace47ec9e.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"45c170bc-52e9-5579-b778-bc45e93bc5e6","html":"<p>Here is a description of common tools and files used to create a modern NPM package. Don't hesitate to clone my <a href=\"https://github.com/jmarceli/npm-lib-package-boilerplate\">npm-lib-package-boilerplate</a> repository to check the results before spending any time on reading this.</p>\n<p>Let's start with a list of development dependencies which I'm going to use throughout this article:</p>\n<ul>\n<li><a href=\"https://babeljs.io/\">Babel</a> - ES6-8 features transpiled to ES5</li>\n<li><a href=\"https://jestjs.io/\">Jest</a> - running tests and generate coverage reports</li>\n<li><a href=\"https://flow.org/\">Flow</a> - Javascript type checking</li>\n<li><a href=\"https://eslint.org/\">ESLint</a> - Javascript linting</li>\n<li><a href=\"https://travis-ci.org/\">Travis CI</a> - continuous integration</li>\n<li><a href=\"https://rollupjs.org\">Rollup</a> - package files building</li>\n</ul>\n<p>At the end of this text you should be more or less familiar with a purpose and usage of all packages listed above.</p>\n<p>NOTE: This build is aimed at generating NodeJS/Browser libraries but is not suitable for building/publishing web applications.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3319baddbbcf1935f186d44f2a73014d/c142b/babel.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 197px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 78.68020304568529%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBP/EABcBAAMBAAAAAAAAAAAAAAAAAAECAwX/2gAMAwEAAhADEAAAAe2LZF9Ah//EABgQAQEBAQEAAAAAAAAAAAAAAAECEBIT/9oACAEBAAEFAqsl9ZxgXic//8QAFREBAQAAAAAAAAAAAAAAAAAAECH/2gAIAQMBAT8Bp//EABURAQEAAAAAAAAAAAAAAAAAABAi/9oACAECAQE/AZP/xAAZEAACAwEAAAAAAAAAAAAAAAAAARARITH/2gAIAQEABj8CpmRbOR//xAAaEAADAQADAAAAAAAAAAAAAAAAATEREFGB/9oACAEBAAE/IUWjNXmn5xTAlReiH//aAAwDAQACAAMAAAAQVB//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/EB//xAAXEQADAQAAAAAAAAAAAAAAAAABESEQ/9oACAECAQE/EBNbz//EAB0QAQADAAIDAQAAAAAAAAAAAAEAESExUUFhkfD/2gAIAQEAAT8QVdNTMqFwPznh3+7IaRyK8oXCuKnox8QAAFBP/9k='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"babel\"\n        title=\"\"\n        src=\"/static/3319baddbbcf1935f186d44f2a73014d/c142b/babel.jpg\"\n        srcset=\"/static/3319baddbbcf1935f186d44f2a73014d/c142b/babel.jpg 197w\"\n        sizes=\"(max-width: 197px) 100vw, 197px\"\n      />\n  </span>\n  </a></p>\n<h2>Babel</h2>\n<p>Transpile (converts) ES6-8 Javascript syntax into ES5 compliant code.</p>\n<p>NOTE: These instructions are for Babel@6 despite the fact that Babel@7 is already available. It is so due to the fact that the latter is still not supported by all other dependencies. Especially Jest support for Babel@7 is not complete.</p>\n<p>Here is a command to execute in order to install Babel:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> --dev babel-core babel-cli babel-preset-env babel-plugin-transform-object-rest-spread</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Short explanation:</p>\n<ul>\n<li><code class=\"language-text\">babel-preset-env</code> - a starting point for all Babel custom presets (instructions what should be transpiled and how)</li>\n<li><code class=\"language-text\">babel-plugin-transform-object-rest-spread</code> - if you use spread operator anywhere you will need this one</li>\n</ul>\n<p>Finally an example of <strong>.babelrc</strong> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ensures most commonly used transpilations e.g. import</span>\n  <span class=\"token string\">\"presets\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"env\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// some additional plugins: Flow and Rewire (described in the Jest section)</span>\n  <span class=\"token string\">\"plugins\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"transform-flow-strip-types\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"babel-plugin-rewire\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>It will only be used for tests. You won't need it during build process because it will be handled by a <a href=\"#rollup\">Rollup</a>.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e91ab0590c5d35ff89504657950c88ce/bd8b1/jest.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 160px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 96.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAATABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQCBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHuwaF2smJqwrYZ/8QAGxAAAgIDAQAAAAAAAAAAAAAAAQIDIQAREhD/2gAIAQEAAQUCN50ulGlYEycBcjqOWpAoXz//xAAWEQEBAQAAAAAAAAAAAAAAAAABEDH/2gAIAQMBAT8BI5P/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AR//xAAgEAABAwMFAQAAAAAAAAAAAAABABEhAjFBEBIiQlFS/9oACAEBAAY/AmeV2t9ZQBRLQ+FyqG7xUv4g0PdQNP/EAB0QAQACAwADAQAAAAAAAAAAAAEAESExURBBYYH/2gAIAQEAAT8hqHEj9gWbYybV8RlCoZYCm4OrrvoiMpjjGuQINgTaHidwqiPH/9oADAMBAAIAAwAAABDo2ID/xAAXEQEBAQEAAAAAAAAAAAAAAAABADEQ/9oACAEDAQE/EAE7Yc//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAfEAEAAQQCAwEAAAAAAAAAAAABEQAhMUFhcRBRobH/2gAIAQEAAT8QieVRDA5KEs84kO+WGiUsEZV3REtcBbJHY+c0gjBbNRDeVvmjiQhHJaphO3B6flRgO0Lvbvx//9k='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"jest\"\n        title=\"\"\n        src=\"/static/e91ab0590c5d35ff89504657950c88ce/bd8b1/jest.jpg\"\n        srcset=\"/static/e91ab0590c5d35ff89504657950c88ce/bd8b1/jest.jpg 160w\"\n        sizes=\"(max-width: 160px) 100vw, 160px\"\n      />\n  </span>\n  </a></p>\n<h2>Jest</h2>\n<p>Next important package after Babel transpiler is Jest. Facebook alternative to the well known Mocha test runner. Here is an installation command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> --dev jest babel-jest babel-plugin-rewire</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>First two packages are more or less self-explanatory but the last one <code class=\"language-text\">babel-plugin-rewire</code> is in my opinion particularly useful. It let's you <a href=\"https://github.com/speedskater/babel-plugin-rewire\">test even non-exported functions</a> by getting their definitions through <code class=\"language-text\">__get__</code> method.</p>\n<p>As usual you will require some configuration file, which is named <strong>jest.config.js</strong>. It might be auto-generated with:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> jest --init</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>For start I would suggest you to leave <strong>jest.config.js</strong> without any changes as it should work in most cases.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5d84637d4e2302105b0bc7ad749ff59b/21825/flow.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 130px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 119.23076923076923%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAYABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAMBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAADAv/aAAwDAQACEAMQAAAB9nvZhdmGjiQKXCR//8QAGRABAAMBAQAAAAAAAAAAAAAAAQACITER/9oACAEBAAEFArKQcjF8TliWdOf/xAAZEQACAwEAAAAAAAAAAAAAAAAAMQECECH/2gAIAQMBAT8BeU6Sz//EABoRAQADAAMAAAAAAAAAAAAAAAEAAhEDITH/2gAIAQIBAT8BVq7DychnZKuk/8QAGhAAAQUBAAAAAAAAAAAAAAAAEAABESExYf/aAAgBAQAGPwJWeGHwf//EABsQAAMAAgMAAAAAAAAAAAAAAAABESFhMUFR/9oACAEBAAE/IX2iOFidVQtWjmB5HaiIDqYz/9oADAMBAAIAAwAAABAIF73/xAAYEQEBAQEBAAAAAAAAAAAAAAABABEhMf/aAAgBAwEBPxAwBk+3TGGK/8QAGBEBAQEBAQAAAAAAAAAAAAAAAQARMUH/2gAIAQIBAT8QYako3sBfScVv/8QAHBABAAMAAgMAAAAAAAAAAAAAAQARITFBYYGx/9oACAEBAAE/EGBgjIoUPNcw+ol0NPxMkKghA2adLl4nvZL3mB6yM0AKn//Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"flow\"\n        title=\"\"\n        src=\"/static/5d84637d4e2302105b0bc7ad749ff59b/21825/flow.jpg\"\n        srcset=\"/static/5d84637d4e2302105b0bc7ad749ff59b/21825/flow.jpg 130w\"\n        sizes=\"(max-width: 130px) 100vw, 130px\"\n      />\n  </span>\n  </a></p>\n<h2>Flow</h2>\n<p>Type checking the Facebook way. As for React based development Flow seems to me as more natural choice than Typescript, I've decided to use it also for my non-React projects.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> --dev flow-bin flow-typed babel-plugin-transform-flow-strip-types</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<ul>\n<li><code class=\"language-text\">flow-typed</code> is a library with typings (something similar to Typescript DefinitelyTyped)</li>\n<li><code class=\"language-text\">babel-plugin-transform-flow-strip-types</code> allows for using flow with Babel transpiler by stripping flow annotations when necessary</li>\n</ul>\n<p>Flow default configuration available in <strong>.flowconfig</strong> should match your base requirements.</p>\n<p>After all packages are in installed with Yarn execute <code class=\"language-text\">yarn flow-typed install</code> to get most recent types definitions.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6b0e393a42fbe0dd551e514cae0cce8e/91b8e/eslint.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 150px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 103.33333333333331%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAVABQDASIAAhEBAxEB/8QAGQABAQADAQAAAAAAAAAAAAAAAAQBAgUD/8QAGAEAAgMAAAAAAAAAAAAAAAAAAAECAwT/2gAMAwEAAhADEAAAAa/HPQ0LVEiWRCOsKn//xAAZEAEBAQEBAQAAAAAAAAAAAAADAgEEERP/2gAIAQEAAQUCRk1dhi2Ok6ka8drnDAcSOg8qAD6TE5E//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAGREBAAIDAAAAAAAAAAAAAAAAAQACEBEi/9oACAECAQE/AXl0ESgwslMf/8QAHxAAAgIBBAMAAAAAAAAAAAAAAAECEhEDITFRE0GR/9oACAEBAAY/Anpw2PJl/Td1fTHdYeR+xyfY5cSRaUiseD//xAAcEAADAAMAAwAAAAAAAAAAAAAAAREhMUFRYXH/2gAIAQEAAT8hczCcqWWygU90IDX0BeeDb4UNqsSnywGvJ35MuY+JCeiIf//aAAwDAQACAAMAAAAQGNfC/8QAGBEAAgMAAAAAAAAAAAAAAAAAACEQETH/2gAIAQMBAT8Q0ZTj/8QAGREBAQEAAwAAAAAAAAAAAAAAAQARIUGB/9oACAECAQE/EEhxHPZ4azzHuVXW/8QAHBABAAICAwEAAAAAAAAAAAAAAQARIUExUcGR/9oACAEBAAE/EAcBGxQ7cEsLFparek6nE1iKR9I5UNeK1w+TERaZLWDByxdgHtwwZFCXQ09wAB1cfs1iCXc//9k='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"eslint\"\n        title=\"\"\n        src=\"/static/6b0e393a42fbe0dd551e514cae0cce8e/91b8e/eslint.jpg\"\n        srcset=\"/static/6b0e393a42fbe0dd551e514cae0cce8e/91b8e/eslint.jpg 150w\"\n        sizes=\"(max-width: 150px) 100vw, 150px\"\n      />\n  </span>\n  </a></p>\n<h2>ESLint</h2>\n<p>Having some linter is always a good idea so I've decided to go with probably most popular one which is ESLint. Just execute:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> --dev eslint eslint-config-airbnb-base eslint-plugin-flowtype eslint-plugin-jest babel-eslint eslint-plugin-import</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>As you can see we have to install a plugin for every package used in development: Flow, Jest and Babel to prevent false positives. As it is a description of creating non-React package you should probably use <code class=\"language-text\">eslint-config-airbnb-base</code> instead of <code class=\"language-text\">eslint-config-airbnb</code> for base of your linting rules.\nWhat is more <code class=\"language-text\">eslint-plugin-import</code> package is required to support ES6 import statements.</p>\n<p>ESLint configuration is stored in <strong>.eslintrc</strong>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"extends\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"airbnb-base\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"plugin:jest/recommended\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"plugin:flowtype/recommended\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"plugins\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"jest\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"flowtype\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"rules\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// special case for rewire __get__</span>\n    <span class=\"token string\">\"no-underscore-dangle\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"error\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"allow\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"__get__\"</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9dd0e07a3d0ff4c9f0e22afd8e6c3bae/35ffc/travisci.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 156px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 99.35897435897438%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAUEAgP/xAAXAQADAQAAAAAAAAAAAAAAAAABAgMA/9oADAMBAAIQAxAAAAGvj88yG2yGHU01LwM//8QAHhAAAgEDBQAAAAAAAAAAAAAAAQIDAAQREhMhIiP/2gAIAQEAAQUCdqU9xIMTq25jmGPUl2PONA1IoRf/xAAXEQEBAQEAAAAAAAAAAAAAAAABEAIh/9oACAEDAQE/AYKZ5P/EABURAQEAAAAAAAAAAAAAAAAAAAEg/9oACAECAQE/AUj/xAAgEAABAwIHAAAAAAAAAAAAAAAAAREhEjECIkFRYZGh/9oACAEBAAY/AhZ8MwrvNmNeyXvuVGHkpQ//xAAaEAEBAQEBAQEAAAAAAAAAAAABEQAhQTGx/9oACAEBAAE/IfMsPs9zFLLCAwBUf3dAMcVMGY9eHRgRL6l8aQCiM45G1LTmE/E3/9oADAMBAAIAAwAAABDcyDz/xAAYEQACAwAAAAAAAAAAAAAAAAAQEQEhQf/aAAgBAwEBPxCEheGj/8QAGREBAAIDAAAAAAAAAAAAAAAAAQARECEx/9oACAECAQE/EEXsLqJvH//EABsQAQACAwEBAAAAAAAAAAAAAAEAESExQVFh/9oACAEBAAE/EKhsE8LBq4NIQFFsux+ahVbl5NPYpzLN88a7M8510BzfbmIMjYTglCNsgEdjMgQmGK1WIGqHRe36z//Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"travisci\"\n        title=\"\"\n        src=\"/static/9dd0e07a3d0ff4c9f0e22afd8e6c3bae/35ffc/travisci.jpg\"\n        srcset=\"/static/9dd0e07a3d0ff4c9f0e22afd8e6c3bae/35ffc/travisci.jpg 156w\"\n        sizes=\"(max-width: 156px) 100vw, 156px\"\n      />\n  </span>\n  </a></p>\n<h2>Travis CI</h2>\n<p>Continuous integration is a nice and useful addition to every publicly available project. In order to use Travis CI you only have to register with your Github account on <a href=\"https://travis-ci.org/\">Travis CI</a>, which is FREE for every open-source project. After registration you should select your repository and activate it (which is fairly simple and intuitive).</p>\n<p>In order to make continuous integration work just add a file <strong>.travis.yml</strong> to the root folder of your project. It should have a content similar to the one presented below:</p>\n<div class=\"gatsby-highlight\" data-language=\"yml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yml line-numbers\"><code class=\"language-yml\"><span class=\"token key atrule\">language</span><span class=\"token punctuation\">:</span> node_js\n<span class=\"token key atrule\">node_js</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token string\">'8'</span>\n<span class=\"token key atrule\">script</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> yarn test\n  <span class=\"token punctuation\">-</span> yarn build\n<span class=\"token key atrule\">install</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> yarn install\n<span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">only</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> master</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>This file tell Travis to:</p>\n<ul>\n<li>use language <code class=\"language-text\">node_js</code></li>\n<li>in version <code class=\"language-text\">8</code> (it will be selected with <code class=\"language-text\">nvm</code> by Travis)</li>\n<li><code class=\"language-text\">yarn install</code> packages (with Yarn - instead of default NPM installation)</li>\n<li>run scripts <code class=\"language-text\">yarn test</code> and <code class=\"language-text\">yarn build</code> - they will determine the process output, if any of them fails entire building result will be negative</li>\n<li>and use only <code class=\"language-text\">master</code> branch of your repo</li>\n</ul>\n<p>One thing worth noting during package configuration is a behaviour of <code class=\"language-text\">prepublish</code> hook which you may be tempted to implement in <strong>package.json</strong> file. It might be not so obvious that <code class=\"language-text\">prepublish</code> scripts will be run <strong>also</strong> after initial installation, not only before package publishing. You would probably like to use <code class=\"language-text\">prepublishOnly</code> instead of <code class=\"language-text\">prepublish</code>.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/77d523d4050aecce642f246d40d90469/2ac20/rollup.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 118px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 131.35593220338984%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAaABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMCBAUB/8QAFgEBAQEAAAAAAAAAAAAAAAAAAwQF/9oADAMBAAIQAxAAAAGM2Rl0rQoaftB6CffMIQ//xAAcEAABBAMBAAAAAAAAAAAAAAACAAEDIgQSMhD/2gAIAQEAAQUCLp6IMmojeQlHjuQm+jKI9wn78//EABwRAAIABwAAAAAAAAAAAAAAAAABAgMEESExQf/aAAgBAwEBPwFvg1JuQIdNnZ//xAAaEQEAAQUAAAAAAAAAAAAAAAAAAhESISIx/9oACAECAQE/Aa5bI8Xv/8QAHRAAAgEEAwAAAAAAAAAAAAAAAAERECAhIjFRcf/aAAgBAQAGPwJ+i7N+Rsgl4qnZ/8QAHBABAAIDAQEBAAAAAAAAAAAAAQARITFBcVGh/9oACAEBAAE/If0IU0M+/IZQKOkuZoWZ6ZYLbPRDWtridvsNRzp9mjyEtOz/2gAMAwEAAgADAAAAEH//AEL/xAAZEQEBAQEBAQAAAAAAAAAAAAABEQAhcYH/2gAIAQMBAT8Qqh+65Xu5XGpIPN//xAAZEQEAAwEBAAAAAAAAAAAAAAABABEhMVH/2gAIAQIBAT8QVkg0gq3sM8n/xAAgEAEAAgEEAgMAAAAAAAAAAAABABEhMUFRcRBhgeHw/9oACAEBAAE/EPzOYt2ZWydCodQVchKfZY9tsERG4ua+4uNLIZTmM9LnZXWCuRyu/cFoHDeyJp2NHy+GkEdM/9k='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"rollup\"\n        title=\"\"\n        src=\"/static/77d523d4050aecce642f246d40d90469/2ac20/rollup.jpg\"\n        srcset=\"/static/77d523d4050aecce642f246d40d90469/2ac20/rollup.jpg 118w\"\n        sizes=\"(max-width: 118px) 100vw, 118px\"\n      />\n  </span>\n  </a></p>\n<h2>Rollup</h2>\n<p>Finally, one of the least known packages. Rollup, a package building tool without complicated configuration. Here is a command to install Rollup and all recommended plugins:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> --dev rollup rollup-plugin-babel@3 rollup-plugin-flow rollup-plugin-cpy babel-plugin-external-helpers</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>After finishing installation create one fairly simple <strong>rollup.config.js</strong> file. Here is a commented example:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">// plugins that we are going to use</span>\n<span class=\"token keyword\">import</span> babel <span class=\"token keyword\">from</span> <span class=\"token string\">'rollup-plugin-babel'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> copy <span class=\"token keyword\">from</span> <span class=\"token string\">'rollup-plugin-cpy'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> flow <span class=\"token keyword\">from</span> <span class=\"token string\">'rollup-plugin-flow'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// list of plugins used during building process</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">plugins</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">targets</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n  <span class=\"token comment\">// remove flow annotations from output</span>\n  <span class=\"token function\">flow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// use Babel to transpile to ES5</span>\n  <span class=\"token function\">babel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ignore node_modules/ in transpilation process</span>\n    exclude<span class=\"token punctuation\">:</span> <span class=\"token string\">'node_modules/**'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ignore .babelrc (if defined) and use options defined here</span>\n    babelrc<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">/</span> use recommended babel<span class=\"token operator\">-</span>preset<span class=\"token operator\">-</span>env without es modules enabled\n    <span class=\"token operator\">/</span><span class=\"token operator\">/</span> and <span class=\"token keyword\">with</span> possibility to <span class=\"token keyword\">set</span> custom targets e<span class=\"token punctuation\">.</span>g<span class=\"token punctuation\">.</span> <span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">:</span> <span class=\"token string\">'8'</span> <span class=\"token punctuation\">}</span>\n    presets<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">'env'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> modules<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> targets <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">/</span> solve a problem <span class=\"token keyword\">with</span> spread operator transpilation https<span class=\"token punctuation\">:</span><span class=\"token operator\">/</span><span class=\"token operator\">/</span>github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>rollup<span class=\"token operator\">/</span>rollup<span class=\"token operator\">/</span>issues<span class=\"token operator\">/</span><span class=\"token number\">281</span>\n    plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'babel-plugin-transform-object-rest-spread'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">/</span> removes comments <span class=\"token keyword\">from</span> output\n    comments<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">/</span><span class=\"token operator\">/</span> copy Flow definitions <span class=\"token keyword\">from</span> source to destination directory\n  <span class=\"token function\">copy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    files<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'src/*.flow'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    dest<span class=\"token punctuation\">:</span> <span class=\"token string\">'lib'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// packages that should be treated as external dependencies, not bundled</span>\n<span class=\"token keyword\">const</span> external <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token operator\">/</span><span class=\"token operator\">/</span> e<span class=\"token punctuation\">.</span>g<span class=\"token punctuation\">.</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'axios'</span><span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n  <span class=\"token operator\">/</span><span class=\"token operator\">/</span> source file <span class=\"token operator\">/</span> entrypoint\n  input<span class=\"token punctuation\">:</span> <span class=\"token string\">'src/index.js'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">/</span><span class=\"token operator\">/</span> output configuration\n  output<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">/</span> name visible <span class=\"token keyword\">for</span> other scripts\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'npmLibPackageExample'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">/</span> output file location\n    file<span class=\"token punctuation\">:</span> <span class=\"token string\">'lib/index.esm.js'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">/</span> format <span class=\"token keyword\">of</span> generated <span class=\"token constant\">JS</span> file<span class=\"token punctuation\">,</span> also<span class=\"token punctuation\">:</span> esm<span class=\"token punctuation\">,</span> and others are available\n    format<span class=\"token punctuation\">:</span> <span class=\"token string\">'esm'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">/</span> add sourcemaps\n    sourcemap<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  external<span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">/</span><span class=\"token operator\">/</span> build es modules <span class=\"token keyword\">for</span> node <span class=\"token number\">8</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token function\">plugins</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">:</span> <span class=\"token string\">'8'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  input<span class=\"token punctuation\">:</span> <span class=\"token string\">'src/index.js'</span><span class=\"token punctuation\">,</span>\n  output<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    name<span class=\"token punctuation\">:</span> <span class=\"token string\">'npmLibPackageExample'</span><span class=\"token punctuation\">,</span>\n    file<span class=\"token punctuation\">:</span> <span class=\"token string\">'lib/index.js'</span><span class=\"token punctuation\">,</span>\n    format<span class=\"token punctuation\">:</span> <span class=\"token string\">'cjs'</span><span class=\"token punctuation\">,</span>\n    sourcemap<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  external<span class=\"token punctuation\">,</span>\n  <span class=\"token operator\">/</span><span class=\"token operator\">/</span> build common <span class=\"token constant\">JS</span> <span class=\"token keyword\">for</span> node <span class=\"token number\">6</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token function\">plugins</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">:</span> <span class=\"token string\">'6'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Some more or less important findings are:</p>\n<ul>\n<li>use <code class=\"language-text\">rollup-plugin-cpy</code> instead of <code class=\"language-text\">rollup-plugin-copy</code> in order to avoid <a href=\"https://github.com/meuter/rollup-plugin-copy/issues/7\">non-existing output directory problem</a></li>\n<li><code class=\"language-text\">rollup-plugin-babel@3</code> you may use version 4 if you upgrade Babel to version 7</li>\n<li>as you may noticed as a result of this Rollup configuration you will get two files: <a href=\"https://github.com/rollup/rollup/wiki/pkg.module\">ES module standard and CommonJS one</a></li>\n</ul>\n<h2>Scripts</h2>\n<p>Custom scripts defined inside <strong>package.json</strong> which are used during development and publishing. Here is a list:</p>\n<ul>\n<li><code class=\"language-text\">&quot;clean&quot;: &quot;rimraf lib&quot;</code> - remove <code class=\"language-text\">lib/</code> directory with build results</li>\n<li><code class=\"language-text\">&quot;test&quot;: &quot;yarn jest src&quot;</code> - run tests defined inside <code class=\"language-text\">src/</code> directory with Jest</li>\n<li><code class=\"language-text\">&quot;test:watch&quot;: &quot;yarn jest src --watch --notify&quot;</code> - run tests and watch for changes as well as display notifications with results</li>\n<li><code class=\"language-text\">&quot;cover&quot;: &quot;jest src --coverage&quot;</code> - generate test coverage report</li>\n<li><code class=\"language-text\">&quot;lint&quot;: &quot;eslint src&quot;</code> - run linting with ESLint</li>\n<li><code class=\"language-text\">&quot;build&quot;: &quot;yarn rollup -c&quot;</code> - build output using Rollup</li>\n<li><code class=\"language-text\">&quot;precommit&quot;: &quot;yarn flow src &amp;&amp; yarn lint &amp;&amp; yarn test&quot;</code> - run before each commit to ensure commited code quality</li>\n<li><code class=\"language-text\">&quot;prepublishOnly&quot;: &quot;yarn clean &amp;&amp; yarn lint &amp;&amp; yarn test &amp;&amp; yarn build&quot;</code> - run <a href=\"https://docs.npmjs.com/misc/scripts\">ONLY before</a> <code class=\"language-text\">yarn publish</code> to ensure quality and most recent output</li>\n</ul>\n<h2>Other tools and files</h2>\n<p>List of useful tools/files:</p>\n<ul>\n<li><code class=\"language-text\">rimraf</code> - cross-platform directory cleaning</li>\n<li><code class=\"language-text\">husky</code> - additional Git hooks e.g. testing code just before making a commit</li>\n<li><code class=\"language-text\">.editorconfig</code> - recommended editor configuration</li>\n<li><code class=\"language-text\">.npmignore</code> - list of ignored files/dirs when publishing to NPM registry</li>\n<li><code class=\"language-text\">LICENSE</code> - info about license e.g. <a href=\"https://en.wikipedia.org/wiki/MIT_License\">MIT</a></li>\n</ul>\n<p>Another important thing is last part of <strong>package.json</strong> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\">  <span class=\"token property\">\"husky\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"hooks\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"pre-commit\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"yarn precommit\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>These are lines which actually trigger <code class=\"language-text\">yarn precommit</code> before each Git commit thanks to <a href=\"https://github.com/typicode/husky\">husky</a> provided hooks.</p>\n<p>You will find all files/tools listed above in my <a href=\"https://github.com/jmarceli/npm-lib-package-boilerplate\">boilerplate project on Github</a> or <a href=\"https://www.npmjs.com/package/npm-lib-package-boilerplate\">on NPM</a></p>\n<h2>Sources</h2>\n<ul>\n<li><a href=\"https://codeburst.io/publish-your-own-npm-package-ff918698d450\">https://codeburst.io/publish-your-own-npm-package-ff918698d450</a> - great article with slightly different setup</li>\n<li><a href=\"https://github.com/rollup/rollup/wiki/pkg.module\">https://github.com/rollup/rollup/wiki/pkg.module</a> - ES module, CommonJS and others explained</li>\n<li><a href=\"https://github.com/rollup/rollup/issues/281\">https://github.com/rollup/rollup/issues/281</a> - Rollup spread operator transpilation</li>\n<li><a href=\"https://github.com/rollup/rollup-plugin-babel#configuring-babel\">https://github.com/rollup/rollup-plugin-babel#configuring-babel</a></li>\n<li><a href=\"https://github.com/meuter/rollup-plugin-copy/issues/7\">https://github.com/meuter/rollup-plugin-copy/issues/7</a> - rollup-plugin-copy problem</li>\n</ul>","timeToRead":9,"rawMarkdownBody":"Here is a description of common tools and files used to create a modern NPM package. Don't hesitate to clone my [npm-lib-package-boilerplate](https://github.com/jmarceli/npm-lib-package-boilerplate) repository to check the results before spending any time on reading this.\n\nLet's start with a list of development dependencies which I'm going to use throughout this article:\n\n- [Babel](https://babeljs.io/) - ES6-8 features transpiled to ES5\n- [Jest](https://jestjs.io/) - running tests and generate coverage reports\n- [Flow](https://flow.org/) - Javascript type checking\n- [ESLint](https://eslint.org/) - Javascript linting\n- [Travis CI](https://travis-ci.org/) - continuous integration\n- [Rollup](https://rollupjs.org) - package files building\n\n\nAt the end of this text you should be more or less familiar with a purpose and usage of all packages listed above.\n\nNOTE: This build is aimed at generating NodeJS/Browser libraries but is not suitable for building/publishing web applications.\n\n\n![babel](img/babel.jpg)\n## Babel\n\nTranspile (converts) ES6-8 Javascript syntax into ES5 compliant code.\n\nNOTE: These instructions are for Babel@6 despite the fact that Babel@7 is already available. It is so due to the fact that the latter is still not supported by all other dependencies. Especially Jest support for Babel@7 is not complete.\n\nHere is a command to execute in order to install Babel:\n\n```bash\nyarn add --dev babel-core babel-cli babel-preset-env babel-plugin-transform-object-rest-spread\n```\n\nShort explanation:\n\n- `babel-preset-env` - a starting point for all Babel custom presets (instructions what should be transpiled and how)\n- `babel-plugin-transform-object-rest-spread` - if you use spread operator anywhere you will need this one\n\nFinally an example of **.babelrc** file:\n\n```js\n{\n  // ensures most commonly used transpilations e.g. import\n  \"presets\": [\"env\"],\n  // some additional plugins: Flow and Rewire (described in the Jest section)\n  \"plugins\": [\"transform-flow-strip-types\", \"babel-plugin-rewire\"]\n}\n```\n\nIt will only be used for tests. You won't need it during build process because it will be handled by a [Rollup](#rollup).\n\n\n![jest](img/jest.jpg)\n## Jest\n\nNext important package after Babel transpiler is Jest. Facebook alternative to the well known Mocha test runner. Here is an installation command:\n\n```bash\nyarn add --dev jest babel-jest babel-plugin-rewire\n```\n\nFirst two packages are more or less self-explanatory but the last one `babel-plugin-rewire` is in my opinion particularly useful. It let's you [test even non-exported functions](https://github.com/speedskater/babel-plugin-rewire) by getting their definitions through `__get__` method.\n\nAs usual you will require some configuration file, which is named **jest.config.js**. It might be auto-generated with:\n\n```bash\nyarn jest --init\n```\n\nFor start I would suggest you to leave **jest.config.js** without any changes as it should work in most cases.\n\n\n![flow](img/flow.jpg)\n## Flow\n\nType checking the Facebook way. As for React based development Flow seems to me as more natural choice than Typescript, I've decided to use it also for my non-React projects.\n\n```bash\nyarn add --dev flow-bin flow-typed babel-plugin-transform-flow-strip-types\n```\n\n- `flow-typed` is a library with typings (something similar to Typescript DefinitelyTyped)\n- `babel-plugin-transform-flow-strip-types` allows for using flow with Babel transpiler by stripping flow annotations when necessary\n\nFlow default configuration available in **.flowconfig** should match your base requirements.\n\nAfter all packages are in installed with Yarn execute `yarn flow-typed install` to get most recent types definitions.\n\n\n![eslint](img/eslint.jpg)\n## ESLint\n\nHaving some linter is always a good idea so I've decided to go with probably most popular one which is ESLint. Just execute:\n\n```bash\nyarn add --dev eslint eslint-config-airbnb-base eslint-plugin-flowtype eslint-plugin-jest babel-eslint eslint-plugin-import\n```\n\nAs you can see we have to install a plugin for every package used in development: Flow, Jest and Babel to prevent false positives. As it is a description of creating non-React package you should probably use `eslint-config-airbnb-base` instead of `eslint-config-airbnb` for base of your linting rules.\nWhat is more `eslint-plugin-import` package is required to support ES6 import statements.\n\nESLint configuration is stored in **.eslintrc**:\n\n```javascript\n{\n  \"extends\": [\n    \"airbnb-base\",\n    \"plugin:jest/recommended\",\n    \"plugin:flowtype/recommended\",\n  ],\n  \"plugins\": [\n    \"jest\",\n    \"flowtype\",\n  ],\n  \"rules\": {\n    // special case for rewire __get__\n    \"no-underscore-dangle\": [\"error\", { \"allow\": [\"__get__\"] }]\n  },\n}\n```\n\n\n![travisci](img/travisci.jpg)\n## Travis CI\n\nContinuous integration is a nice and useful addition to every publicly available project. In order to use Travis CI you only have to register with your Github account on [Travis CI](https://travis-ci.org/), which is FREE for every open-source project. After registration you should select your repository and activate it (which is fairly simple and intuitive).\n\nIn order to make continuous integration work just add a file **.travis.yml** to the root folder of your project. It should have a content similar to the one presented below:\n\n```yml\nlanguage: node_js\nnode_js:\n  - '8'\nscript:\n  - yarn test\n  - yarn build\ninstall:\n  - yarn install\nbranches:\n  only:\n    - master\n```\n\nThis file tell Travis to:\n- use language `node_js`\n- in version `8` (it will be selected with `nvm` by Travis)\n- `yarn install` packages (with Yarn - instead of default NPM installation)\n- run scripts `yarn test` and `yarn build` - they will determine the process output, if any of them fails entire building result will be negative\n- and use only `master` branch of your repo\n\nOne thing worth noting during package configuration is a behaviour of `prepublish` hook which you may be tempted to implement in **package.json** file. It might be not so obvious that `prepublish` scripts will be run **also** after initial installation, not only before package publishing. You would probably like to use `prepublishOnly` instead of `prepublish`.\n\n\n![rollup](img/rollup.jpg)\n## Rollup\n\nFinally, one of the least known packages. Rollup, a package building tool without complicated configuration. Here is a command to install Rollup and all recommended plugins:\n\n```bash\nyarn add --dev rollup rollup-plugin-babel@3 rollup-plugin-flow rollup-plugin-cpy babel-plugin-external-helpers\n```\n\nAfter finishing installation create one fairly simple **rollup.config.js** file. Here is a commented example:\n\n```js\n// plugins that we are going to use\nimport babel from 'rollup-plugin-babel';\nimport copy from 'rollup-plugin-cpy';\nimport flow from 'rollup-plugin-flow';\n\n// list of plugins used during building process\nconst plugins = targets => ([\n  // remove flow annotations from output\n  flow(),\n  // use Babel to transpile to ES5\n  babel({\n    // ignore node_modules/ in transpilation process\n    exclude: 'node_modules/**',\n    // ignore .babelrc (if defined) and use options defined here\n    babelrc: false,\n    // use recommended babel-preset-env without es modules enabled\n    // and with possibility to set custom targets e.g. { node: '8' }\n    presets: [['env', { modules: false, targets }]],\n    // solve a problem with spread operator transpilation https://github.com/rollup/rollup/issues/281\n    plugins: ['babel-plugin-transform-object-rest-spread'],\n    // removes comments from output\n    comments: false,\n  }),\n  // copy Flow definitions from source to destination directory\n  copy({\n    files: ['src/*.flow'],\n    dest: 'lib',\n  }),\n]);\n\n// packages that should be treated as external dependencies, not bundled\nconst external = []; // e.g. ['axios']\n\nexport default [{\n  // source file / entrypoint\n  input: 'src/index.js',\n  // output configuration\n  output: {\n    // name visible for other scripts\n    name: 'npmLibPackageExample',\n    // output file location\n    file: 'lib/index.esm.js',\n    // format of generated JS file, also: esm, and others are available\n    format: 'esm',\n    // add sourcemaps\n    sourcemap: true,\n  },\n  external,\n  // build es modules for node 8\n  plugins: plugins({ node: '8' }),\n}, {\n  input: 'src/index.js',\n  output: {\n    name: 'npmLibPackageExample',\n    file: 'lib/index.js',\n    format: 'cjs',\n    sourcemap: true,\n  },\n  external,\n  // build common JS for node 6\n  plugins: plugins({ node: '6' }),\n}];\n```\n\nSome more or less important findings are:\n\n- use `rollup-plugin-cpy` instead of `rollup-plugin-copy` in order to avoid [non-existing output directory problem](https://github.com/meuter/rollup-plugin-copy/issues/7)\n- `rollup-plugin-babel@3` you may use version 4 if you upgrade Babel to version 7\n- as you may noticed as a result of this Rollup configuration you will get two files: [ES module standard and CommonJS one](https://github.com/rollup/rollup/wiki/pkg.module)\n\n\n## Scripts\n\nCustom scripts defined inside **package.json** which are used during development and publishing. Here is a list:\n\n- `\"clean\": \"rimraf lib\"` - remove `lib/` directory with build results\n- `\"test\": \"yarn jest src\"` - run tests defined inside `src/` directory with Jest\n- `\"test:watch\": \"yarn jest src --watch --notify\"` - run tests and watch for changes as well as display notifications with results\n- `\"cover\": \"jest src --coverage\"` - generate test coverage report\n- `\"lint\": \"eslint src\"` - run linting with ESLint\n- `\"build\": \"yarn rollup -c\"` - build output using Rollup\n- `\"precommit\": \"yarn flow src && yarn lint && yarn test\"` - run before each commit to ensure commited code quality\n- `\"prepublishOnly\": \"yarn clean && yarn lint && yarn test && yarn build\"` - run [ONLY before](https://docs.npmjs.com/misc/scripts) `yarn publish` to ensure quality and most recent output\n\n\n## Other tools and files\n\nList of useful tools/files:\n\n- `rimraf` - cross-platform directory cleaning\n- `husky` - additional Git hooks e.g. testing code just before making a commit\n- `.editorconfig` - recommended editor configuration\n- `.npmignore` - list of ignored files/dirs when publishing to NPM registry\n- `LICENSE` - info about license e.g. [MIT](https://en.wikipedia.org/wiki/MIT_License)\n\nAnother important thing is last part of **package.json** file:\n\n```json\n  \"husky\": {\n    \"hooks\": {\n      \"pre-commit\": \"yarn precommit\"\n    }\n  }\n```\n\nThese are lines which actually trigger `yarn precommit` before each Git commit thanks to [husky](https://github.com/typicode/husky) provided hooks.\n\nYou will find all files/tools listed above in my [boilerplate project on Github](https://github.com/jmarceli/npm-lib-package-boilerplate) or [on NPM](https://www.npmjs.com/package/npm-lib-package-boilerplate)\n\n\n## Sources\n\n- https://codeburst.io/publish-your-own-npm-package-ff918698d450 - great article with slightly different setup\n- https://github.com/rollup/rollup/wiki/pkg.module - ES module, CommonJS and others explained\n- https://github.com/rollup/rollup/issues/281 - Rollup spread operator transpilation\n- https://github.com/rollup/rollup-plugin-babel#configuring-babel\n- https://github.com/meuter/rollup-plugin-copy/issues/7 - rollup-plugin-copy problem\n","excerpt":"Here is a description of common tools and files used to create a modern NPM package. Don't hesitate to clone my npm-lib-package-boilerplate…","frontmatter":{"title":"Publishing NPM package with Rollup, Babel, Flow, Jest and ESLint","slug":"publishing-npm-package-with-rollup-babel-and","date":"2018-10-01T02:57:00.000Z","tags":["javascript"],"date_created":"2018-11-05T01:31:45.000Z","date_updated":"2018-10-02T21:48:08.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1520038410233-7141be7e6f97.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABtpsLZdyeF//EABoQAAIDAQEAAAAAAAAAAAAAAAABAgMREjH/2gAIAQEAAQUCJTmr+kJlvu4f/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/AYx//8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/Aa1//8QAGBAAAgMAAAAAAAAAAAAAAAAAABESIEH/2gAIAQEABj8CNgq//8QAGxAAAgIDAQAAAAAAAAAAAAAAAAERQRAhUWH/2gAIAQEAAT8hRAVLkrPXDB7ooSP/2gAMAwEAAgADAAAAEAc//8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAwEBPxAa9kbf/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAgEBPxBYchX/xAAcEAEAAwACAwAAAAAAAAAAAAABABExIUGBofD/2gAIAQEAAT8QrUABqg1579UWBQKXT1ETPcVIXiByjdn/2Q==","aspectRatio":1.506276150627615,"src":"/static/53c3d1dd50f0e922033c3793e452e77e/775d9/photo-1520038410233-7141be7e6f97.jpg","srcSet":"/static/53c3d1dd50f0e922033c3793e452e77e/cb3d3/photo-1520038410233-7141be7e6f97.jpg 150w,\n/static/53c3d1dd50f0e922033c3793e452e77e/c83a6/photo-1520038410233-7141be7e6f97.jpg 300w,\n/static/53c3d1dd50f0e922033c3793e452e77e/775d9/photo-1520038410233-7141be7e6f97.jpg 600w,\n/static/53c3d1dd50f0e922033c3793e452e77e/2b1a3/photo-1520038410233-7141be7e6f97.jpg 900w,\n/static/53c3d1dd50f0e922033c3793e452e77e/90537/photo-1520038410233-7141be7e6f97.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"80a5c6ba-926d-5038-bf7b-e6dea0b2d5f6","html":"<p>InfluxDB turns out to be a good solution for a time series data which happens to be the cornerstone of my current job. As (probably) every database it has it's pros and cons, but the most annoying thing for me as a developer was lack of a proper administration tool to work with.\nUntil now...\n<br/></p>\n<div style=\"text-align: center\">\n    <a href=\"https://timeseriesadmin.github.io/\" style=\"box-shadow: none; display: inline-block; border: none;\">\n      <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 128px;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAADNUlEQVQ4y31US08UQRAeTDxwIAZ57AvY7hqUh4hRgfBUEAQVBHmDi254CKIGr/4A7yTcvXLgZuJv8aIYvfAfZHa6rK+ne10S4yZfpqd26ut6fFUBEQX44am1vuTOl+W8LDgW/BCcCyLBT8GJoCDfVONbpdQlzyH2oEyWyWS8cVbwVWwMyPkCKuzfBauB+8m56l9kH8sORJGmUECxwDjE1pZE64kPPamN1KcJsjAMWYmTyudLKpM2qrHBqGzGqFw2QVpsKbHlckYrVZILSvAR3yOXflU5TdwmhlgIYn29jenBpKHZRUNzK0wL64I1ptklppkFo/uHjHzLIFZal8Ik0kJQ0QBbM0QGp3D3wNDMvKHxKdYjo6wHhlgPDrO+P8408ZhpeYPDvfdGDwyzam5CpCD8JahBdMvU2soqnYpoctpQcdeoKzVIly1yWVZNTQkyaVYN9azqr7JqaeHw4IPRHZ04R5Skvg3CY7yoluZId3Ub2txHdKzv9rLu7GKbGsiam1nDqfsW6/5hpuebTIvrRrIyaJJr0OfA6QxdjVWTFFuc6NFTpo1tpnVxKshzrejOWwmRvOuhe6ghO8LYyepb4ESb/NHWjhslpTqbnkiEddfNJCqg84ZNVaUbbdpongSABhlH+DuwmkJDEF3fgKGtN9bZEqN+vma4JNWYpA7n0Qmml69waSXheeDGCS+xdMzowRGm4h7T5mumeZHKk7m/mJ5nWpEOb7+V5wsfcWXKpyA8cQWNRFOJmKUJur3D1snKBDWdmoE2Wff0sW69lkSbydgJkgh9U74EdtDR5VwusimLcEXciQNkg1TragWSdkNd2S71htiNJc/nIzcx+yCsdoOOTpdoqcBWOs9WGOnr2z2s73j0Mo1N2nTDnXeGxh6ipl7YZ4JaP3qrNkqZT8yw6BFTYRCBlU9xNwGkMz2PCbHysnMupXLR7QR+nznSQ/uHRIlbVTZrayQpJmgUpFN+WdjLsZEc2Sdw5PP5qsAvR0d65EjlI6wvQRjG0JpDbG1ufVWSub1QdXE5JucCBv1/C9YRnZXTrOTwaxuR+n2GrYFBx2xinDABbqJOIQ100zcAafrIwPUH1TPgnCdbUBEAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n    <img class=\"gatsby-resp-image-image\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\" alt=\"Time Series Admin logo - administrator UI for InfluxDB\" title src=\"/static/b62767277a93d049123dd9e282c27923/81a47/timeseries-admin-icon.png\" srcset=\"/static/b62767277a93d049123dd9e282c27923/81a47/timeseries-admin-icon.png 128w\" sizes=\"(max-width: 128px) 100vw, 128px\">\n  </span>\n      <h3 style=\"margin-top:20px\">Time Series Admin</h3>\n    </a>\n</div>\n<h2>Quick start</h2>\n<p>Here it is <a href=\"https://timeseriesadmin.github.io/\">Time Series Admin</a>, which you may <a href=\"https://timeseriesadmin.github.io/#download\">download</a> as an Electron application. It is built as an alternative to <a href=\"https://docs.influxdata.com/influxdb/v1.3/administration/differences/#web-admin-ui-removal\">deprecated Admin UI</a> or current <a href=\"https://docs.influxdata.com/chronograf/v1.6/\">Chronograf</a> based approach.</p>\n<p>It is tested to be compatible with:</p>\n<ul>\n<li>Windows 10 x64</li>\n<li>Ubuntu 18.04</li>\n<li>Mac OS X 10.13</li>\n</ul>\n<p>It should also work with other versions of popular OSes, but this is not yet verified (a feedback will be appreciated).</p>\n<p>In order to ensure a fallback for non-supported OSes and for demo purposes there is also an <a href=\"https://hub.docker.com/r/timeseriesadmin/timeseriesadmin/\">Time Series Admin Docker image</a>.\nYou may run it on (probably) any OS and use through some recent version of Google Chrome browser.\nEverything you need to get it working is a <a href=\"https://www.docker.com/get-started\">Docker installed</a> on your system and a command:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">docker run -p 8085:80 -it timeseriesadmin/timeseriesadmin:latest</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>After executing command above visit <a href=\"http://localhost:8085\">http://localhost:8085</a>.</p>\n<h2>Why</h2>\n<p>I know that there is <a href=\"https://grafana.com/\">Grafana</a> and Chronograf, but while these tools are great for plotting and presenting data they are not so convenient to explore and work with raw queries during development phase.\nHere are some reasons which justifies existence of Time Series Admin as an administrator UI for InfluxDB:</p>\n<ul>\n<li>no need for server to run you administrator UI</li>\n<li>you are always one click away from any of your InfluxDB servers (easy access to any of saved connections)</li>\n<li>query history (this is something I was missing most in any other InfluxDB UI)</li>\n<li>ability to browse through Influx structure without worrying about queries</li>\n<li>viewing raw query results</li>\n<li>formatting returned data timestamps</li>\n</ul>\n<h2>Overview</h2>\n<p>General idea was to create a tool (admin UI) which will work through InfluxDB HTTP API allowing for easy query execution and database management/exploration.</p>\n<p>Time Series Admin is aimed primarily at developers/users who have at least base knowledge about <a href=\"https://docs.influxdata.com/influxdb/v1.6/query_language/\">InfluxQL</a>.\nThanks to the \"Explorer\" panel even without any knowledge you may reason about database internals in a human friendly way.</p>\n<p><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 840px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 64.60176991150442%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACbUlEQVQ4y22SPVMaURSGt82YGR1QaDRF9ifkD6SLmUmVmTS0ETWCBQOMTGZIj9kqdZr8gdili41FChCFkgh+ACts5GMXlt297L0n59ywKtE783K4X895z9mrbL17qyaSG9peLqfl9nJaKpXSkomktpvcvdX21ra282FH24xvagffDzTLtLR2q6W1mi3tWr8mfW632l/Ofp+9UGKx2JuPn/Kwv78PhUIB8vk8pNNpyGaykMlkIJvNAiaRisfjcHR0BDSEEPD/aDQaCaVSrb7yXJf7vs+m0ynD9QdiuGeORmxkTxgeYka3y4amyTyPBWdcAtbr9fdKsVhcN00TLMsSJM/zpFzXFZhIOChgngDuC/AZRi4mjiMMwxAIJ59oVvgzYFw5OTlZZ5gIFYAgEMIAqfBr7MHXzhC+GRY0mU8IMIw/MJUGgWq/A56ens4BsWzA8qUY/Udo1bLhx3ACP0ceGATEvf5gANgKos0DyaHjOGDbtsBI9mXDOedS1CbhOgDUXn8KMFvv9XqyigcOj4+PpUPaQFdiPB4DJQigMuIVH3/IkT9bu7npwdieUEvxHr8DlsvldSxVAqnsfr8PBA2eBonacN81qWv0wLI9rIBjq/x5hzNHHIF8MBhwLJ8jhJ7SrWgEkfbxK3N7MuFsyrhPGf8BN5RKpfL6/uOkvjz2aO8Puu88cu7i4mJLOTw8fHl1ddXBjHq73dZrtZp+fn6u07zb7c6p0+nIeHl5qeNlvdlsyjmebaGGpVIppiwtLT0Jh8PPI5GIilFdWFhQFxcX1ZWVlVvRXiCaR6NR9dnamrq6uirny8vLMoZCoad/AU9JYtF5uGvWAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Time Series Admin - browse through InfluxDB database\"\n        title=\"\"\n        src=\"/static/c1a0cd3a957efea5d6b04d866f53ef61/a3419/timeseriesadmin--panel-explorer.png\"\n        srcset=\"/static/c1a0cd3a957efea5d6b04d866f53ef61/a1986/timeseriesadmin--panel-explorer.png 210w,\n/static/c1a0cd3a957efea5d6b04d866f53ef61/ad7fb/timeseriesadmin--panel-explorer.png 420w,\n/static/c1a0cd3a957efea5d6b04d866f53ef61/a3419/timeseriesadmin--panel-explorer.png 840w,\n/static/c1a0cd3a957efea5d6b04d866f53ef61/822a4/timeseriesadmin--panel-explorer.png 1130w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n  </span></p>\n<h2>Features</h2>\n<p>Most of the features are illustrated on the official Time Series Admin project page in <a href=\"https://timeseriesadmin.github.io/#showcase\">showcase</a> section.\nSome of them are extremely helpful (like query history) and others are more or less irrelevant (references panel - at least in current version). Anyway here they are:</p>\n<ul>\n<li>query history</li>\n<li>results browsing, pagination, sorting</li>\n<li>time formatting</li>\n<li>connection credentials list (saving, loading and deleting them)</li>\n<li>server exploration (through the Explorer panel)</li>\n<li>detailed error reporting</li>\n<li>flexible window size</li>\n<li>query reference</li>\n</ul>\n<p><span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 840px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 63.526361279170274%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAACEUlEQVQ4y62Tu24TURCGt+QFeICQN6HBQlRINK6QsOIIBxEXNo4ETlpbB1PAK/ACiAjRure06wegcLB3vd6LL3u/Df+cXTtKGgoY6ffMufg7M3POKicvnh+33jQ+vutdiF63J87fnovW65Y4a50d1Dxpisarhjhtnoqryyth6IYwDEPMf8/F0ljyeKgv9M83s5uXSr1ef3bx4T0Nh0MaDAbU7/ep0+lQt9s9+L3a7TaNRiO6b0VRSO84zlhRNe2Jbdv5brdL4jhOMC+VZVnium7Cluf5HfHezWaTRFEkFYRhxEDMf1Mmk0kNAQFWYLEIw1Bqu90W6/Vaxr7vH8ae5xWAyTHgnBorYyDmryUwCAKCJBBghhMSK4UY82S7azItm7aex5mQ7TjSp2lKAGdVhiUQpzG9YChD9tC9siQmylPkkqMZMVm2TaZp0mq1kkLvsqqH14qqqjU+BSqqsmmvEMqgeRDRF9OjT3OXfmwicgHRdZ04kWqvBAJeAjmrqlzuC5dAuBTp8UNempEapDTxE/oVJuSjbIZlvF7abcmaptW4LG48XwA/Ac6YPc9zTPwsZJvg00Su7Z9KFUsgDrkFIiM+LmcDJMemnF8M+lr6KMpT7IniWK7dU1Ld8ndlOp0+pf9kqPKnMh6PHy8WCwuf0hKNXsKbfxM+hDuyLEvHDfuz2eyrAnsAHUGP/kH8/2Po4R9uiGKT1RH5AgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Time Series Admin - query history\"\n        title=\"\"\n        src=\"/static/9708b9a911c7742848c582e1909e9ae1/a3419/timeseriesadmin--panel-history.png\"\n        srcset=\"/static/9708b9a911c7742848c582e1909e9ae1/a1986/timeseriesadmin--panel-history.png 210w,\n/static/9708b9a911c7742848c582e1909e9ae1/ad7fb/timeseriesadmin--panel-history.png 420w,\n/static/9708b9a911c7742848c582e1909e9ae1/a3419/timeseriesadmin--panel-history.png 840w,\n/static/9708b9a911c7742848c582e1909e9ae1/e1c78/timeseriesadmin--panel-history.png 1157w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n  </span></p>\n<h2>Further development - wish list of features</h2>\n<p>While Time Series Admin is a usable and fully functional tool there are some improvemenets that are currently in backlog and hopefully will be available in future versions:</p>\n<ul>\n<li>writing data directly from UI</li>\n<li>import/export data (e.g. in CSV format)</li>\n<li>query editor (with some kind of suggestions and autocorrection, maybe a query wizzard)</li>\n<li>users administration UI</li>\n<li>retention policy UI</li>\n<li>automatic/easy application updates</li>\n<li>more UI buttons in Explorer (e.g. drop measurement, preview data, count series etc.</li>\n<li>copy measurement data feature (through <code class=\"language-text\">SELECT ... INTO ...</code> query)</li>\n<li>connection params validation autocorrection (e.g. missing port number or invalid URL)</li>\n</ul>\n<p>If you have any other ideas or feature request please let me know by creating an issue in the <a href=\"https://github.com/timeseriesadmin/timeseriesadmin/issues/new\">project Github repository</a>.</p>\n<h2>Summary</h2>\n<p>You are welcome to go and <a href=\"https://timeseriesadmin.github.io/#download\">try Time Series Admin</a>.\nAs usually it is an open source project <a href=\"https://github.com/timeseriesadmin/timeseriesadmin\">hosted on Github</a> with MIT license.\nIf you find any issues during usage please report them directly on Github.</p>\n<p>Of course you are more than welcome to contribute, more details about that should be available in repository files.</p>","timeToRead":3,"rawMarkdownBody":"\nInfluxDB turns out to be a good solution for a time series data which happens to be the cornerstone of my current job. As (probably) every database it has it's pros and cons, but the most annoying thing for me as a developer was lack of a proper administration tool to work with.\nUntil now...\n<br/>\n\n<div style=\"text-align: center\">\n    <a href=\"https://timeseriesadmin.github.io/\" style=\"box-shadow: none; display: inline-block; border: none;\">\n      <img src=\"./img/timeseries-admin-icon.png\" alt=\"Time Series Admin logo - administrator UI for InfluxDB\" />\n      <h3 style=\"margin-top:20px\">Time Series Admin</h3>\n    </a>\n</div>\n\n## Quick start\n\nHere it is [Time Series Admin](https://timeseriesadmin.github.io/), which you may [download](https://timeseriesadmin.github.io/#download) as an Electron application. It is built as an alternative to [deprecated Admin UI](https://docs.influxdata.com/influxdb/v1.3/administration/differences/#web-admin-ui-removal) or current [Chronograf](https://docs.influxdata.com/chronograf/v1.6/) based approach.\n\nIt is tested to be compatible with:\n\n- Windows 10 x64\n- Ubuntu 18.04\n- Mac OS X 10.13\n\nIt should also work with other versions of popular OSes, but this is not yet verified (a feedback will be appreciated).\n\nIn order to ensure a fallback for non-supported OSes and for demo purposes there is also an [Time Series Admin Docker image](https://hub.docker.com/r/timeseriesadmin/timeseriesadmin/).\nYou may run it on (probably) any OS and use through some recent version of Google Chrome browser.\nEverything you need to get it working is a [Docker installed](https://www.docker.com/get-started) on your system and a command:\n\n```bash\ndocker run -p 8085:80 -it timeseriesadmin/timeseriesadmin:latest\n```\n\nAfter executing command above visit [http://localhost:8085](http://localhost:8085).\n\n## Why\n\nI know that there is [Grafana](https://grafana.com/) and Chronograf, but while these tools are great for plotting and presenting data they are not so convenient to explore and work with raw queries during development phase.\nHere are some reasons which justifies existence of Time Series Admin as an administrator UI for InfluxDB:\n\n- no need for server to run you administrator UI\n- you are always one click away from any of your InfluxDB servers (easy access to any of saved connections)\n- query history (this is something I was missing most in any other InfluxDB UI)\n- ability to browse through Influx structure without worrying about queries\n- viewing raw query results\n- formatting returned data timestamps\n\n## Overview\n\nGeneral idea was to create a tool (admin UI) which will work through InfluxDB HTTP API allowing for easy query execution and database management/exploration.\n\nTime Series Admin is aimed primarily at developers/users who have at least base knowledge about [InfluxQL](https://docs.influxdata.com/influxdb/v1.6/query_language/).\nThanks to the \"Explorer\" panel even without any knowledge you may reason about database internals in a human friendly way.\n\n![Time Series Admin - browse through InfluxDB database](img/timeseriesadmin--panel-explorer.png)\n\n## Features\n\nMost of the features are illustrated on the official Time Series Admin project page in [showcase](https://timeseriesadmin.github.io/#showcase) section.\nSome of them are extremely helpful (like query history) and others are more or less irrelevant (references panel - at least in current version). Anyway here they are:\n\n- query history\n- results browsing, pagination, sorting\n- time formatting\n- connection credentials list (saving, loading and deleting them)\n- server exploration (through the Explorer panel)\n- detailed error reporting\n- flexible window size\n- query reference\n\n![Time Series Admin - query history](img/timeseriesadmin--panel-history.png)\n\n## Further development - wish list of features\n\nWhile Time Series Admin is a usable and fully functional tool there are some improvemenets that are currently in backlog and hopefully will be available in future versions:\n\n- writing data directly from UI\n- import/export data (e.g. in CSV format)\n- query editor (with some kind of suggestions and autocorrection, maybe a query wizzard)\n- users administration UI\n- retention policy UI\n- automatic/easy application updates\n- more UI buttons in Explorer (e.g. drop measurement, preview data, count series etc.\n- copy measurement data feature (through `SELECT ... INTO ...` query)\n- connection params validation autocorrection (e.g. missing port number or invalid URL)\n\nIf you have any other ideas or feature request please let me know by creating an issue in the [project Github repository](https://github.com/timeseriesadmin/timeseriesadmin/issues/new).\n\n## Summary\n\nYou are welcome to go and [try Time Series Admin](https://timeseriesadmin.github.io/#download).\nAs usually it is an open source project [hosted on Github](https://github.com/timeseriesadmin/timeseriesadmin) with MIT license.\nIf you find any issues during usage please report them directly on Github.\n\nOf course you are more than welcome to contribute, more details about that should be available in repository files.\n","excerpt":"InfluxDB turns out to be a good solution for a time series data which happens to be the cornerstone of my current job. As (probably) every…","frontmatter":{"title":"Time Series Admin - Electron-based alternative to Admin UI for InfluxDB","slug":"time-series-admin-electron-application-influxdb","date":"2018-10-14T06:44:00.000Z","tags":["javascript","tools"],"date_created":"2018-11-04T18:31:42.000Z","date_updated":"2018-10-20T17:40:52.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1504639725590-34d0984388bd.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQBAgMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAeU0vdnIgH//xAAaEAACAgMAAAAAAAAAAAAAAAAAAQISESEx/9oACAEBAAEFAl1syJxL6sj/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAEQEQIjH/2gAIAQEABj8CMwoR2k6//8QAHRAAAwABBQEAAAAAAAAAAAAAAAERMVFhcZGh8P/aAAgBAQABPyGsBTTbt56XqKszsawyRcnzWf/aAAwDAQACAAMAAAAQ2+//xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQMBAT8QhX//xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCn/8QAHRABAAICAgMAAAAAAAAAAAAAAREhADFBUXHR8P/aAAgBAQABPxDS3uLMDhTuSvNMFmUvvLyKmoF6yPNQAaeaxHlfjrP/2Q==","aspectRatio":1.3333333333333333,"src":"/static/64e6b6511ddfd7fea6aac62db0ec7ece/775d9/photo-1504639725590-34d0984388bd.jpg","srcSet":"/static/64e6b6511ddfd7fea6aac62db0ec7ece/cb3d3/photo-1504639725590-34d0984388bd.jpg 150w,\n/static/64e6b6511ddfd7fea6aac62db0ec7ece/c83a6/photo-1504639725590-34d0984388bd.jpg 300w,\n/static/64e6b6511ddfd7fea6aac62db0ec7ece/775d9/photo-1504639725590-34d0984388bd.jpg 600w,\n/static/64e6b6511ddfd7fea6aac62db0ec7ece/2b1a3/photo-1504639725590-34d0984388bd.jpg 900w,\n/static/64e6b6511ddfd7fea6aac62db0ec7ece/90537/photo-1504639725590-34d0984388bd.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"25fd1395-db08-5460-91cb-c0a694fb3c1a","html":"<p>Type checking with Flow is a nice addition to your code. Unfortunately, it is not so intuitive to use Flow with libraries like Axios. The main problem is lack of easily available usage examples.</p>\n<h2>Problem</h2>\n<p>Using Axios type annotations <code class=\"language-text\">$AxiosXHR</code> and <code class=\"language-text\">$AxiosXHRConfig</code> may result in error messages similar to this:</p>\n<blockquote>\n<p>Cannot call resolve with result bound to result because string [1] is incompatible with object type [2] in type argument T [3]</p>\n</blockquote>\n<p>or this:</p>\n<blockquote>\n<p>Cannot call resolve with result bound to result because object type [1] is incompatible with string [2] in type argument R [3].</p>\n</blockquote>\n<p>What are <code class=\"language-text\">T</code> and <code class=\"language-text\">R</code> and how to fix that?</p>\n<h2>Solution</h2>\n<p>If you would like to find out the answer yourself you will have to read the source code of Axios Flow implementation. The code is not so complicated if you have some experience with Flow types, but for newcomers it looks cryptic (at best).</p>\n<p>Moving forward...</p>\n<p><code class=\"language-text\">$AxiosXHR</code> is defined as <code class=\"language-text\">$AxiosXHR&lt;T, R=T&gt;</code> which means that we have to provide at least one argument <code class=\"language-text\">T</code> and optionally another <code class=\"language-text\">R</code>.</p>\n<ul>\n<li><code class=\"language-text\">T</code> - input data <strong>T</strong>ype, should be a type of <code class=\"language-text\">data</code> parameter in your Axios request</li>\n<li><code class=\"language-text\">R</code> - <strong>R</strong>esponse type, should define expected type for a response</li>\n</ul>\n<p>As you may noticed <code class=\"language-text\">R</code> is optional and equals <code class=\"language-text\">T</code> by default which is useful especially when dealing with no request data (e.g. all <code class=\"language-text\">GET</code> queries) or no response data (e.g. <code class=\"language-text\">POST</code> query with just <code class=\"language-text\">200 OK</code> as a response).</p>\n<h2>Example</h2>\n<p>As usual we have to begin with <code class=\"language-text\">// @flow</code> declaration, import of Axios library and appropriate type definitions:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">// @flow</span>\n<span class=\"token keyword\">import</span> axios <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> type <span class=\"token punctuation\">{</span> $AxiosXHR <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'axios'</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Let's define expected Axios response structure type:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> type RateLimit <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  limit<span class=\"token punctuation\">:</span> number<span class=\"token punctuation\">,</span>\n  remaining<span class=\"token punctuation\">:</span> number<span class=\"token punctuation\">,</span>\n  reset<span class=\"token punctuation\">:</span> number\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\ntype RateLimitResponse <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  resources<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    core<span class=\"token punctuation\">:</span> RateLimit<span class=\"token punctuation\">,</span>\n    search<span class=\"token punctuation\">:</span> RateLimit<span class=\"token punctuation\">,</span>\n    graphql<span class=\"token punctuation\">:</span> RateLimit<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  rate<span class=\"token punctuation\">:</span> RateLimit<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now it's time for a \"magical\" <code class=\"language-text\">$AxiosXHR</code> type annotation:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> getRateLimit <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> Promise<span class=\"token operator\">&lt;</span>$AxiosXHR<span class=\"token operator\">&lt;</span>RateLimitResponse<span class=\"token operator\">>></span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`https://api.github.com/rate_limit`</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>We know that Github API endpoint <code class=\"language-text\">/rate_limit</code> is going to return something which should match <code class=\"language-text\">RateLimitResponse</code>. As we don't have any input data type there is no need to define more than one <code class=\"language-text\">$AxiosXHR</code> parameter (<code class=\"language-text\">R</code> equals <code class=\"language-text\">T</code>  by default).</p>\n<p>What is more, we know that <code class=\"language-text\">async</code> function should return a promise, thus we wrap returned type with <code class=\"language-text\">Promise&lt;....&gt;</code>.</p>\n<p>Now we can use Axios with Flow typings.</p>\n<p><strong>NOTE</strong>\nAs mentioned by @Joey M. you may replace:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">Promise<span class=\"token operator\">&lt;</span>$AxiosXHR<span class=\"token operator\">&lt;</span>RateLimitResponse<span class=\"token operator\">>></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>with</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">AxiosPromise<span class=\"token operator\">&lt;</span>RateLimitResponse<span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>It's a hand wrapper which simplifies typings a bit. Of course it has to be imported before usage: <code class=\"language-text\">import type { AxiosPromise } from &#39;axios&#39;;</code></p>\n<h2>Another example</h2>\n<p>Let say we have an API endpoint <code class=\"language-text\">http://your-api-enpoint.test</code> which will respond with string <code class=\"language-text\">OK</code> to every POST request with JSON <code class=\"language-text\">data</code> body: <code class=\"language-text\">{ getStatus: true }</code>.</p>\n<p>In this case Axios Flow typing for request is going to look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">type StatusRequest <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  getStatus<span class=\"token punctuation\">:</span> boolean\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> getStatus <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> AxiosPromise<span class=\"token operator\">&lt;</span>StatusRequest<span class=\"token punctuation\">,</span> string<span class=\"token operator\">></span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    method<span class=\"token punctuation\">:</span> <span class=\"token string\">'post'</span><span class=\"token punctuation\">,</span>\n    data<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> getStatus<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    url<span class=\"token punctuation\">:</span> <span class=\"token string\">'http://your-api-enpoint.test'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>That's all?</p>\n<p>Unfortunately, I don't know yet if it is possible to add Flow typings without wrapping Axios call in a wrapper function.</p>\n<p>Ideally something like this might be possible:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> response<span class=\"token punctuation\">:</span> $AxiosXHR<span class=\"token operator\">&lt;</span>RateLimitResponse<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">axios</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`https://api.github.com/rate_limit`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>","timeToRead":3,"rawMarkdownBody":"Type checking with Flow is a nice addition to your code. Unfortunately, it is not so intuitive to use Flow with libraries like Axios. The main problem is lack of easily available usage examples.\n\n## Problem\n\nUsing Axios type annotations `$AxiosXHR` and `$AxiosXHRConfig` may result in error messages similar to this:\n\n> Cannot call resolve with result bound to result because string [1] is incompatible with object type [2] in type argument T [3]\n\nor this:\n\n> Cannot call resolve with result bound to result because object type [1] is incompatible with string [2] in type argument R [3].\n\nWhat are `T` and `R` and how to fix that?\n\n## Solution\n\nIf you would like to find out the answer yourself you will have to read the source code of Axios Flow implementation. The code is not so complicated if you have some experience with Flow types, but for newcomers it looks cryptic (at best).\n\nMoving forward...\n\n`$AxiosXHR` is defined as `$AxiosXHR<T, R=T>` which means that we have to provide at least one argument `T` and optionally another `R`.\n\n- `T` - input data **T**ype, should be a type of `data` parameter in your Axios request\n- `R` - **R**esponse type, should define expected type for a response\n\nAs you may noticed `R` is optional and equals `T` by default which is useful especially when dealing with no request data (e.g. all `GET` queries) or no response data (e.g. `POST` query with just `200 OK` as a response).\n\n## Example\n\nAs usual we have to begin with `// @flow` declaration, import of Axios library and appropriate type definitions:\n\n```javascript\n// @flow\nimport axios from 'axios';\nimport type { $AxiosXHR } from 'axios';\n```\n\nLet's define expected Axios response structure type:\n\n```javascript\nexport type RateLimit = {\n  limit: number,\n  remaining: number,\n  reset: number\n};\ntype RateLimitResponse = {\n  resources: {\n    core: RateLimit,\n    search: RateLimit,\n    graphql: RateLimit,\n  },\n  rate: RateLimit,\n};\n```\n\nNow it's time for a \"magical\" `$AxiosXHR` type annotation:\n\n```javascript\nconst getRateLimit = async (): Promise<$AxiosXHR<RateLimitResponse>> => (\n  axios(`https://api.github.com/rate_limit`)\n);\n```\n\nWe know that Github API endpoint `/rate_limit` is going to return something which should match `RateLimitResponse`. As we don't have any input data type there is no need to define more than one `$AxiosXHR` parameter (`R` equals `T`  by default).\n\nWhat is more, we know that `async` function should return a promise, thus we wrap returned type with `Promise<....>`.\n\nNow we can use Axios with Flow typings.\n\n**NOTE**\nAs mentioned by @Joey M. you may replace:\n```javascript\nPromise<$AxiosXHR<RateLimitResponse>>\n```\nwith\n```javascript\nAxiosPromise<RateLimitResponse>\n```\nIt's a hand wrapper which simplifies typings a bit. Of course it has to be imported before usage: `import type { AxiosPromise } from 'axios';`\n\n## Another example\n\nLet say we have an API endpoint `http://your-api-enpoint.test` which will respond with string `OK` to every POST request with JSON `data` body: `{ getStatus: true }`.\n\nIn this case Axios Flow typing for request is going to look like this:\n\n```javascript\ntype StatusRequest = {\n  getStatus: boolean\n};\nconst getStatus = async (): AxiosPromise<StatusRequest, string> => (\n  axios({\n    method: 'post',\n    data: { getStatus: true },\n    url: 'http://your-api-enpoint.test',\n  })\n);\n```\n\nThat's all?\n\nUnfortunately, I don't know yet if it is possible to add Flow typings without wrapping Axios call in a wrapper function.\n\nIdeally something like this might be possible:\n\n```javascript\nconst response: $AxiosXHR<RateLimitResponse> = await axios(`https://api.github.com/rate_limit`);\n```\n\n\n","excerpt":"Type checking with Flow is a nice addition to your code. Unfortunately, it is not so intuitive to use Flow with libraries like Axios. The…","frontmatter":{"title":"Flow type checking for Axios","slug":"flow-type-checking-for-axios","date":"2018-10-07T18:41:00.000Z","tags":["javascript"],"date_created":"2018-10-17T05:48:40.000Z","date_updated":"2018-11-08T00:24:46.000Z","author":"jan","feature_image":null}}},{"node":{"id":"5697074a-9ce1-53af-9c60-56e9100cdc54","html":"<p>General advice is to never convert data from <a href=\"https://facebook.github.io/immutable-js/\">Immutable</a> to native JS types. But if you have to do it use <code class=\"language-text\">.toArray()</code> rather than <code class=\"language-text\">.toJS()</code> of course if you work with some array-like data structure.</p>\n<h2>Problem</h2>\n<p>Immutable is a great library if you need immutability of your code, unfortunately conversion between Immutable and native JS is terribly inefficient process.</p>\n<h2>Solution</h2>\n<p>Here is my test case created using <a href=\"https://benchmarkjs.com/\">benchmark</a> library.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> Benchmark <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'benchmark'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> suite <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Benchmark<span class=\"token punctuation\">.</span>Suite</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> List <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'immutable'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> list <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">List</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">6</span><span class=\"token punctuation\">,</span><span class=\"token number\">7</span><span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span><span class=\"token number\">9</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// add tests</span>\n<span class=\"token keyword\">return</span> suite\n\n<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'toArray()'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">toArray</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'toJS()'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> b <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">toJS</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// add listeners</span>\n<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'cycle'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">String</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">'complete'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Fastest is '</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fastest'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>You may copy/paste it if you want and run with:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">node benchmark.js</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Where <strong>benchmark.js</strong> is a path to the file with mentioned benchmark JS script.</p>\n<p>Here are my results:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">toArray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> x 657,624 ops/sec ±0.99% <span class=\"token punctuation\">(</span>89 runs sampled<span class=\"token punctuation\">)</span>\ntoJS<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> x 189,606 ops/sec ±5.62% <span class=\"token punctuation\">(</span>64 runs sampled<span class=\"token punctuation\">)</span>\nFastest is toArray<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>So try to avoid <code class=\"language-text\">.toJS()</code> whenever you can.</p>","timeToRead":1,"rawMarkdownBody":"General advice is to never convert data from [Immutable](https://facebook.github.io/immutable-js/) to native JS types. But if you have to do it use `.toArray()` rather than `.toJS()` of course if you work with some array-like data structure.\n\n## Problem\n\nImmutable is a great library if you need immutability of your code, unfortunately conversion between Immutable and native JS is terribly inefficient process.\n\n## Solution\n\nHere is my test case created using [benchmark](https://benchmarkjs.com/) library.\n\n```javascript\nconst Benchmark = require('benchmark');\nvar suite = new Benchmark.Suite;\n\nconst { List } = require('immutable');\nconst list = new List([1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10,1,2,3,4,5,6,7,8,9,10]));\n\n// add tests\nreturn suite\n\n.add('toArray()', function() {\n  const b = list.toArray();\n})\n.add('toJS()', function() {\n  const b = list.toJS();\n})\n\n// add listeners\n.on('cycle', function(event) {\n  console.log(String(event.target));\n})\n.on('complete', function() {\n  console.log('Fastest is ' + this.filter('fastest').map('name'));\n})\n  .run();\n```\n\nYou may copy/paste it if you want and run with:\n\n```bash\nnode benchmark.js\n```\n\nWhere **benchmark.js** is a path to the file with mentioned benchmark JS script.\n\nHere are my results:\n\n```bash\ntoArray() x 657,624 ops/sec ±0.99% (89 runs sampled)\ntoJS() x 189,606 ops/sec ±5.62% (64 runs sampled)\nFastest is toArray()\n```\n\nSo try to avoid `.toJS()` whenever you can.\n","excerpt":"General advice is to never convert data from Immutable to native JS types. But if you have to do it use  rather than  of course if you work…","frontmatter":{"title":"ImmutableJS .toJS() vs .toArray()","slug":"immutable-js-tojs-vs-toarray","date":"2018-09-15T17:19:51.000Z","tags":["javascript"],"date_created":"2018-07-29T11:46:14.000Z","date_updated":"2018-09-15T18:41:36.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1522115900503-5dc493006ffd.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAECBAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHRgIrjD//EABgQAAMBAQAAAAAAAAAAAAAAAAECEAAR/9oACAEBAAEFAs0B6Gn/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAVEAEBAAAAAAAAAAAAAAAAAAABIP/aAAgBAQAGPwJr/8QAHhABAAICAQUAAAAAAAAAAAAAAQARITGBUXGhscH/2gAIAQEAAT8hfACDfdjvCcszPVPcVLx8iFtl1P/aAAwDAQACAAMAAAAQ08//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAeEAACAgICAwAAAAAAAAAAAAABEQAhMcFBoVFx8f/aAAgBAQABPxCgD6AlyXQuxuODCHocMQstQfnokOm4eILEH4zuf//Z","aspectRatio":1.5,"src":"/static/0b43ec23a5ca48aa03632c864a61bd16/775d9/photo-1522115900503-5dc493006ffd.jpg","srcSet":"/static/0b43ec23a5ca48aa03632c864a61bd16/cb3d3/photo-1522115900503-5dc493006ffd.jpg 150w,\n/static/0b43ec23a5ca48aa03632c864a61bd16/c83a6/photo-1522115900503-5dc493006ffd.jpg 300w,\n/static/0b43ec23a5ca48aa03632c864a61bd16/775d9/photo-1522115900503-5dc493006ffd.jpg 600w,\n/static/0b43ec23a5ca48aa03632c864a61bd16/2b1a3/photo-1522115900503-5dc493006ffd.jpg 900w,\n/static/0b43ec23a5ca48aa03632c864a61bd16/90537/photo-1522115900503-5dc493006ffd.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"d0870667-2d25-5b80-adba-98d13e644e51","html":"<p>This will be a simple tutorial about running Jest tests with Flow typed Javascript files in NodeJS project.</p>\n<h2>Problem</h2>\n<p>Recently I've started adding <a href=\"https://github.com/facebook/flow\">Flow</a> types to my existing NodeJS project which uses <a href=\"https://github.com/facebook/jest\">Jest</a> testing framework. It turns out immidiately that there is no \"out of the box\" support for Flow in Jest. This is strange for me because both are Facebook products, so I was hoping for seamless integration.</p>\n<h2>Solution</h2>\n<p>There is a quite simple solution which is based on two Babel originated packages: <a href=\"https://github.com/babel/babel-jest\">babel-jest</a> and <a href=\"https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-flow-strip-types\">babel-plugin-transform-flow-strip-types</a>.\nInstall them with:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> --dev babel-jest babel-plugin-transform-flow-strip-types</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Then adjust configuration inside <strong>.babelrc</strong> file as described on <a href=\"https://www.npmjs.com/package/babel-plugin-transform-flow-strip-types\">babel-plugin-transform-flow-strip-types</a> NPM repository page:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"transform-flow-strip-types\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Now after executing <code class=\"language-text\">yarn jest</code> all my Flow type hinted JS files works as expected.</p>\n<p>No <strong>jest.config.js</strong> modification required!</p>\n<h2>Issues</h2>\n<p>While trying to get Jest tests to work with Flow I've got one problem - a dead end. It was <a href=\"https://www.npmjs.com/package/jest-flow-transform\">jest-flow-transform</a> package. Despite declaring approperiate configuration inside <strong>jest.config.js</strong> file in <code class=\"language-text\">transform</code> section I was constantly getting a message:</p>\n<blockquote>\n<p>TypeError: ...mockResolvedValue is not a function</p>\n</blockquote>\n<p>I didn't find any solution for that and move on to <strong>babel-jest</strong> which is described above in a <a href=\"#solution\">solution</a> section.</p>\n<h2>Create React App (CRA) Jest tests</h2>\n<p>If you are using <a href=\"https://github.com/facebookincubator/create-react-app\">Create React App</a> and Jest tests reports a lot of Flow bugs just install <code class=\"language-text\">jest</code> directly with:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> flow-typed <span class=\"token function\">install</span> jest@20.0.4</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>You should replace <code class=\"language-text\">20.0.4</code> with whichever Jest version is currently used by CRA (check it with <code class=\"language-text\">yarn list | grep jest</code>). Unfortunatelly, there seems to be no way to automatically install Flow definitions for Jest. See <a href=\"https://github.com/facebook/create-react-app/issues/3904\">CRA #3904</a> for more info.</p>","timeToRead":2,"rawMarkdownBody":"This will be a simple tutorial about running Jest tests with Flow typed Javascript files in NodeJS project.\n\n## Problem\n\nRecently I've started adding [Flow](https://github.com/facebook/flow) types to my existing NodeJS project which uses [Jest](https://github.com/facebook/jest) testing framework. It turns out immidiately that there is no \"out of the box\" support for Flow in Jest. This is strange for me because both are Facebook products, so I was hoping for seamless integration.\n\n## Solution\n\nThere is a quite simple solution which is based on two Babel originated packages: [babel-jest](https://github.com/babel/babel-jest) and [babel-plugin-transform-flow-strip-types](https://github.com/babel/babel/tree/master/packages/babel-plugin-transform-flow-strip-types).\nInstall them with:\n```bash\nyarn add --dev babel-jest babel-plugin-transform-flow-strip-types\n```\n\nThen adjust configuration inside **.babelrc** file as described on [babel-plugin-transform-flow-strip-types](https://www.npmjs.com/package/babel-plugin-transform-flow-strip-types) NPM repository page:\n\n```json\n{\n  \"plugins\": [\"transform-flow-strip-types\"]\n}\n```\n\nNow after executing `yarn jest` all my Flow type hinted JS files works as expected.\n\nNo **jest.config.js** modification required!\n\n## Issues\n\nWhile trying to get Jest tests to work with Flow I've got one problem - a dead end. It was [jest-flow-transform](https://www.npmjs.com/package/jest-flow-transform) package. Despite declaring approperiate configuration inside **jest.config.js** file in `transform` section I was constantly getting a message:\n\n> TypeError: ...mockResolvedValue is not a function\n\nI didn't find any solution for that and move on to **babel-jest** which is described above in a [solution](#solution) section.\n\n## Create React App (CRA) Jest tests\n\nIf you are using [Create React App](https://github.com/facebookincubator/create-react-app) and Jest tests reports a lot of Flow bugs just install `jest` directly with:\n```bash\nyarn flow-typed install jest@20.0.4\n```\n\nYou should replace `20.0.4` with whichever Jest version is currently used by CRA (check it with `yarn list | grep jest`). Unfortunatelly, there seems to be no way to automatically install Flow definitions for Jest. See [CRA #3904](https://github.com/facebook/create-react-app/issues/3904) for more info.\n","excerpt":"This will be a simple tutorial about running Jest tests with Flow typed Javascript files in NodeJS project.ProblemRecently I've started…","frontmatter":{"title":"Running Jest tests with Flow typed Javascript files","slug":"jest-tests-flow-type","date":"2018-07-18T09:29:00.000Z","tags":["javascript"],"date_created":"2018-07-28T14:51:37.000Z","date_updated":"2018-10-17T12:12:45.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1518133910546-b6c2fb7d79e3.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAbABQDASIAAhEBAxEB/8QAGQAAAwADAAAAAAAAAAAAAAAAAAIDAQQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgEA/9oADAMBAAIQAxAAAAHsyeN0wLFbOmXcmI//xAAdEAEAAQMFAAAAAAAAAAAAAAABAAIDEBESISMx/9oACAEBAAEFAnDHHreUB1m6V827D1z/xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAwEBPwEh/8QAFREBAQAAAAAAAAAAAAAAAAAAEEH/2gAIAQIBAT8BKf/EABsQAAEEAwAAAAAAAAAAAAAAAAABAhBBESAh/9oACAEBAAY/Atke2jNR0WP/xAAeEAACAgICAwAAAAAAAAAAAAAAAREhMUFRcWGh0f/aAAgBAQABPyHAn6PDgdOtvXgn2x2D0OvKEok0lM7FjIdnw6HeT//aAAwDAQACAAMAAAAQU/wy/8QAGBEAAwEBAAAAAAAAAAAAAAAAAAEREFH/2gAIAQMBAT8Qxq3wh//EABgRAAMBAQAAAAAAAAAAAAAAAAABERAh/9oACAECAQE/EFi5BT//xAAfEAACAgICAwEAAAAAAAAAAAABEQAhMVFBgWGRscH/2gAIAQEAAT8QTt8gaz01qFHbDKcYONjIi7FiiriEoZhoxdH3BMzZBi4QB5O7gBRhzEZkceAT/YAQgCVqf//Z","aspectRatio":0.75,"src":"/static/9c7ef059ecff4ec4f83b5da3c20b8084/775d9/photo-1518133910546-b6c2fb7d79e3.jpg","srcSet":"/static/9c7ef059ecff4ec4f83b5da3c20b8084/cb3d3/photo-1518133910546-b6c2fb7d79e3.jpg 150w,\n/static/9c7ef059ecff4ec4f83b5da3c20b8084/c83a6/photo-1518133910546-b6c2fb7d79e3.jpg 300w,\n/static/9c7ef059ecff4ec4f83b5da3c20b8084/775d9/photo-1518133910546-b6c2fb7d79e3.jpg 600w,\n/static/9c7ef059ecff4ec4f83b5da3c20b8084/2b1a3/photo-1518133910546-b6c2fb7d79e3.jpg 900w,\n/static/9c7ef059ecff4ec4f83b5da3c20b8084/90537/photo-1518133910546-b6c2fb7d79e3.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"45b16ef8-6e46-5660-8739-b17afa9a03fc","html":"<p>Another Jest connected post. How to test internal module functions that are not exported?</p>\n<h2>Problem</h2>\n<p>I want to test internal function defined inside <strong>./index.js</strong> file without exporting it with <code class=\"language-text\">module.exports</code>. Let say that <strong>./index.js</strong> looks similar to this (implementation details are irrelevant):</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">someFunction</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">something</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">'anything'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>This function is not a part of public interface so exporting it just for testing with Jest seems like a bad idea/solution.\nOf course the following test won't work:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> someFunction <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./index'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">__get__</span><span class=\"token punctuation\">(</span><span class=\"token string\">'someFunction'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">'someFunction'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">'should work'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">someFunction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token string\">'anything'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The error message may looks as follows:</p>\n<blockquote>\n<p>TypeError: require(...).__get__ is not a function</p>\n</blockquote>\n<p>This is caused by lack of <a href=\"https://github.com/jhnns/rewire\">rewire</a> package (as you may expect).</p>\n<h2>Solution</h2>\n<p>Use <a href=\"https://www.npmjs.com/package/babel-plugin-rewire\">babel-plugin-rewire</a> it's extremly easy to do. Just:</p>\n<ol>\n<li>Install it with <code class=\"language-text\">yarn add --dev babel-plugin-rewire</code></li>\n<li>If you don't have <code class=\"language-text\">babel-jest</code> installed execute also <code class=\"language-text\">yarn add --dev babel-jest</code></li>\n<li>Add plugin to the <strong>.babelrc</strong> config file:</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"plugins\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"babel-plugin-rewire\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Now just run your tests as usual <code class=\"language-text\">yarn jest</code>. Everything should work smoothly.\nYou don't have to install <code class=\"language-text\">rewire</code> itself.</p>\n<p>If you are trying/willing to run Jest tests with Flow typed Javascript files check my other article <a href=\"https://grzegorowski.com/jest-tests-flow-type\">Running Jest tests with Flow typed Javascript files</a>.</p>\n<h2>Issues</h2>\n<p>The one which cost me a lot of time to figure it out.</p>\n<blockquote>\n<p>TypeError: _get__(...) is not a function</p>\n</blockquote>\n<p>According to the @joshnuss <a href=\"https://github.com/speedskater/babel-plugin-rewire/issues/109#issuecomment-202526786\">Github answer</a> with <strong>babel-plugin-rewire</strong> you can't actually use <code class=\"language-text\">__get__</code> method (or any other e.g. <code class=\"language-text\">__Rewire__</code>) for function/constant which is not referenced anywhere in your module file.</p>\n<p>Example of a \"buggy\" module code which you won't be able to rewire and use <code class=\"language-text\">__get__</code> method.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">test123</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>A \"fixed\" version (just reference <code class=\"language-text\">test123</code> anywhere it doesn't have to be even executed):</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">test123</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\ntest123<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>And here is a test case which will fail if we use \"buggy\" implementation of the module.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> test123 <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./index'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">__get__</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test123'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test123'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">test123</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>When such case might happen? Well, for example if you try to test some currently unused function (e.g. just a new internal module function).</p>\n<h2>Sources</h2>\n<p><a href=\"https://www.npmjs.com/package/babel-plugin-rewire\">https://www.npmjs.com/package/babel-plugin-rewire</a>\n<a href=\"https://github.com/facebook/jest/issues/1003\">https://github.com/facebook/jest/issues/1003</a>\n<a href=\"https://www.npmjs.com/package/babel-plugin-rewire\">https://www.npmjs.com/package/babel-plugin-rewire</a></p>","timeToRead":2,"rawMarkdownBody":"Another Jest connected post. How to test internal module functions that are not exported?\n\n## Problem\n\nI want to test internal function defined inside **./index.js** file without exporting it with `module.exports`. Let say that **./index.js** looks similar to this (implementation details are irrelevant):\n```js\nfunction someFunction(something) {\n  return 'anything';\n}\n```\n\nThis function is not a part of public interface so exporting it just for testing with Jest seems like a bad idea/solution.\nOf course the following test won't work:\n```js\nconst someFunction = require('./index').__get__('someFunction');\ndescribe('someFunction', () => {\n  it('should work', () => {\n    expect(someFunction()).toEqual('anything');\n  });\n});\n```\nThe error message may looks as follows:\n\n> TypeError: require(...).\\_\\_get__ is not a function\n\nThis is caused by lack of [rewire](https://github.com/jhnns/rewire) package (as you may expect).\n\n## Solution\n\nUse [babel-plugin-rewire](https://www.npmjs.com/package/babel-plugin-rewire) it's extremly easy to do. Just:\n\n1. Install it with `yarn add --dev babel-plugin-rewire`\n2. If you don't have `babel-jest` installed execute also `yarn add --dev babel-jest`\n3. Add plugin to the **.babelrc** config file:\n\n```javascript\n{\n  \"plugins\": [\"babel-plugin-rewire\"]\n}\n```\n\nNow just run your tests as usual `yarn jest`. Everything should work smoothly.\nYou don't have to install `rewire` itself.\n\nIf you are trying/willing to run Jest tests with Flow typed Javascript files check my other article [Running Jest tests with Flow typed Javascript files](https://grzegorowski.com/jest-tests-flow-type).\n\n## Issues\n\nThe one which cost me a lot of time to figure it out.\n\n> TypeError: _get__(...) is not a function\n\nAccording to the @joshnuss [Github answer](https://github.com/speedskater/babel-plugin-rewire/issues/109#issuecomment-202526786) with **babel-plugin-rewire** you can't actually use `__get__` method (or any other e.g. `__Rewire__`) for function/constant which is not referenced anywhere in your module file.\n\nExample of a \"buggy\" module code which you won't be able to rewire and use `__get__` method.\n\n```javascript\nconst test123 = () => {\n  return true;\n}\n```\n\nA \"fixed\" version (just reference `test123` anywhere it doesn't have to be even executed):\n\n```javascript\nconst test123 = () => {\n  return true;\n}\ntest123;\n```\n\nAnd here is a test case which will fail if we use \"buggy\" implementation of the module.\n\n```javascript\nconst test123 = require('./index').__get__('test123');\n\ntest('test123', () => {\n  expect(test123()).toEqual(true);\n});\n```\n\nWhen such case might happen? Well, for example if you try to test some currently unused function (e.g. just a new internal module function).\n\n## Sources\n\nhttps://www.npmjs.com/package/babel-plugin-rewire\nhttps://github.com/facebook/jest/issues/1003\nhttps://www.npmjs.com/package/babel-plugin-rewire\n","excerpt":"Another Jest connected post. How to test internal module functions that are not exported?ProblemI want to test internal function defined…","frontmatter":{"title":"How to run Jest tests with Rewire plugin","slug":"jest-tests-with-rewire-plugin","date":"2018-07-20T08:33:17.000Z","tags":["javascript"],"date_created":"2018-07-25T02:36:15.000Z","date_updated":"2018-10-17T12:09:33.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1478809956569-c7ce9654a947.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAGjbHVERYH/xAAXEAEBAQEAAAAAAAAAAAAAAAAAAQIS/9oACAEBAAEFAs5WRyy5iv/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/AYj/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwGq/8QAFBABAAAAAAAAAAAAAAAAAAAAIP/aAAgBAQAGPwJf/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQESExQf/aAAgBAQABPyHUc0FRcIlij//aAAwDAQACAAMAAAAQ+8//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAEDAQE/EEswk//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAgEBPxBvSz//xAAbEAADAQEAAwAAAAAAAAAAAAAAAREhMWFxof/aAAgBAQABPxBVSLO4KOI6uuGvHsieIcNXwaxiH//Z","aspectRatio":1.5450643776824033,"src":"/static/b031fc0360e5fe303ab52343284d1ff1/775d9/photo-1478809956569-c7ce9654a947.jpg","srcSet":"/static/b031fc0360e5fe303ab52343284d1ff1/cb3d3/photo-1478809956569-c7ce9654a947.jpg 150w,\n/static/b031fc0360e5fe303ab52343284d1ff1/c83a6/photo-1478809956569-c7ce9654a947.jpg 300w,\n/static/b031fc0360e5fe303ab52343284d1ff1/775d9/photo-1478809956569-c7ce9654a947.jpg 600w,\n/static/b031fc0360e5fe303ab52343284d1ff1/2b1a3/photo-1478809956569-c7ce9654a947.jpg 900w,\n/static/b031fc0360e5fe303ab52343284d1ff1/90537/photo-1478809956569-c7ce9654a947.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"5eeb4f76-f30e-531d-a4d1-1c118cb0c997","html":"<p>The Splash Screen component is available for a long time but only as <a href=\"https://ionicframework.com/docs/native/splash-screen/\">Ionic Native component</a>, so we can't use it inside browser. I will describe here my approach to create a browser compilant splash screen implementation for Ionic 3 based applications.</p>\n<h2>Github</h2>\n<p>The complete code with all modifications may be reviewed on the Github repository <a href=\"https://github.com/jmarceli/ionic-splash-screen-pwa\">ionic-splash-screen-pwa</a>.\nDemo is available on <a href=\"https://jmarceli.github.io/ionic-splash-screen-pwa/\">https://jmarceli.github.io/ionic-splash-screen-pwa/</a> (you won't see much unless you simulate not-so fast \"Fast 3G\" connection in Google Dev Tools)</p>\n<h2>Step 1 - Initialization</h2>\n<p>Let's start by creating sample project according to the official <a href=\"https://ionicframework.com/getting-started\">docs</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">ionic start splash-screen-ionic tabs</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>After answering a few simple questions (with \"n\" - for no) you should see the sample app.\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/70ec1a89a842ee3db066eb9f2fa51151/235e3/screen-shot-2018-05-14-at-12.14.42.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 840px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 74.55795677799607%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAADPUlEQVQ4y6WS3W/bVBTALU1CQLuukE4wxANIwKoIQSsQ4nEvLFnb0VL2UCHRB4uPPQypYnvoH8BLH6a1otnKUlKKMlT6d/A8xES7NMmSOLET27F949jO1/W9h3Pv2ANISAiO9PM5tqyfzz3Hyhnl1VOvvzx55aXzr33+7vsX1JnZGfXtmVnMs+rZF86pz45NqGOnJ9XxiUl1bOKvWfDM6TPq0+MTn+G7n0w+PzWmvPLiG8/NXbxgfbSyAl+t3YCrV7+E1dVVyfLyMqQuzUEqfQkuplKQSqUfk07jfRo+QBbm5mBpYUHUw+nz09PKx1eWp+7f/7Va1zRotZq02WzGjUYj1jQt1g0jfnR0FJ8UCvFJsRyXisX46LgY/350LJ+VSsX4YeGEPqpo8ODBb+7GxkZSuf719US5XNaMZhOFLabrOh8OhxwAOF44sS3uOg7vdgPexqwbJjeaLe66Liekw4MwYv3hCDzXJblcLqmsra1JYb1eB+yKIWAYBogP9KIQdD8CE/GjPkRRBP1+XyLqqNfD3GOcMfA8QnZ3d5PK+vp6olAoaELiOA5DwLIsME0TOp0O+CFKBgPAroGzGJggprIWMewPmMhRGJI90aGqqgmcmSa+2O12me/7UoQ1hGEI1boBx6Ua1HQLKg0TaoYND8t1cPweNFoOlBsmI9EINMMmma1MUpmfn0/gETR4HAz+FpbjQbmmQ6vtocAG3Wyj3IRoQKGiGVAxXUZx2G3XJ3dufZtUlpaWEkEQSCHnnCHwBBFiBPL4hMhRtNttsTygdCRnXTIdJrrokg65u7WdVBYXFxN4tH8Umihp6Aa4noeLakET0eoNGI1GUKtW4ZeKxXwKEHY65M7mvxA6jiuFjuvK2rJtqNbqctOW3QbbJXJMxMMOhfDy5Q9RGFTkABkbYaIok4gal0Qty6Z+tytrlFL8H+lg0KOu69AoDEYMOBDiO1s3cYafrixOeZ3AebIESmP4L9ELwnjvu903lffeeWv83k8H3+znD/cOD3++u7+/nz04OMjm83kJ/qzZ7e1MNpO5LdnZ2cG8l93czGdvbeWzt7d/yN7LZHI/fp+7+cW1a+eUP+MU8tT/RDiUPwA9KHAlrj4A8wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Screen-Shot-2018-05-14-at-12.14.42\"\n        title=\"\"\n        src=\"/static/70ec1a89a842ee3db066eb9f2fa51151/a3419/screen-shot-2018-05-14-at-12.14.42.png\"\n        srcset=\"/static/70ec1a89a842ee3db066eb9f2fa51151/a1986/screen-shot-2018-05-14-at-12.14.42.png 210w,\n/static/70ec1a89a842ee3db066eb9f2fa51151/ad7fb/screen-shot-2018-05-14-at-12.14.42.png 420w,\n/static/70ec1a89a842ee3db066eb9f2fa51151/a3419/screen-shot-2018-05-14-at-12.14.42.png 840w,\n/static/70ec1a89a842ee3db066eb9f2fa51151/4d498/screen-shot-2018-05-14-at-12.14.42.png 1260w,\n/static/70ec1a89a842ee3db066eb9f2fa51151/70b58/screen-shot-2018-05-14-at-12.14.42.png 1680w,\n/static/70ec1a89a842ee3db066eb9f2fa51151/235e3/screen-shot-2018-05-14-at-12.14.42.png 2036w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n  </span>\n  </a>\n<strong>At this point please make sure that you've checked \"Disable cache\" in Chrome Dev Tools. It is required to view the results easily.</strong>\nNow refresh browser tab with your App. You should see a \"flash\" of white screen before viewing actual App content.</p>\n<h2>Step 2 - Preloader</h2>\n<p>The splash screen should be simple and shouldn't require any images in order to load as fast as possible.</p>\n<p>As an example let's use the Ionic theme primary color. In order to do so append this code to the <strong>src/app/app.scss</strong> file:</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-scss line-numbers\"><code class=\"language-scss\"><span class=\"token selector\">body </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token function\">color</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$colors</span><span class=\"token punctuation\">,</span> primary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Now after refreshing the App you will see no white screen at all (it will be blue screen instead).\nBut wait it is just a background color change not a \"real\" splash screen!</p>\n<p>Time to mess with some HTML. Nice HTML/CSS based \"preloaders\" may be found on the <a href=\"http://tobiasahlin.com/spinkit/\">SpinKit</a> project pages. I will use the <strong>fading-circle</strong> animation but feel free to select your own (you may, of course, change it later).\nOpen <strong>src/index.html</strong> and after <code class=\"language-text\">&lt;ion-app&gt;&lt;/ion-app&gt;</code> add following lines (please note that top <code class=\"language-text\">&lt;div&gt;</code> has an ID, it will be important):</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- custom splash screen (non-angular component) --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>splash-screen<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>splash<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-fading-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-circle1 sk-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-circle2 sk-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-circle3 sk-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-circle4 sk-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-circle5 sk-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-circle6 sk-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-circle7 sk-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-circle8 sk-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-circle9 sk-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-circle10 sk-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-circle11 sk-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sk-circle12 sk-circle<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Then head to <strong>src/app/app.scss</strong> and append a few more lines:</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-scss line-numbers\"><code class=\"language-scss\"><span class=\"token selector\">.sk-fading-circle </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 100px auto<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 40px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 40px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">top</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle:before </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">content</span><span class=\"token punctuation\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0 auto<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 15%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 15%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #333<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> sk-circleFadeDelay 1.2s infinite ease-in-out both<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle2 </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>30deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle3 </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>60deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle4 </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>90deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle5 </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>120deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle6 </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>150deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle7 </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>180deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle8 </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>210deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle9 </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>240deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle10 </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>270deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle11 </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>300deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle12 </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rotate</span><span class=\"token punctuation\">(</span>330deg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle2:before </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -1.1s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle3:before </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -1s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle4:before </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.9s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle5:before </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.8s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle6:before </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.7s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle7:before </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.6s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle8:before </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.5s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle9:before </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.4s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle10:before </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.3s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle11:before </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.2s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token selector\">.sk-fading-circle .sk-circle12:before </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-delay</span><span class=\"token punctuation\">:</span> -0.1s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> sk-circleFadeDelay</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">0%, 39%, 100% </span><span class=\"token punctuation\">{</span> <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">40% </span><span class=\"token punctuation\">{</span> <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span> <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Browser prefixes were omitted for brevity but you should copy entire code from mentioned SpinKit project page. It is available after clicking on \"Source\" link (on the top of the page).\nFinally add some custom CSS to <strong>src/app/app.scss</strong> which will position the animation:</p>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-scss line-numbers\"><code class=\"language-scss\"><span class=\"token selector\">#splash-screen </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span> opacity 0.2s<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">z-index</span><span class=\"token punctuation\">:</span> 999<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">align-items</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> <span class=\"token function\">color</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$colors</span><span class=\"token punctuation\">,</span> primary<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now our splash screen/preloader looks much nicer.\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5c8b25e90719b11193bde0d5d08359a5/235e3/screen-shot-2018-05-14-at-12.14.57.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 840px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 74.55795677799607%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAADOUlEQVQ4y6WSW2gcVRjHBwqi5NLUpNr0QfsihrUPXaMg+KBCNjPZTtoqfSgKKUwt0Qcf9cUHH5Im3YQqtjZqJtnYzZvgBXwoggVBsBSLJWI3l6bJbvY2szuXTXbntjPn/D2zm6JSCIIHfnzfN8z5cb7zHW4/99S+544cOP105JnzL738qvRi/zGp//mo9EJ/VOo93Cu1tXdKbR1dUntnl9TW+e8Y8ljHfunR9s63Dz7Z+2bX4z1t3JFDfQcGXntFPX76DN597wOcO/8Ozrx1ljEC8cQbiAlx8MIQBnkePC+0EARWC4gxxHgcp0QxzL2+Z/v6uEMRvkf4KLM5PKFDHFd88UI5EMfV4PiYEogTWnD9p3SQWV8O0qvrwdraWvBnmnE3HaysrAT3WL28vOqvb2Txx9KSnkgkItzByKnugQtudugTYHAKhEH56RaxBOiN3yrUrxvUqtWpruu0WFQYJWoYBq1Wq9SyLOI1GjANw0wmkxHuiciJ7thYLRu/BAgJQhhoMkUxMBng13QNS6qKWyUbZs2GUXea6CzXGKblEsunKGqGuTA/FwpPdsfG69n4xwCfoESYQlMWxtgkxe11DxQBKraPIAjg/wMKwPM8wgIs2zK/Wkg+LOQTD4QUYf7DTRXlShn5ko6NLQXZYhkr97egbdvIKzrWcgox6g2UKlVzZnb+YeEwaz0+Hcpawh9v68jlc8irBnKlChNXkMkrqLs+slsFLOXLRHWBne0d84u5hb1abglv/K5jx1RhGFWo7C41TUOppMD3G1CLBdzJlci9OoVe3TYvy3u1HJ6Qya/fUlBWcqzt8KQF5AtFbGaycD0Puc0N/HK/QL7OBfg5Y5rvfzq/91AGL1LcXHVAGha7dBeO48K2HbCnAkIIHDucskM8NhQ3HMq1a61nMzBW2xiaDoWkwfCFJtSPTRL/Tob67H/2MNCMD6B09zsJGuGUbdvWFlMpJjz6es/ghKud/BwQLzOuAMO7xFl9V8F/Wo7jBIuLi0e5jsPH2qMj34xHz36/EB35dpYh/8138ocX5+XZL6/KVz6bka/OtJDlOZltllOpVBOWJ1m8NDo62svtrn2MR/4noYP7CzzKE65qeJnbAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Screen-Shot-2018-05-14-at-12.14.57\"\n        title=\"\"\n        src=\"/static/5c8b25e90719b11193bde0d5d08359a5/a3419/screen-shot-2018-05-14-at-12.14.57.png\"\n        srcset=\"/static/5c8b25e90719b11193bde0d5d08359a5/a1986/screen-shot-2018-05-14-at-12.14.57.png 210w,\n/static/5c8b25e90719b11193bde0d5d08359a5/ad7fb/screen-shot-2018-05-14-at-12.14.57.png 420w,\n/static/5c8b25e90719b11193bde0d5d08359a5/a3419/screen-shot-2018-05-14-at-12.14.57.png 840w,\n/static/5c8b25e90719b11193bde0d5d08359a5/4d498/screen-shot-2018-05-14-at-12.14.57.png 1260w,\n/static/5c8b25e90719b11193bde0d5d08359a5/70b58/screen-shot-2018-05-14-at-12.14.57.png 1680w,\n/static/5c8b25e90719b11193bde0d5d08359a5/235e3/screen-shot-2018-05-14-at-12.14.57.png 2036w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n  </span>\n  </a>\nStill there is a room for improvement as it is not hiding even after the App is fully loaded...</p>\n<h2>Step 3 - Fading out</h2>\n<p>It's time to add some JS to our <strong>src/app/app.component.ts</strong> which will handle splash screen hiding when App is ready. Open mentioned file and replace its content with:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@angular/core'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Platform <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ionic-angular'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> TabsPage <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../pages/tabs/tabs'</span><span class=\"token punctuation\">;</span>\n\n@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  templateUrl<span class=\"token punctuation\">:</span> <span class=\"token string\">'app.html'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MyApp</span> <span class=\"token punctuation\">{</span>\n  rootPage<span class=\"token punctuation\">:</span>any <span class=\"token operator\">=</span> TabsPage<span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token keyword\">public</span> platform<span class=\"token punctuation\">:</span> Platform</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">handleSplashScreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// hide #splash-screen when app is ready</span>\n  <span class=\"token keyword\">async</span> <span class=\"token function\">handleSplashScreen</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> Promise<span class=\"token operator\">&lt;</span><span class=\"token keyword\">void</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// wait for App to finish loading</span>\n      <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>platform<span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Platform initialization bug'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// Any operation that shoud be performed BEFORE showing user UI,</span>\n    <span class=\"token comment\">// in a real App that may be cookie based authentication check e.g.</span>\n    <span class=\"token comment\">// await this.authProvider.authenticate(...)</span>\n\n    <span class=\"token comment\">// fade out and remove the #splash-screen</span>\n    <span class=\"token keyword\">const</span> splash <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">'splash-screen'</span><span class=\"token punctuation\">)</span>\n    splash<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>opacity <span class=\"token operator\">=</span> <span class=\"token string\">'0'</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span> splash<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Save it. Your App is ready!</p>\n<p>Here is a description of <strong>src/app/app.component.ts</strong> modifications</p>\n<h3>imports</h3>\n<p>First of all <code class=\"language-text\">@ionic-native</code> <strong>StatusBar</strong> and <strong>SplashScreen</strong> were removed because we are dealing with browser only app. This is also the reason why we can simplify MyApp <code class=\"language-text\">constructor()</code> method.</p>\n<h3>constructor()</h3>\n<p>As mentioned above, no need for native components.</p>\n<h3>handleSpashScreen()</h3>\n<p>This method will take advantage of <code class=\"language-text\">async/await</code> construction supported by the Ionic 3 Framework. Reading method code line by line:</p>\n<ol>\n<li>We are waiting for App to be ready with <code class=\"language-text\">await</code></li>\n<li>Then we may execute some initialization related custom code</li>\n<li>Finally <strong>#splash-screen</strong> should fade out and then it should be removed, timeout of <strong>300 ms</strong> is not a general solution but in this case <strong>200 ms</strong> animation is hardcoded into CSS, so it should be a reasonable value</li>\n</ol>\n<p>The result (from Chrome Performance tab):\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8a34195d68d9186f79225d343c065dc5/a55da/screen-shot-2018-05-14-at-11.33.17.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 840px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.067961165048544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACzklEQVQoz23SzU8TQRQA8L0aTx78DzyZWA2QLcSDQFsI8eqfYsQUPw6KnjxoYiShkEgjFRGMXORDoyWY0oYGFLrt0lYou9vudtvdpWz3Y3ZnngMSjcZJfnkvk3nJm5nHpN68PbeV/Ty8U8iP8PliNJ/fjX7fyUdzHB/luEI0nd6IpjPUeiaaofJcPloqlf41UiwWh5PJ5Hkm8Sp+uW0aAMQDjNsA4FAYXA8B8S3wEd0jLt3xwKNnfOLD/9aRacLCwvtu5vnYs0sHAm+LlZK/USyjHf4bKu2mEc9nEF9Io+JuBmWzW0hu1FDbN5Gq1ZF4ICJJlJAoiCcEQfS4HGfFYjGWiU/PBZTagbdfzMDXdJqktstkfdcgqYJGUrxOaWQtpxFB1onZPiLaoUZkVSY1pUbUpkLqDYU0dBWqsoTi8XiQmU5MB1pHLXqfNiDXJE8+aHD/nQF35w24M2fAvXmdRh1uJhpwa0ajdMqA2691WMzKINarRG7WQJQFlEgkgszMzEzA933v+B00k5AbT1249sCG3ocOZUNo1IK+4/jIhshjC/pH7RMRKrFqQbvtENdxwTwy0crKCu1wmnbYMulru+B4QOJrLrz46MD4F4CJVYBJKpb8ZSL5Jx//5MNmmda4iHi+D5ZloaWlpSAzERsLFEplJEs5MKQyxr6PAVxsKBwu/+BwZZ/DosBjqVo+VcKitIdbDRGDrWIfE0yLwHEcd2l5Oci8nJoKVIU9kBo1UBUJLJuOCx2NplyAvdImyGIO1BoHisRB9WCb5gVQZR5ahwpgzwRyOja2bZPFxcVuZmJy6mKlsqdIlYIuSNUmHVCtWq1pDfqdmk7R2DzWPGb8pjaamlJXNUVRmvV6Xac1yuzsbCdzpSN45vpQuKOv50Lwak+Q7Q52sqFQmB2I9LOh/l6a97LhUB8bDv8tEgmzgwMRdnBw8MTQ0FBHV1fX2Z+Sd7q1yISSvAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Screen-Shot-2018-05-14-at-11.33.17\"\n        title=\"\"\n        src=\"/static/8a34195d68d9186f79225d343c065dc5/a3419/screen-shot-2018-05-14-at-11.33.17.png\"\n        srcset=\"/static/8a34195d68d9186f79225d343c065dc5/a1986/screen-shot-2018-05-14-at-11.33.17.png 210w,\n/static/8a34195d68d9186f79225d343c065dc5/ad7fb/screen-shot-2018-05-14-at-11.33.17.png 420w,\n/static/8a34195d68d9186f79225d343c065dc5/a3419/screen-shot-2018-05-14-at-11.33.17.png 840w,\n/static/8a34195d68d9186f79225d343c065dc5/a55da/screen-shot-2018-05-14-at-11.33.17.png 1236w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n  </span>\n  </a></p>\n<h2>Evaluation</h2>\n<p>Is it any better than it was before <strong>#splash-screen</strong> modification?</p>\n<p><strong>Before</strong> adding the splash screen inside Chrome Performance tab we can see this:\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/469a4e562fbcc5e6a0e192d73749e6b4/a55da/screen-shot-2018-05-14-at-11.34.28.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 840px;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.067961165048544%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACfUlEQVQoz4XRS2/TQBAAYF8RJw78Am5IBNQgp+2pNClV+EOV0v+BBBRRiSaljwtwaXtBKki0aUFI1InzapvEjzh+Nn6svevdYWMJ1CIkVv7snZVmNeMRvm7v3vnx7dOKJDdXW3KrInNnklxpNtucXDk5Oc3Uj+uV+lE9O+t2u3/prHbarZXDwy93hXfVtw/DwANKCWAcA0kTSCkFHyWQJAiiKABMEiAUA2EECCHwrzWZePD+w8dZ4fnLFw+UoYR0tZcif4xD+wwn1hFGZj0Tm8fYVGQcxBMckADrIx0PBwpWFRUrQ+U30pAa0draK1Gobu7mdG1AzMEpjPufWeD2WRgFzA/dTBB5zPNcdjXxeOwzyzGZYRlMN3Q2to1sb7kmqLqC19fXC0Jts5bz/QkhSQh+aLE4RpAQDCEJMxEXYB/8eML3AaA0BEQReBMXRqYKmqkyw9FBGQ1xrVorCFtbWzk6/YF8Mf6w6Xf6ZnAT3IwxwhBHCFAUM5xgCPwAHxwc8AqrG7zCgGQ5acJSmmZD+d8imPGh8cFhnpOmfHgR3t/fLwgb1Vqu2W5jU2uDobZoFCEK/FpTa1BJlqjcbtDOuUy7l91Mj+tc9Kih9ikjiDfH6LSjOI6T7MLq9m5O7Z+DoV+CZpuA4jjraWJ1od/7DoYigT1qwFiTQB/+BNuQwRrJ4HvqtKU/FSOE2N7e3qyw9vrN/X7/wlAGLXc4VOxOp+NomuZY9pXjuJxz5dhT9jU8Ni3HMYwxZ9jj8djlOcbOzk5eeJSfu/WsXJxZnLtXmJ8viLOFvFgslcSnS4ticXFBLBYXxFLxiVgqXcPjpaWiuLy8/Ee5XJ7JP87f/gX9EdxcKG7X1AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Screen-Shot-2018-05-14-at-11.34.28\"\n        title=\"\"\n        src=\"/static/469a4e562fbcc5e6a0e192d73749e6b4/a3419/screen-shot-2018-05-14-at-11.34.28.png\"\n        srcset=\"/static/469a4e562fbcc5e6a0e192d73749e6b4/a1986/screen-shot-2018-05-14-at-11.34.28.png 210w,\n/static/469a4e562fbcc5e6a0e192d73749e6b4/ad7fb/screen-shot-2018-05-14-at-11.34.28.png 420w,\n/static/469a4e562fbcc5e6a0e192d73749e6b4/a3419/screen-shot-2018-05-14-at-11.34.28.png 840w,\n/static/469a4e562fbcc5e6a0e192d73749e6b4/a55da/screen-shot-2018-05-14-at-11.34.28.png 1236w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n  </span>\n  </a>\nSo the App shows blank page for first <strong>1100ms</strong> while splash screen \"solution\" should make an impression that something is going on just after <strong>~300ms</strong>. For larger applications with much more JS (or slow GSM connections) this difference should be even larger.</p>\n<h2>Disclaimer</h2>\n<p>All tests were performed using local build and integrated webpack web server. So the results for <a href=\"https://jmarceli.github.io/ionic-splash-screen-pwa/\">Demo page</a> accessed through the Internet should/may be different.</p>\n<h2>Sources</h2>\n<p>These are pages I was looking at while creating my solution:\n<a href=\"https://ionicframework.com/docs/native/splash-screen/\">https://ionicframework.com/docs/native/splash-screen/</a>\n<a href=\"https://angularfirebase.com/lessons/generate-a-custom-spash-screen-and-icons-in-ionic/\">https://angularfirebase.com/lessons/generate-a-custom-spash-screen-and-icons-in-ionic/</a>\n<a href=\"http://tobiasahlin.com/spinkit/\">http://tobiasahlin.com/spinkit/</a>\n<a href=\"https://stackoverflow.com/questions/29017379/how-to-make-fadeout-effect-with-pure-javascript#answer-29017677\">https://stackoverflow.com/questions/29017379/how-to-make-fadeout-effect-with-pure-javascript#answer-29017677</a></p>","timeToRead":7,"rawMarkdownBody":"The Splash Screen component is available for a long time but only as [Ionic Native component](https://ionicframework.com/docs/native/splash-screen/), so we can't use it inside browser. I will describe here my approach to create a browser compilant splash screen implementation for Ionic 3 based applications.\n\n## Github\nThe complete code with all modifications may be reviewed on the Github repository [ionic-splash-screen-pwa](https://github.com/jmarceli/ionic-splash-screen-pwa).\nDemo is available on https://jmarceli.github.io/ionic-splash-screen-pwa/ (you won't see much unless you simulate not-so fast \"Fast 3G\" connection in Google Dev Tools)\n\n## Step 1 - Initialization\nLet's start by creating sample project according to the official [docs](https://ionicframework.com/getting-started).\n```bash\nionic start splash-screen-ionic tabs\n```\nAfter answering a few simple questions (with \"n\" - for no) you should see the sample app.\n![Screen-Shot-2018-05-14-at-12.14.42](img/screen-shot-2018-05-14-at-12.14.42.png)\n**At this point please make sure that you've checked \"Disable cache\" in Chrome Dev Tools. It is required to view the results easily.**\nNow refresh browser tab with your App. You should see a \"flash\" of white screen before viewing actual App content.\n\n## Step 2 - Preloader\nThe splash screen should be simple and shouldn't require any images in order to load as fast as possible.\n\nAs an example let's use the Ionic theme primary color. In order to do so append this code to the **src/app/app.scss** file:\n```scss\nbody {\n  background: color($colors, primary);\n}\n```\nNow after refreshing the App you will see no white screen at all (it will be blue screen instead).\nBut wait it is just a background color change not a \"real\" splash screen!\n\nTime to mess with some HTML. Nice HTML/CSS based \"preloaders\" may be found on the [SpinKit](http://tobiasahlin.com/spinkit/) project pages. I will use the **fading-circle** animation but feel free to select your own (you may, of course, change it later).\nOpen **src/index.html** and after `<ion-app></ion-app>` add following lines (please note that top `<div>` has an ID, it will be important):\n```html\n<!-- custom splash screen (non-angular component) -->\n<div id=\"splash-screen\" class=\"splash\">\n  <div class=\"sk-fading-circle\">\n    <div class=\"sk-circle1 sk-circle\"></div>\n    <div class=\"sk-circle2 sk-circle\"></div>\n    <div class=\"sk-circle3 sk-circle\"></div>\n    <div class=\"sk-circle4 sk-circle\"></div>\n    <div class=\"sk-circle5 sk-circle\"></div>\n    <div class=\"sk-circle6 sk-circle\"></div>\n    <div class=\"sk-circle7 sk-circle\"></div>\n    <div class=\"sk-circle8 sk-circle\"></div>\n    <div class=\"sk-circle9 sk-circle\"></div>\n    <div class=\"sk-circle10 sk-circle\"></div>\n    <div class=\"sk-circle11 sk-circle\"></div>\n    <div class=\"sk-circle12 sk-circle\"></div>\n  </div>\n</div>\n```\nThen head to **src/app/app.scss** and append a few more lines:\n```scss\n.sk-fading-circle {\n  margin: 100px auto;\n  width: 40px;\n  height: 40px;\n  position: relative;\n}\n.sk-fading-circle .sk-circle {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n}\n.sk-fading-circle .sk-circle:before {\n  content: '';\n  display: block;\n  margin: 0 auto;\n  width: 15%;\n  height: 15%;\n  background-color: #333;\n  border-radius: 100%;\n  animation: sk-circleFadeDelay 1.2s infinite ease-in-out both;\n}\n.sk-fading-circle .sk-circle2 {\n  transform: rotate(30deg);\n}\n.sk-fading-circle .sk-circle3 {\n  transform: rotate(60deg);\n}\n.sk-fading-circle .sk-circle4 {\n  transform: rotate(90deg);\n}\n.sk-fading-circle .sk-circle5 {\n  transform: rotate(120deg);\n}\n.sk-fading-circle .sk-circle6 {\n  transform: rotate(150deg);\n}\n.sk-fading-circle .sk-circle7 {\n  transform: rotate(180deg);\n}\n.sk-fading-circle .sk-circle8 {\n  transform: rotate(210deg);\n}\n.sk-fading-circle .sk-circle9 {\n  transform: rotate(240deg);\n}\n.sk-fading-circle .sk-circle10 {\n  transform: rotate(270deg);\n}\n.sk-fading-circle .sk-circle11 {\n  transform: rotate(300deg);\n}\n.sk-fading-circle .sk-circle12 {\n  transform: rotate(330deg);\n}\n.sk-fading-circle .sk-circle2:before {\n  animation-delay: -1.1s;\n}\n.sk-fading-circle .sk-circle3:before {\n  animation-delay: -1s;\n}\n.sk-fading-circle .sk-circle4:before {\n  animation-delay: -0.9s;\n}\n.sk-fading-circle .sk-circle5:before {\n  animation-delay: -0.8s;\n}\n.sk-fading-circle .sk-circle6:before {\n  animation-delay: -0.7s;\n}\n.sk-fading-circle .sk-circle7:before {\n  animation-delay: -0.6s;\n}\n.sk-fading-circle .sk-circle8:before {\n  animation-delay: -0.5s;\n}\n.sk-fading-circle .sk-circle9:before {\n  animation-delay: -0.4s;\n}\n.sk-fading-circle .sk-circle10:before {\n  animation-delay: -0.3s;\n}\n.sk-fading-circle .sk-circle11:before {\n  animation-delay: -0.2s;\n}\n.sk-fading-circle .sk-circle12:before {\n  animation-delay: -0.1s;\n}\n@keyframes sk-circleFadeDelay {\n  0%, 39%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n}\n```\nBrowser prefixes were omitted for brevity but you should copy entire code from mentioned SpinKit project page. It is available after clicking on \"Source\" link (on the top of the page).\nFinally add some custom CSS to **src/app/app.scss** which will position the animation:\n```scss\n#splash-screen {\n  opacity: 1;\n  transition: opacity 0.2s;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 999;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: color($colors, primary);\n}\n```\n\nNow our splash screen/preloader looks much nicer.\n![Screen-Shot-2018-05-14-at-12.14.57](img/screen-shot-2018-05-14-at-12.14.57.png)\nStill there is a room for improvement as it is not hiding even after the App is fully loaded...\n\n## Step 3 - Fading out\nIt's time to add some JS to our **src/app/app.component.ts** which will handle splash screen hiding when App is ready. Open mentioned file and replace its content with:\n```js\nimport { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\n\nimport { TabsPage } from '../pages/tabs/tabs';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = TabsPage;\n\n  constructor(public platform: Platform) {\n    this.handleSplashScreen()\n  }\n\n  // hide #splash-screen when app is ready\n  async handleSplashScreen(): Promise<void> {\n    try {\n      // wait for App to finish loading\n      await this.platform.ready()\n    } catch (error) {\n      console.error('Platform initialization bug')\n    }\n\n    // Any operation that shoud be performed BEFORE showing user UI,\n    // in a real App that may be cookie based authentication check e.g.\n    // await this.authProvider.authenticate(...)\n\n    // fade out and remove the #splash-screen\n    const splash = document.getElementById('splash-screen')\n    splash.style.opacity = '0'\n    setTimeout(() => { splash.remove() }, 300)\n  }\n}\n```\nSave it. Your App is ready!\n\nHere is a description of **src/app/app.component.ts** modifications\n\n### imports\nFirst of all `@ionic-native` **StatusBar** and **SplashScreen** were removed because we are dealing with browser only app. This is also the reason why we can simplify MyApp `constructor()` method.\n\n### constructor()\nAs mentioned above, no need for native components.\n\n### handleSpashScreen()\nThis method will take advantage of `async/await` construction supported by the Ionic 3 Framework. Reading method code line by line:\n1. We are waiting for App to be ready with `await`\n2. Then we may execute some initialization related custom code\n3. Finally **#splash-screen** should fade out and then it should be removed, timeout of **300 ms** is not a general solution but in this case **200 ms** animation is hardcoded into CSS, so it should be a reasonable value\n\nThe result (from Chrome Performance tab):\n![Screen-Shot-2018-05-14-at-11.33.17](img/screen-shot-2018-05-14-at-11.33.17.png)\n\n## Evaluation\nIs it any better than it was before **#splash-screen** modification?\n\n**Before** adding the splash screen inside Chrome Performance tab we can see this:\n![Screen-Shot-2018-05-14-at-11.34.28](img/screen-shot-2018-05-14-at-11.34.28.png)\nSo the App shows blank page for first **1100ms** while splash screen \"solution\" should make an impression that something is going on just after **~300ms**. For larger applications with much more JS (or slow GSM connections) this difference should be even larger.\n\n## Disclaimer\nAll tests were performed using local build and integrated webpack web server. So the results for [Demo page](https://jmarceli.github.io/ionic-splash-screen-pwa/) accessed through the Internet should/may be different.\n\n## Sources\nThese are pages I was looking at while creating my solution:\nhttps://ionicframework.com/docs/native/splash-screen/\nhttps://angularfirebase.com/lessons/generate-a-custom-spash-screen-and-icons-in-ionic/\nhttp://tobiasahlin.com/spinkit/\nhttps://stackoverflow.com/questions/29017379/how-to-make-fadeout-effect-with-pure-javascript#answer-29017677\n","excerpt":"The Splash Screen component is available for a long time but only as Ionic Native component, so we can't use it inside browser. I will…","frontmatter":{"title":"Ionic 3 browser splash screen / preloader","slug":"ionic-3-pwa-browser-splash-screen","date":"2018-05-14T04:07:00.000Z","tags":["frontend","javascript"],"date_created":"2018-06-05T06:53:30.000Z","date_updated":"2018-09-15T13:29:47.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/screen-shot-2018-05-14-at-11.46.25.png","childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAAbUlEQVQ4y2Pw6Pr/n5qYYdTAIWigeyeI/gfGCDaZBsIMIMVQAi78h2IoqgVkufAfnPYEGuTVTRUXQgyJnPrvf+ikf/9dOygyEOI6n57//+NmUMGFsLACGerSToUwRA5H1FimOB1iskfz8hAyEABqmGVGdRg2EwAAAABJRU5ErkJggg==","aspectRatio":0.994535519125683,"src":"/static/d6cbc93ab7bf76ff909a2325ad0d59a1/49b99/screen-shot-2018-05-14-at-11.46.25.png","srcSet":"/static/d6cbc93ab7bf76ff909a2325ad0d59a1/d3809/screen-shot-2018-05-14-at-11.46.25.png 150w,\n/static/d6cbc93ab7bf76ff909a2325ad0d59a1/fdbb0/screen-shot-2018-05-14-at-11.46.25.png 300w,\n/static/d6cbc93ab7bf76ff909a2325ad0d59a1/49b99/screen-shot-2018-05-14-at-11.46.25.png 364w","sizes":"(max-width: 364px) 100vw, 364px"}}}}}},{"node":{"id":"5d79f649-15f8-539d-a1e6-7f7c3e761156","html":"<p>It is possible to split you type definitions to multiple <code class=\"language-text\">.graphql</code> files and then merge them back using <a href=\"https://github.com/okgrow/merge-graphql-schemas\">merge-graphql-schemas</a> ensuring graphql modularization.</p>\n<p>This was one of the key features I was looking for when working with <strong>graphql-yoga</strong>. The example available in their repo <a href=\"https://github.com/graphcool/graphql-yoga/tree/master/examples/modular-resolvers\">modular-resolvers</a> is really helpfull but it doesn't explain how to handle <code class=\"language-text\">.graphql</code> files in subfolders.</p>\n<p>In order to achieve this kind of modularization you will have to change:\n<strong>typeDefs/index.ts</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> path <span class=\"token keyword\">from</span> <span class=\"token string\">\"path\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> fileLoader<span class=\"token punctuation\">,</span> mergeTypes <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"merge-graphql-schemas\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> typesArray <span class=\"token operator\">=</span> <span class=\"token function\">fileLoader</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"./\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> typesMerged <span class=\"token operator\">=</span> <span class=\"token function\">mergeTypes</span><span class=\"token punctuation\">(</span>typesArray<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> typesMerged<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>to:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> path <span class=\"token keyword\">from</span> <span class=\"token string\">\"path\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> fileLoader<span class=\"token punctuation\">,</span> mergeTypes <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"merge-graphql-schemas\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> typesArray <span class=\"token operator\">=</span> <span class=\"token function\">fileLoader</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> recursive<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> typesMerged <span class=\"token operator\">=</span> <span class=\"token function\">mergeTypes</span><span class=\"token punctuation\">(</span>typesArray<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> all<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> typesMerged<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>That's all and that's easy if you know the available options.</p>\n<p>Now instead of:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">▾ typeDefs/\n    index.ts\n    user.typedefs.graphql\n    welcome.typedefs.graphql</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>You may have more granular structure like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">▾ typeDefs/\n  ▾ Mutation/\n      User.graphql\n  ▾ Subscription/\n      User.graphql\n  User.graphql\n  Welcome.graphql\n  Query.graphql\n  index.ts</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Is it better in any way than example from <strong>graphql-yoga</strong> repo? I don't know, maybe not, but if it suits you better you may use it.</p>\n<p><strong>NOTE</strong>\nThese are versions of the relevant packages:\n<strong>package.json</strong> (part of it)</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"graphql-yoga\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^1.13.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"merge-graphql-schemas\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^1.5.1\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>They may differ from the official example <a href=\"https://github.com/graphcool/graphql-yoga/blob/master/examples/modular-resolvers/package.json\">package.json</a> file.</p>\n<h2>Sidenotes</h2>\n<p>My other attempt to split grapql into multiple files uses <a href=\"https://github.com/graphcool/graphql-import\">graphql-import</a>. Unfortunatelly it wasn't a good option because of lack of support for extending types (see <a href=\"https://github.com/graphcool/graphql-import/issues/42\">graphql-import issue#42</a>) e.g.:</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-graphql line-numbers\"><code class=\"language-graphql\">extend <span class=\"token keyword\">type</span> <span class=\"token class-name\">Query</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">allUsers</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>User<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>This was for me one of the core features required to split files easily, so I've decided to go with <strong>merge-graphql-schemas</strong> instead.</p>\n<p>Another option which I manage to avoid was adding Webpack for bundling server files. While it should/may work as discussed in <a href=\"https://github.com/apollographql/graphql-tools/issues/273\">graphql-tools issue#273</a> I think that keeping <strong>graphql-yoga</strong> as simple as possible is generally a good idea.</p>\n<h2>Sources</h2>\n<p><a href=\"https://github.com/graphcool/graphql-yoga/tree/master/examples/modular-resolvers\">https://github.com/graphcool/graphql-yoga/tree/master/examples/modular-resolvers</a>\n<a href=\"https://github.com/okgrow/merge-graphql-schemas\">https://github.com/okgrow/merge-graphql-schemas</a>\n<a href=\"https://github.com/apollographql/graphql-tools/issues/273\">https://github.com/apollographql/graphql-tools/issues/273</a>\n<a href=\"https://github.com/graphcool/graphql-import/issues/42\">https://github.com/graphcool/graphql-import/issues/42</a></p>","timeToRead":2,"rawMarkdownBody":"It is possible to split you type definitions to multiple `.graphql` files and then merge them back using [merge-graphql-schemas](https://github.com/okgrow/merge-graphql-schemas) ensuring graphql modularization.\n\nThis was one of the key features I was looking for when working with **graphql-yoga**. The example available in their repo [modular-resolvers](https://github.com/graphcool/graphql-yoga/tree/master/examples/modular-resolvers) is really helpfull but it doesn't explain how to handle `.graphql` files in subfolders.\n\nIn order to achieve this kind of modularization you will have to change:\n**typeDefs/index.ts**\n```javascript\nimport * as path from \"path\";\nimport { fileLoader, mergeTypes } from \"merge-graphql-schemas\";\n\nconst typesArray = fileLoader(path.join(__dirname, \"./\"));\nconst typesMerged = mergeTypes(typesArray);\n\nexport default typesMerged;\n```\nto:\n```javascript\nimport * as path from \"path\";\nimport { fileLoader, mergeTypes } from \"merge-graphql-schemas\";\n\nconst typesArray = fileLoader(path.join(__dirname, \".\"), { recursive: true });\nconst typesMerged = mergeTypes(typesArray, { all: true });\n\nexport default typesMerged;\n```\n\nThat's all and that's easy if you know the available options.\n\nNow instead of:\n```bash\n▾ typeDefs/\n    index.ts\n    user.typedefs.graphql\n    welcome.typedefs.graphql\n```\nYou may have more granular structure like this:\n```bash\n▾ typeDefs/\n  ▾ Mutation/\n      User.graphql\n  ▾ Subscription/\n      User.graphql\n  User.graphql\n  Welcome.graphql\n  Query.graphql\n  index.ts\n```\nIs it better in any way than example from **graphql-yoga** repo? I don't know, maybe not, but if it suits you better you may use it.\n\n**NOTE**\nThese are versions of the relevant packages:\n**package.json** (part of it)\n```json\n\"dependencies\": {\n    \"graphql-yoga\": \"^1.13.1\",\n    \"merge-graphql-schemas\": \"^1.5.1\"\n}\n```\nThey may differ from the official example [package.json](https://github.com/graphcool/graphql-yoga/blob/master/examples/modular-resolvers/package.json) file.\n\n## Sidenotes\nMy other attempt to split grapql into multiple files uses [graphql-import](https://github.com/graphcool/graphql-import). Unfortunatelly it wasn't a good option because of lack of support for extending types (see [graphql-import issue#42](https://github.com/graphcool/graphql-import/issues/42)) e.g.:\n```graphql\nextend type Query {\n  allUsers: [User]\n}\n```\nThis was for me one of the core features required to split files easily, so I've decided to go with **merge-graphql-schemas** instead.\n\nAnother option which I manage to avoid was adding Webpack for bundling server files. While it should/may work as discussed in [graphql-tools issue#273](https://github.com/apollographql/graphql-tools/issues/273) I think that keeping **graphql-yoga** as simple as possible is generally a good idea.\n\n## Sources\nhttps://github.com/graphcool/graphql-yoga/tree/master/examples/modular-resolvers\nhttps://github.com/okgrow/merge-graphql-schemas\nhttps://github.com/apollographql/graphql-tools/issues/273\nhttps://github.com/graphcool/graphql-import/issues/42\n","excerpt":"It is possible to split you type definitions to multiple  files and then merge them back using merge-graphql-schemas ensuring graphql…","frontmatter":{"title":"graphql-yoga import .graphql files","slug":"graphql-yoga-import-graphql-files","date":"2018-05-05T14:34:55.000Z","tags":["javascript","graphql"],"date_created":"2018-05-12T19:59:43.000Z","date_updated":"2018-05-05T14:34:55.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1444312645910-ffa973656eba.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGQAAAwADAAAAAAAAAAAAAAAAAAMEAQIF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAb8SqOmSkIjfMtZsR//EABwQAQACAgMBAAAAAAAAAAAAAAEAAhESAxMhMv/aAAgBAQABBQKilTny9rNxrxeW2qy/yW1gLLhjbwvk/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAHxAAAQMDBQAAAAAAAAAAAAAAAAERMRAhMkFRYYGR/9oACAEBAAY/AnRiDAlWL2MX6NiLcjopDU08P//EAB0QAQACAwEAAwAAAAAAAAAAAAEAESExQVGBobH/2gAIAQEAAT8hrhlnGWNgXjiIuzP1UdiLm2+bnoDibTcfZuMrbdQZouqgLh7KmMAFlif/2gAMAwEAAgADAAAAEJDxj//EABgRAAIDAAAAAAAAAAAAAAAAAAABEBEh/9oACAEDAQE/ENKY4//EABkRAAMAAwAAAAAAAAAAAAAAAAABERAhMf/aAAgBAgEBPxDRUKLuP//EAB4QAQEAAwACAwEAAAAAAAAAAAERACFBMVFhcYGR/9oACAEBAAE/EF8AQDh31gjVu3vJLfLQwOXwiQdNB8YmpFSMp4mKqAaVQc7kA2WxAIeu/sxLB62IHd5Ao3wQT8c2XUPf7rrEIA225EEAOjX+5//Z","aspectRatio":0.6666666666666666,"src":"/static/c3b8665195a8448b3da6587755201ce8/775d9/photo-1444312645910-ffa973656eba.jpg","srcSet":"/static/c3b8665195a8448b3da6587755201ce8/cb3d3/photo-1444312645910-ffa973656eba.jpg 150w,\n/static/c3b8665195a8448b3da6587755201ce8/c83a6/photo-1444312645910-ffa973656eba.jpg 300w,\n/static/c3b8665195a8448b3da6587755201ce8/775d9/photo-1444312645910-ffa973656eba.jpg 600w,\n/static/c3b8665195a8448b3da6587755201ce8/2b1a3/photo-1444312645910-ffa973656eba.jpg 900w,\n/static/c3b8665195a8448b3da6587755201ce8/90537/photo-1444312645910-ffa973656eba.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"8233ccba-de1e-5173-902c-af1303555007","html":"<p>Use <code class=\"language-text\">ngAfterViewChecked()</code> Angular hook and execute <code class=\"language-text\">.setFocus()</code> inside it.</p>\n<p>While working with the Ionic 3 Framework I came across (as it turns out) popular problem of autofocusing an input after showing a component on the page.</p>\n<p>The most popular answer to this problem advises to use <code class=\"language-text\">setTimeout</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token function\">ionViewLoaded</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myInput<span class=\"token punctuation\">.</span><span class=\"token function\">setFocus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token number\">150</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>I hate such workarounds so I've decided to dig deeper. While none of the available <a href=\"https://blog.ionicframework.com/navigating-lifecycle-events/\">Ionic lifecycle hooks</a> works in that case there are also <a href=\"https://angular.io/guide/lifecycle-hooks\">Angular lifecycle hooks</a>. It turns out that <code class=\"language-text\">ngAfterViewChecked</code> is the one I was looking for:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token function\">ngAfterViewChecked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myInput<span class=\"token punctuation\">.</span><span class=\"token function\">setFocus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>So that is clean <code class=\"language-text\">setFocus()</code> solution for Ionic without using <code class=\"language-text\">setTimeout()</code> workaround.</p>\n<h2>Sidenote</h2>\n<p>In order to be able to refer to the input element with <code class=\"language-text\">this.myInput</code> you have to define it inside your Component as a ViewChild.</p>\n<p>Here is the example of Modal Component which will autofocus its input after showing itself on the page.\nJavascript:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">@<span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  selector<span class=\"token punctuation\">:</span> <span class=\"token string\">'location-modal-create'</span><span class=\"token punctuation\">,</span>\n  templateUrl<span class=\"token punctuation\">:</span> <span class=\"token string\">'modal-create.html'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">LocationCreateModal</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> location<span class=\"token punctuation\">:</span> FormGroup<span class=\"token punctuation\">;</span>\n\n  @<span class=\"token function\">ViewChild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'myInput'</span><span class=\"token punctuation\">)</span> myInput<span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span>\n    <span class=\"token parameter\"><span class=\"token keyword\">public</span> platform<span class=\"token punctuation\">:</span> Platform<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">public</span> params<span class=\"token punctuation\">:</span> NavParams<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">public</span> viewCtrl<span class=\"token punctuation\">:</span> ViewController<span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">private</span> formBuilder<span class=\"token punctuation\">:</span> FormBuilder</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>location <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>formBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">group</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      name<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">''</span><span class=\"token punctuation\">,</span> Validators<span class=\"token punctuation\">.</span>required<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>params <span class=\"token operator\">=</span> params<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewCtrl <span class=\"token operator\">=</span> viewCtrl<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">ngAfterViewChecked</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>myInput<span class=\"token punctuation\">.</span><span class=\"token function\">setFocus</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">dismiss</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>viewCtrl<span class=\"token punctuation\">.</span><span class=\"token function\">dismiss</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Html:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ion-header</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ion-toolbar</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ion-title</span><span class=\"token punctuation\">></span></span>\n      New Location\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ion-title</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ion-buttons</span> <span class=\"token attr-name\">end</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">ion-button</span> <span class=\"token attr-name\">(click)</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>dismiss()<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>span</span> <span class=\"token attr-name\">ion-text</span> <span class=\"token attr-name\">color</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>primary<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">showWhen</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>ios<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Cancel<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>span</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ion-icon</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>close<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">hideWhen</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>ios<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ion-icon</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ion-buttons</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ion-toolbar</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ion-header</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ion-content</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">[formGroup]</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>location<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">(ngSubmit)</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>submit()<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ion-item</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ion-label</span> <span class=\"token attr-name\">floating</span><span class=\"token punctuation\">></span></span>Location name<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ion-label</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ion-input</span> <span class=\"token attr-name\">#myInput</span> <span class=\"token attr-name\">formControlName</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>name<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ion-input</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ion-item</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">padding</span> <span class=\"token attr-name\">*ngIf</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>location.valid<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">ion-button</span> <span class=\"token attr-name\">block</span><span class=\"token punctuation\">></span></span>Create Location<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">padding</span> <span class=\"token attr-name\">*ngIf</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>!location.valid<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">ion-button</span> <span class=\"token attr-name\">block</span> <span class=\"token attr-name\">disabled</span> <span class=\"token attr-name\">outline</span><span class=\"token punctuation\">></span></span>Please fill Location data<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ion-content</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2>Sources</h2>\n<p><a href=\"https://forum.ionicframework.com/t/setting-focus-to-an-input-in-ionic/62789/36\">https://forum.ionicframework.com/t/setting-focus-to-an-input-in-ionic/62789/36</a>\n<a href=\"https://stackoverflow.com/questions/42693567/not-been-able-to-set-focus-to-my-ion-input-as-i-enter-the-page/43193925\">https://stackoverflow.com/questions/42693567/not-been-able-to-set-focus-to-my-ion-input-as-i-enter-the-page/43193925</a></p>","timeToRead":2,"rawMarkdownBody":"Use `ngAfterViewChecked()` Angular hook and execute `.setFocus()` inside it.\n\nWhile working with the Ionic 3 Framework I came across (as it turns out) popular problem of autofocusing an input after showing a component on the page.\n\nThe most popular answer to this problem advises to use `setTimeout`:\n```js\nionViewLoaded() {\n    setTimeout(() => {\n        this.myInput.setFocus();\n    },150);\n}\n```\n\nI hate such workarounds so I've decided to dig deeper. While none of the available [Ionic lifecycle hooks](https://blog.ionicframework.com/navigating-lifecycle-events/) works in that case there are also [Angular lifecycle hooks](https://angular.io/guide/lifecycle-hooks). It turns out that `ngAfterViewChecked` is the one I was looking for:\n\n```js\nngAfterViewChecked() {\n    this.myInput.setFocus()\n}\n```\n\nSo that is clean `setFocus()` solution for Ionic without using `setTimeout()` workaround.\n\n## Sidenote\nIn order to be able to refer to the input element with `this.myInput` you have to define it inside your Component as a ViewChild.\n\nHere is the example of Modal Component which will autofocus its input after showing itself on the page.\nJavascript:\n```js\n@Component({\n  selector: 'location-modal-create',\n  templateUrl: 'modal-create.html'\n})\nexport class LocationCreateModal {\n  private location: FormGroup;\n\n  @ViewChild('myInput') myInput;\n\n  constructor(\n    public platform: Platform,\n    public params: NavParams,\n    public viewCtrl: ViewController,\n    private formBuilder: FormBuilder\n  ) {\n    this.location = this.formBuilder.group({\n      name: ['', Validators.required],\n    });\n    this.params = params;\n    this.viewCtrl = viewCtrl;\n  }\n\n  ngAfterViewChecked() {\n    this.myInput.setFocus()\n  }\n\n  dismiss() {\n    this.viewCtrl.dismiss();\n  }\n}\n```\n\nHtml:\n```html\n<ion-header>\n  <ion-toolbar>\n    <ion-title>\n      New Location\n    </ion-title>\n    <ion-buttons end>\n      <button ion-button (click)=\"dismiss()\">\n        <span ion-text color=\"primary\" showWhen=\"ios\">Cancel</span>\n        <ion-icon name=\"close\" hideWhen=\"ios\"></ion-icon>\n      </button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <form [formGroup]=\"location\" (ngSubmit)=\"submit()\">\n\n    <ion-item>\n      <ion-label floating>Location name</ion-label>\n      <ion-input #myInput formControlName=\"name\" type=\"text\"></ion-input>\n    </ion-item>\n\n    <div padding *ngIf=\"location.valid\">\n      <button ion-button block>Create Location</button>\n    </div>\n    <div padding *ngIf=\"!location.valid\">\n      <button ion-button block disabled outline>Please fill Location data</button>\n    </div>\n\n  </form>\n</ion-content>\n```\n\n## Sources\nhttps://forum.ionicframework.com/t/setting-focus-to-an-input-in-ionic/62789/36\nhttps://stackoverflow.com/questions/42693567/not-been-able-to-set-focus-to-my-ion-input-as-i-enter-the-page/43193925\n","excerpt":"Use  Angular hook and execute  inside it.While working with the Ionic 3 Framework I came across (as it turns out) popular problem of…","frontmatter":{"title":"Ionic 3 Framework - setFocus on opened modal input","slug":"ionic-3-framework-setfocus-of-an-input","date":"2018-04-20T03:41:00.000Z","tags":["frontend","javascript"],"date_created":"2018-04-25T22:59:15.000Z","date_updated":"2018-09-15T12:13:23.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1528916484197-ce92c83dc038.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAMBAgUE/8QAFwEAAwEAAAAAAAAAAAAAAAAAAAECA//aAAwDAQACEAMQAAABW7N73NwGZzFTGlxIL//EABwQAAICAgMAAAAAAAAAAAAAAAARAQMCEiEiM//aAAgBAQABBQKEJmh6Z1WRXGV+L1I4OoxjP//EABYRAQEBAAAAAAAAAAAAAAAAABEAEP/aAAgBAwEBPwE1v//EABURAQEAAAAAAAAAAAAAAAAAABEg/9oACAECAQE/AWP/xAAbEAACAgMBAAAAAAAAAAAAAAAAASExESAyQf/aAAgBAQAGPwKTKKH4hqDohlFaf//EAB8QAQACAQMFAAAAAAAAAAAAAAEAESExQXEQYYGh0f/aAAgBAQABPyFjFCFWqdpeMIvciAwvC4myDggDPpiBoeYlviE+fT//2gAMAwEAAgADAAAAEKwED//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxCIQTSIP//EABcRAQEBAQAAAAAAAAAAAAAAAAABETH/2gAIAQIBAT8Q6asrK//EAB0QAQACAgMBAQAAAAAAAAAAAAEAESExQVFhcYH/2gAIAQEAAT8QrkT1qa4fnIlmVRaI4y6DQex/k75DqnBcTZxdMh+3HxK9MtDJcudxtgHyKe4mnZjZ5n//2Q==","aspectRatio":0.6666666666666666,"src":"/static/e821a3b0cfa5d2a914083a69ee468196/775d9/photo-1528916484197-ce92c83dc038.jpg","srcSet":"/static/e821a3b0cfa5d2a914083a69ee468196/cb3d3/photo-1528916484197-ce92c83dc038.jpg 150w,\n/static/e821a3b0cfa5d2a914083a69ee468196/c83a6/photo-1528916484197-ce92c83dc038.jpg 300w,\n/static/e821a3b0cfa5d2a914083a69ee468196/775d9/photo-1528916484197-ce92c83dc038.jpg 600w,\n/static/e821a3b0cfa5d2a914083a69ee468196/2b1a3/photo-1528916484197-ce92c83dc038.jpg 900w,\n/static/e821a3b0cfa5d2a914083a69ee468196/90537/photo-1528916484197-ce92c83dc038.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"db8f8c11-0353-5ec7-a748-b19a263347ba","html":"<p>While playing with Ionic Framework v3 I came across few errors/problems which I would like to describe here.</p>\n<h2>ion-app did not match eny elements</h2>\n<p>Exact error message is:</p>\n<blockquote>\n<p>ERROR Error: The selector \"ion-app\" did not match any elements</p>\n</blockquote>\n<p>or/and:</p>\n<blockquote>\n<p>Unhandled Promise rejection: The selector \"ion-app\" did not match any elements ; Zone: <root> ; Task: Promise.then ; Value: Error: The selector \"ion-app\" did not match any elements</p>\n</blockquote>\n<p>For me this wasn't descriptive enough to troubleshoot the issue instantly, but after spending some time debugging and rewriting my App I find out that this error means:</p>\n<p>Application can't find <code class=\"language-text\">&lt;ion-app&gt;&lt;/ion-app&gt;</code> DOM element, so there is probably some issue with \"root/main\" template and Javascript interpreter/compiler can't find <code class=\"language-text\">&lt;ion-app&gt;&lt;/ion-app&gt;</code> inside this template. That is why Ionic is not rendered/bootstraped.</p>\n<h3>Here is my case</h3>\n<p>My initial (buggy) <code class=\"language-text\">main.html</code> template:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token doctype\">&lt;!DOCTYPE html></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Todos<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ion-app</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ion-app</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>It turns out that wrapping Ionic template with:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>was a terrible idea.</p>\n<h3>Solution</h3>\n<p>In my case it was just removing <code class=\"language-text\">&lt;html&gt;&lt;/html&gt;</code> tags which wraps entire app template. So after modification <code class=\"language-text\">main.html</code> file looks as follows:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>title</span><span class=\"token punctuation\">></span></span>Todos<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>title</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>ion-app</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>ion-app</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Easy? Very easy if know what's going on...</p>\n<h2>Auto opening new browser tab on every Ionic App start</h2>\n<p>That one drives me crazy. While it is fine for first run to pop-up a new tab with a developed App it doesn't make any sense in a long run. App restarts are required from time to time and auto-opening new tab becomes very annoying.</p>\n<h3>Solution</h3>\n<p>Quick and easy if you know where to look for it. Head to the <strong>package.json</strong> file, find <code class=\"language-text\">&quot;scripts&quot;</code> section and replace:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\">    <span class=\"token property\">\"ionic:serve\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ionic-app-scripts serve\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>with:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\">    <span class=\"token property\">\"ionic:serve\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ionic-app-scripts serve --nobrowser\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Now you may restart your App server as many times as you want without worring about opening new browser tab on each start.</p>","timeToRead":2,"rawMarkdownBody":"While playing with Ionic Framework v3 I came across few errors/problems which I would like to describe here.\n\n## ion-app did not match eny elements\n\nExact error message is:\n\n> ERROR Error: The selector \"ion-app\" did not match any elements\n\nor/and:\n\n> Unhandled Promise rejection: The selector \"ion-app\" did not match any elements ; Zone: <root> ; Task: Promise.then ; Value: Error: The selector \"ion-app\" did not match any elements\n\nFor me this wasn't descriptive enough to troubleshoot the issue instantly, but after spending some time debugging and rewriting my App I find out that this error means:\n\nApplication can't find `<ion-app></ion-app>` DOM element, so there is probably some issue with \"root/main\" template and Javascript interpreter/compiler can't find `<ion-app></ion-app>` inside this template. That is why Ionic is not rendered/bootstraped.\n\n### Here is my case\n\nMy initial (buggy) `main.html` template:\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Todos</title>\n</head>\n\n<body>\n  <ion-app></ion-app>\n</body>\n</html>\n```\n\nIt turns out that wrapping Ionic template with:\n```html\n<html>\n</html>\n```\nwas a terrible idea.\n\n### Solution\n\nIn my case it was just removing `<html></html>` tags which wraps entire app template. So after modification `main.html` file looks as follows:\n\n```html\n<head>\n  <title>Todos</title>\n</head>\n\n<body>\n  <ion-app></ion-app>\n</body>\n```\n\nEasy? Very easy if know what's going on...\n\n## Auto opening new browser tab on every Ionic App start\nThat one drives me crazy. While it is fine for first run to pop-up a new tab with a developed App it doesn't make any sense in a long run. App restarts are required from time to time and auto-opening new tab becomes very annoying.\n\n### Solution\nQuick and easy if you know where to look for it. Head to the **package.json** file, find `\"scripts\"` section and replace:\n```json\n    \"ionic:serve\": \"ionic-app-scripts serve\"\n```\nwith:\n```json\n    \"ionic:serve\": \"ionic-app-scripts serve --nobrowser\"\n```\nNow you may restart your App server as many times as you want without worring about opening new browser tab on each start.\n","excerpt":"While playing with Ionic Framework v3 I came across few errors/problems which I would like to describe here.ion-app did not match eny…","frontmatter":{"title":"Ionic Framework 3 - troubleshooting","slug":"ionic-framework-3-troubleshooting","date":"2018-04-11T03:03:00.000Z","tags":["javascript","frontend"],"date_created":"2018-04-13T02:00:28.000Z","date_updated":"2018-09-15T12:23:50.000Z","author":"jan","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/posts/img/photo-1536349156324-682aa16f0c26.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAGrcSiwiKhS0Txp1jniX//EABwQAAMAAgMBAAAAAAAAAAAAAAABAgMSERMhIv/aAAgBAQABBQLHKRVsXAqIG6NtV2LWcnlv5Qmf/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAEDAQE/AYmtV//EABgRAQADAQAAAAAAAAAAAAAAAAABAhIR/9oACAECAQE/AetQqxD/xAAeEAABBAEFAAAAAAAAAAAAAAABABARIQIgIjEyQf/aAAgBAQAGPwK/FJAAfKphdS23nT//xAAdEAEAAwABBQAAAAAAAAAAAAABABEhMUFRcYGR/9oACAEBAAE/IS76FwQJHaUGRE1U4jFGSxiGz1M3blfIUOFtlht3xLIUSuZ//9oADAMBAAIAAwAAABBs8n//xAAYEQEBAQEBAAAAAAAAAAAAAAABACERYf/aAAgBAwEBPxDV5S5hDL//xAAYEQADAQEAAAAAAAAAAAAAAAAAAREhYf/aAAgBAgEBPxCTqJVo3On/xAAdEAEBAAMAAgMAAAAAAAAAAAABEQAhMVFhgbHB/9oACAEBAAE/EFoNZga17xY9ybMfLjURtvc3cQxyCRxShYZu4yfGUpCDxOGO2TQW9MD9wTqD0ApPOMz2sbzd+8csxtUXP//Z","aspectRatio":0.6666666666666666,"src":"/static/7a740a32b8d434ef1d9ebea4222f0bad/775d9/photo-1536349156324-682aa16f0c26.jpg","srcSet":"/static/7a740a32b8d434ef1d9ebea4222f0bad/cb3d3/photo-1536349156324-682aa16f0c26.jpg 150w,\n/static/7a740a32b8d434ef1d9ebea4222f0bad/c83a6/photo-1536349156324-682aa16f0c26.jpg 300w,\n/static/7a740a32b8d434ef1d9ebea4222f0bad/775d9/photo-1536349156324-682aa16f0c26.jpg 600w,\n/static/7a740a32b8d434ef1d9ebea4222f0bad/2b1a3/photo-1536349156324-682aa16f0c26.jpg 900w,\n/static/7a740a32b8d434ef1d9ebea4222f0bad/90537/photo-1536349156324-682aa16f0c26.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"id":"91a22ab2-3374-5f9b-b2d0-fee9e398b287","html":"<p>ScrollMagic is a great JS library which makes you page look lively. Here is how I manage to integrate it with my Webpack based build process.</p>\n<p>For starters, install the ScrollMagic and GSAP via npm:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev scrollmagic gsap</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Adjust Webpack config (<code class=\"language-text\">webpack.config.js</code>) by adding:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  resolve<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    alias<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"TweenLite\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gsap/src/uncompressed/TweenLite.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"TweenMax\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gsap/src/uncompressed/TweenMax.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"TimelineLite\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gsap/src/uncompressed/TimelineLite.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"TimelineMax\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gsap/src/uncompressed/TimelineMax.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"ScrollMagic\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'scrollmagic/scrollmagic/uncompressed/ScrollMagic.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"animation.gsap\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"debug.addIndicators\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators.js'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Then in your JS file use the following sample code, this is the file where you write all JS for your site e.g. <code class=\"language-text\">assets/js/custom.js</code> (name and path depends on your Webpack config):</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> ScrollMagic <span class=\"token keyword\">from</span> <span class=\"token string\">'scrollmagic/scrollmagic/uncompressed/ScrollMagic'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> TweenMax <span class=\"token keyword\">from</span> <span class=\"token string\">'gsap/src/uncompressed/TweenMax'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> TimelineMax <span class=\"token keyword\">from</span> <span class=\"token string\">'gsap/src/uncompressed/TimelineMax'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// init controller</span>\n<span class=\"token keyword\">const</span> controller <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ScrollMagic<span class=\"token punctuation\">.</span>Controller</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// build scene</span>\n<span class=\"token keyword\">const</span> scene <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ScrollMagic<span class=\"token punctuation\">.</span>Scene</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          triggerElement<span class=\"token punctuation\">:</span> <span class=\"token string\">\"main.content\"</span><span class=\"token punctuation\">,</span> duration<span class=\"token punctuation\">:</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span> offset<span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">100</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">setTween</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".post-title\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>scale<span class=\"token punctuation\">:</span> <span class=\"token number\">2.5</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// trigger a TweenMax.to tween</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">addIndicators</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"2 (duration: 300)\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// add indicators (requires plugin)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">addTo</span><span class=\"token punctuation\">(</span>controller<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>NOTE</strong>: If you want to use minified version (and you probably should in production) replace all <em>uncompressed</em> with <em>minified</em> and add <em>.min</em> extensions to the file names. You should replace file paths in both places: JS file (e.g. <code class=\"language-text\">assets/js/custom.js</code>) and Webpack configuration (<code class=\"language-text\">webpack.config.js</code>).</p>\n<p>If you use compressed version in you JS file and uncompressed inside Webpack config you will end up with the following error (or similar):</p>\n<p><code class=\"language-text\">Error: Cannot resolve module &#39;TweenMax&#39;</code> or <code class=\"language-text\">Error: Cannot resolve module &#39;TimelineMax&#39;</code>.</p>\n<p>Examples for minified version:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">  resolve<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    alias<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"TweenLite\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gsap/src/minified/TweenLite.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"TweenMax\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gsap/src/minified/TweenMax.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"TimelineLite\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gsap/src/minified/TimelineLite.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"TimelineMax\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'gsap/src/minified/TimelineMax.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"ScrollMagic\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'scrollmagic/scrollmagic/minified/ScrollMagic.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"animation.gsap\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'scrollmagic/scrollmagic/minified/plugins/animation.gsap.min.js'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"debug.addIndicators\"</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'node_modules'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'scrollmagic/scrollmagic/minified/plugins/debug.addIndicators.min.js'</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>and</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> ScrollMagic <span class=\"token keyword\">from</span> <span class=\"token string\">'scrollmagic/scrollmagic/minified/ScrollMagic.min'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'scrollmagic/scrollmagic/minified/plugins/animation.gsap.min'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">'scrollmagic/scrollmagic/minified/plugins/debug.addIndicators.min'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> TweenMax <span class=\"token keyword\">from</span> <span class=\"token string\">'gsap/src/minified/TweenMax.min'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> TimelineMax <span class=\"token keyword\">from</span> <span class=\"token string\">'gsap/src/minified/TimelineMax.min'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// remaining JS code...</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2>Sources</h2>\n<p><a href=\"https://github.com/janpaepke/ScrollMagic/wiki/Getting-Started-:-Using-AMD\">https://github.com/janpaepke/ScrollMagic/wiki/Getting-Started-:-Using-AMD</a></p>","timeToRead":2,"rawMarkdownBody":"ScrollMagic is a great JS library which makes you page look lively. Here is how I manage to integrate it with my Webpack based build process.\n\nFor starters, install the ScrollMagic and GSAP via npm:\n\n```bash\nnpm install --save-dev scrollmagic gsap\n```\n\nAdjust Webpack config (`webpack.config.js`) by adding:\n\n```javascript\n  resolve: {\n    alias: {\n        \"TweenLite\": path.resolve('node_modules', 'gsap/src/uncompressed/TweenLite.js'),\n        \"TweenMax\": path.resolve('node_modules', 'gsap/src/uncompressed/TweenMax.js'),\n        \"TimelineLite\": path.resolve('node_modules', 'gsap/src/uncompressed/TimelineLite.js'),\n        \"TimelineMax\": path.resolve('node_modules', 'gsap/src/uncompressed/TimelineMax.js'),\n        \"ScrollMagic\": path.resolve('node_modules', 'scrollmagic/scrollmagic/uncompressed/ScrollMagic.js'),\n        \"animation.gsap\": path.resolve('node_modules', 'scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap.js'),\n        \"debug.addIndicators\": path.resolve('node_modules', 'scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators.js')\n    },\n  },\n```\n\nThen in your JS file use the following sample code, this is the file where you write all JS for your site e.g. `assets/js/custom.js` (name and path depends on your Webpack config):\n\n```javascript\nimport ScrollMagic from 'scrollmagic/scrollmagic/uncompressed/ScrollMagic';\nimport 'scrollmagic/scrollmagic/uncompressed/plugins/animation.gsap';\nimport 'scrollmagic/scrollmagic/uncompressed/plugins/debug.addIndicators';\nimport TweenMax from 'gsap/src/uncompressed/TweenMax';\nimport TimelineMax from 'gsap/src/uncompressed/TimelineMax';\n\n// init controller\nconst controller = new ScrollMagic.Controller();\n\n// build scene\nconst scene = new ScrollMagic.Scene({\n          triggerElement: \"main.content\", duration: 300, offset: -100\n        })\n        .setTween(\".post-title\", 0.5, {scale: 2.5}) // trigger a TweenMax.to tween\n        .addIndicators({name: \"2 (duration: 300)\"}) // add indicators (requires plugin)\n        .addTo(controller);\n```\n\n**NOTE**: If you want to use minified version (and you probably should in production) replace all *uncompressed* with *minified* and add *.min* extensions to the file names. You should replace file paths in both places: JS file (e.g. `assets/js/custom.js`) and Webpack configuration (`webpack.config.js`).\n\nIf you use compressed version in you JS file and uncompressed inside Webpack config you will end up with the following error (or similar):\n\n`Error: Cannot resolve module 'TweenMax'` or `Error: Cannot resolve module 'TimelineMax'`.\n\nExamples for minified version:\n```javascript\n  resolve: {\n    alias: {\n        \"TweenLite\": path.resolve('node_modules', 'gsap/src/minified/TweenLite.min.js'),\n        \"TweenMax\": path.resolve('node_modules', 'gsap/src/minified/TweenMax.min.js'),\n        \"TimelineLite\": path.resolve('node_modules', 'gsap/src/minified/TimelineLite.min.js'),\n        \"TimelineMax\": path.resolve('node_modules', 'gsap/src/minified/TimelineMax.min.js'),\n        \"ScrollMagic\": path.resolve('node_modules', 'scrollmagic/scrollmagic/minified/ScrollMagic.min.js'),\n        \"animation.gsap\": path.resolve('node_modules', 'scrollmagic/scrollmagic/minified/plugins/animation.gsap.min.js'),\n        \"debug.addIndicators\": path.resolve('node_modules', 'scrollmagic/scrollmagic/minified/plugins/debug.addIndicators.min.js')\n    },\n  },\n```\n\nand\n\n```javascript\nimport ScrollMagic from 'scrollmagic/scrollmagic/minified/ScrollMagic.min';\nimport 'scrollmagic/scrollmagic/minified/plugins/animation.gsap.min';\nimport 'scrollmagic/scrollmagic/minified/plugins/debug.addIndicators.min';\nimport TweenMax from 'gsap/src/minified/TweenMax.min';\nimport TimelineMax from 'gsap/src/minified/TimelineMax.min';\n\n// remaining JS code...\n```\n\n## Sources\n\nhttps://github.com/janpaepke/ScrollMagic/wiki/Getting-Started-:-Using-AMD\n","excerpt":"ScrollMagic is a great JS library which makes you page look lively. Here is how I manage to integrate it with my Webpack based build process…","frontmatter":{"title":"ScrollMagic setup for Webpack (a CommonJS setup)","slug":"scrollmagic-setup-for-webpack-commonjs","date":"2017-05-12T12:49:51.000Z","tags":["javascript","webpack"],"date_created":"2017-04-04T05:00:53.000Z","date_updated":"2018-12-13T18:51:42.000Z","author":"jan","feature_image":null}}},{"node":{"id":"35494ee3-8ffa-56d1-85f5-dd1ccaf51e29","html":"<p>Sometimes your website may need inner scrolling for an element with overflowing content. In most cases using simple:</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-css line-numbers\"><code class=\"language-css\"><span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> scroll<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>is not enough to achieve the desired result (nice scrollbars for HTML element e.g. <code class=\"language-text\">&lt;div&gt;</code>).</p>\n<p>Styling scrollbars for overflowing content is a nightmare using pure CSS techniques (if you want a decent browser support). The only reasonable solution seems to be a solid JS library. Fortunately, there is one available as a <a href=\"https://github.com/noraesae/perfect-scrollbar\">perfect-scrollbar</a> Github project.</p>\n<p>With this awesome library, all you need to do is just initialize it with a wrapper selector for your overflowing content.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.wrapper'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">perfectScrollbar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">.wrapper</code> is an element which width or height is smaller than its content and it should have following styles applied (if you don't want to use default <code class=\"language-text\">perfect-scrollbar</code> css):</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-css line-numbers\"><code class=\"language-css\"><span class=\"token selector\">.wrapper</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> hidden<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> relative<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The examples provided in the docs should be just enough to get you started, so I won't rewrite them here.</p>\n<h2>A use case</h2>\n<p>Here is how it looks on one of my recent projects (real usage example). The website was a simple long page with one horizontally scrolled section which was expanded on mobile to one long column:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> $ <span class=\"token keyword\">from</span> <span class=\"token string\">'jquery'</span><span class=\"token punctuation\">;</span>\n<span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'perfect-scrollbar/jquery'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>$<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HorizontalSection</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">constructor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>ready <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>resize <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">resize</span><span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>ready<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// initialize after document is ready</span>\n  <span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$element <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.Days-wrapper'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">resize</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>resize<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">resize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// handles scrollbars after resizing screen</span>\n  <span class=\"token function\">resize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'html'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">hasClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'touchevents'</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">width</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">540</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// disable for small mobile screens</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$element<span class=\"token punctuation\">.</span><span class=\"token function\">perfectScrollbar</span><span class=\"token punctuation\">(</span><span class=\"token string\">'destroy'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$element<span class=\"token punctuation\">.</span><span class=\"token function\">hasClass</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ps-container'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// is already initialized</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$element<span class=\"token punctuation\">.</span><span class=\"token function\">perfectScrollbar</span><span class=\"token punctuation\">(</span><span class=\"token string\">'update'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// initialize</span>\n      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// initialize scrollbars</span>\n  <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>$element<span class=\"token punctuation\">.</span><span class=\"token function\">perfectScrollbar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      suppressScrollY<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>As you may see for smaller screens where horizontal scrolling is not used I've disabled the perfect-scrollbar because it may prevent the user from scrolling vertically (in some edge cases).</p>","timeToRead":1,"rawMarkdownBody":"Sometimes your website may need inner scrolling for an element with overflowing content. In most cases using simple:\n\n```css\noverflow: scroll;\n```\n\nis not enough to achieve the desired result (nice scrollbars for HTML element e.g. `<div>`).\n\nStyling scrollbars for overflowing content is a nightmare using pure CSS techniques (if you want a decent browser support). The only reasonable solution seems to be a solid JS library. Fortunately, there is one available as a [perfect-scrollbar](https://github.com/noraesae/perfect-scrollbar) Github project.\n\nWith this awesome library, all you need to do is just initialize it with a wrapper selector for your overflowing content.\n\n```javascript\n$('.wrapper').perfectScrollbar();\n```\n\n`.wrapper` is an element which width or height is smaller than its content and it should have following styles applied (if you don't want to use default `perfect-scrollbar` css):\n\n```css\n.wrapper {\n  overflow: hidden;\n  position: relative;\n}\n```\n\nThe examples provided in the docs should be just enough to get you started, so I won't rewrite them here.\n\n## A use case\n\nHere is how it looks on one of my recent projects (real usage example). The website was a simple long page with one horizontally scrolled section which was expanded on mobile to one long column:\n\n```javascript\nimport $ from 'jquery';\nrequire('perfect-scrollbar/jquery')($);\n\nexport default class HorizontalSection {\n  constructor() {\n    this.ready = this.ready.bind(this);\n    this.resize = this.resize.bind(this);\n\n    $(document).ready(this.ready);\n  }\n\n  // initialize after document is ready\n  ready() {\n    this.$element = $('.Days-wrapper');\n\n    $(window).resize(this.resize);\n\n    this.resize();\n  }\n\n  // handles scrollbars after resizing screen\n  resize() {\n    if ( $('html').hasClass('touchevents') && $(window).width() < 540 ) {\n      // disable for small mobile screens\n      this.$element.perfectScrollbar('destroy');\n      return;\n    }\n\n    if ( this.$element.hasClass('ps-container') ) {\n      // is already initialized\n      this.$element.perfectScrollbar('update');\n    } else {\n      // initialize\n      this.init();\n    }\n  }\n\n  // initialize scrollbars\n  init() {\n    this.$element.perfectScrollbar({\n      suppressScrollY: true\n    });\n  }\n}\n\n```\n\nAs you may see for smaller screens where horizontal scrolling is not used I've disabled the perfect-scrollbar because it may prevent the user from scrolling vertically (in some edge cases).\n","excerpt":"Sometimes your website may need inner scrolling for an element with overflowing content. In most cases using simple:is not enough to achieve…","frontmatter":{"title":"Custom scrollbars for HTML elements","slug":"custom-scrollbars-for-html-elements","date":"2017-03-20T22:34:00.000Z","tags":["javascript","frontend","github-libraries"],"date_created":"2017-03-20T21:43:13.000Z","date_updated":"2017-03-30T16:57:43.000Z","author":"jan","feature_image":null}}}]},"tag":{"id":"5b982ddf16b0a81519316f70","name":"Javascript","description":"The most popular scripting language","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/code-583073_1280.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHi5AbQb//EABYQAQEBAAAAAAAAAAAAAAAAABEAIP/aAAgBAQABBQJmcf/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/Aar/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEv/aAAgBAgEBPwGUv//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABYQAAMAAAAAAAAAAAAAAAAAAAERIP/aAAgBAQABPyFzR//aAAwDAQACAAMAAAAQzB//xAAWEQADAAAAAAAAAAAAAAAAAAAAEVH/2gAIAQMBAT8QSCQ//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8QlD//xAAZEAADAAMAAAAAAAAAAAAAAAAAAREQMUH/2gAIAQEAAT8Qk2UulibLj//Z","aspectRatio":1.8768328445747802,"src":"/static/bb05ef3154f1dcbd93719b0b0d4e1dc2/c108b/code-583073_1280.jpg","srcSet":"/static/bb05ef3154f1dcbd93719b0b0d4e1dc2/6ece9/code-583073_1280.jpg 480w,\n/static/bb05ef3154f1dcbd93719b0b0d4e1dc2/0a89a/code-583073_1280.jpg 960w,\n/static/bb05ef3154f1dcbd93719b0b0d4e1dc2/c108b/code-583073_1280.jpg 1280w","sizes":"(max-width: 1280px) 100vw, 1280px"}}},"meta_description":null,"meta_title":null,"created_at":"2017-03-27T09:36:54.000Z","updated_at":"2018-08-17T01:06:38.000Z","visibility":"public"},"tags":{"edges":[{"node":{"id":"5b982ddf16b0a81519316f6c","slug":"wordpress","name":"Wordpress","description":"The largest CMS on the Internet","meta_title":null,"meta_description":null,"created_at":"2017-03-19T00:57:37.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/photo-1455329909767-7be9efff527d.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIFA//EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHZ4yJeIBX/xAAaEAACAwEBAAAAAAAAAAAAAAABAgADERIT/9oACAEBAAEFAgy57UiDh5ZYXjZyrkD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAeEAACAQMFAAAAAAAAAAAAAAAAEQIBMXEDEiEikf/aAAgBAQAGPwLdqRWS8fR0i8VOyLHB/8QAGxAAAwACAwAAAAAAAAAAAAAAAAERIUExUXH/2gAIAQEAAT8hx411JFICLGdsIDRknwMkzPRyUpU//9oADAMBAAIAAwAAABAvH//EABYRAQEBAAAAAAAAAAAAAAAAABEAMf/aAAgBAwEBPxAMi//EABURAQEAAAAAAAAAAAAAAAAAAACB/9oACAECAQE/EEf/xAAeEAACAwABBQAAAAAAAAAAAAABEQAhMUFRobHR4f/aAAgBAQABPxCjUwF7K+j+QLxAgAAqt+ZQg/IDtGRvAU7jbgYPMAbZvmyv3P/Z","aspectRatio":1.506276150627615,"src":"/static/6869f559af458ce6a5d3a94175a54ce1/775d9/photo-1455329909767-7be9efff527d.jpg","srcSet":"/static/6869f559af458ce6a5d3a94175a54ce1/cb3d3/photo-1455329909767-7be9efff527d.jpg 150w,\n/static/6869f559af458ce6a5d3a94175a54ce1/c83a6/photo-1455329909767-7be9efff527d.jpg 300w,\n/static/6869f559af458ce6a5d3a94175a54ce1/775d9/photo-1455329909767-7be9efff527d.jpg 600w,\n/static/6869f559af458ce6a5d3a94175a54ce1/2b1a3/photo-1455329909767-7be9efff527d.jpg 900w,\n/static/6869f559af458ce6a5d3a94175a54ce1/90537/photo-1455329909767-7be9efff527d.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}},{"node":{"id":"5b982ddf16b0a81519316f6d","slug":"ghost-tag","name":"Ghost","description":"A small blogging platform","meta_title":null,"meta_description":null,"created_at":"2017-03-19T06:25:45.000Z","feature_image":null}},{"node":{"id":"5b982ddf16b0a81519316f6e","slug":"hostings","name":"Hostings","description":"Common hosting related tasks","meta_title":null,"meta_description":null,"created_at":"2017-03-19T02:24:02.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/pexels-photo-325229.jpeg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAcmoiEV//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAECAxH/2gAIAQEAAQUCnponKP/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAAMAAAAAAAAAAAAAAAAAAAABEP/aAAgBAQAGPwIU/8QAGBABAQEBAQAAAAAAAAAAAAAAAQARIVH/2gAIAQEAAT8h7B6zhO7f/9oADAMBAAIAAwAAABAID//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABgQAAMBAQAAAAAAAAAAAAAAAAABEVEh/9oACAEBAAE/ELIYQvR4m5welR//2Q==","aspectRatio":2.857142857142857,"src":"/static/1a86b83d481267b6c448224c4ba6b9eb/775d9/pexels-photo-325229.jpg","srcSet":"/static/1a86b83d481267b6c448224c4ba6b9eb/cb3d3/pexels-photo-325229.jpg 150w,\n/static/1a86b83d481267b6c448224c4ba6b9eb/c83a6/pexels-photo-325229.jpg 300w,\n/static/1a86b83d481267b6c448224c4ba6b9eb/775d9/pexels-photo-325229.jpg 600w,\n/static/1a86b83d481267b6c448224c4ba6b9eb/2b1a3/pexels-photo-325229.jpg 900w,\n/static/1a86b83d481267b6c448224c4ba6b9eb/81ef8/pexels-photo-325229.jpg 1200w,\n/static/1a86b83d481267b6c448224c4ba6b9eb/14dee/pexels-photo-325229.jpg 1920w","sizes":"(max-width: 600px) 100vw, 600px"}}}}},{"node":{"id":"5b982ddf16b0a81519316f6f","slug":"mac","name":"mac","description":"OS X configuration and tools","meta_title":null,"meta_description":null,"created_at":"2017-03-19T04:42:08.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/pexels-photo-92903.jpeg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUCAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAABxRe2wsGoP//EABsQAAIDAAMAAAAAAAAAAAAAAAECAAMRECIy/9oACAEBAAEFAtOeoo6mlTBWq8f/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAdEAABAgcAAAAAAAAAAAAAAAABABAREiExUXGB/9oACAEBAAY/AomUdWdBC7UAb//EABsQAQADAAMBAAAAAAAAAAAAAAEAETEhQWHR/9oACAEBAAE/IcgHsB1hWtDRWH2Ic49QChHhADCf/9oADAMBAAIAAwAAABBsP//EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAgBAwEBPxCYr//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EKj/xAAcEAEBAQACAwEAAAAAAAAAAAABEQAhMUFxobH/2gAIAQEAAT8QTKF5b8mI9obzPPtcVNHGyZF7kX7mqARBLhoIb//Z","aspectRatio":1.5,"src":"/static/f5760dd822d6da49e8e1d3becb3416ec/775d9/pexels-photo-92903.jpg","srcSet":"/static/f5760dd822d6da49e8e1d3becb3416ec/cb3d3/pexels-photo-92903.jpg 150w,\n/static/f5760dd822d6da49e8e1d3becb3416ec/c83a6/pexels-photo-92903.jpg 300w,\n/static/f5760dd822d6da49e8e1d3becb3416ec/775d9/pexels-photo-92903.jpg 600w,\n/static/f5760dd822d6da49e8e1d3becb3416ec/2b1a3/pexels-photo-92903.jpg 900w,\n/static/f5760dd822d6da49e8e1d3becb3416ec/81ef8/pexels-photo-92903.jpg 1200w,\n/static/f5760dd822d6da49e8e1d3becb3416ec/14dee/pexels-photo-92903.jpg 1920w","sizes":"(max-width: 600px) 100vw, 600px"}}}}},{"node":{"id":"5b982ddf16b0a81519316f70","slug":"javascript","name":"Javascript","description":"The most popular scripting language","meta_title":null,"meta_description":null,"created_at":"2017-03-27T09:36:54.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/code-583073_1280.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHi5AbQb//EABYQAQEBAAAAAAAAAAAAAAAAABEAIP/aAAgBAQABBQJmcf/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAEDAQE/Aar/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEv/aAAgBAgEBPwGUv//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABYQAAMAAAAAAAAAAAAAAAAAAAERIP/aAAgBAQABPyFzR//aAAwDAQACAAMAAAAQzB//xAAWEQADAAAAAAAAAAAAAAAAAAAAEVH/2gAIAQMBAT8QSCQ//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8QlD//xAAZEAADAAMAAAAAAAAAAAAAAAAAAREQMUH/2gAIAQEAAT8Qk2UulibLj//Z","aspectRatio":1.8768328445747802,"src":"/static/bb05ef3154f1dcbd93719b0b0d4e1dc2/775d9/code-583073_1280.jpg","srcSet":"/static/bb05ef3154f1dcbd93719b0b0d4e1dc2/cb3d3/code-583073_1280.jpg 150w,\n/static/bb05ef3154f1dcbd93719b0b0d4e1dc2/c83a6/code-583073_1280.jpg 300w,\n/static/bb05ef3154f1dcbd93719b0b0d4e1dc2/775d9/code-583073_1280.jpg 600w,\n/static/bb05ef3154f1dcbd93719b0b0d4e1dc2/2b1a3/code-583073_1280.jpg 900w,\n/static/bb05ef3154f1dcbd93719b0b0d4e1dc2/81ef8/code-583073_1280.jpg 1200w,\n/static/bb05ef3154f1dcbd93719b0b0d4e1dc2/c108b/code-583073_1280.jpg 1280w","sizes":"(max-width: 600px) 100vw, 600px"}}}}},{"node":{"id":"5b982ddf16b0a81519316f71","slug":"frontend","name":"Frontend","description":"The stuff visible for users","meta_title":null,"meta_description":null,"created_at":"2017-03-23T19:56:20.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/photo-1508780782742-40849069dee8.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECA//EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAGOmEqpf//EABgQAAMBAQAAAAAAAAAAAAAAAAABERIh/9oACAEBAAEFAoryDcNGz//EABURAQEAAAAAAAAAAAAAAAAAAAAS/9oACAEDAQE/AUv/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEv/aAAgBAgEBPwFT/8QAGxAAAQUBAQAAAAAAAAAAAAAAAAExQUKRoQL/2gAIAQEABj8CdOEcIXB/RbS2n//EAB8QAAIBAwUBAAAAAAAAAAAAAAABIREx0UFRcYGR4f/aAAgBAQABPyFwO02m5V3NK2YfoFg5eGBXTJ6Lg//aAAwDAQACAAMAAAAQ/C//xAAYEQEAAwEAAAAAAAAAAAAAAAABABEhsf/aAAgBAwEBPxBwZd2uT//EABcRAQEBAQAAAAAAAAAAAAAAAAERAKH/2gAIAQIBAT8QGxuUMp3f/8QAHBABAAIDAQEBAAAAAAAAAAAAAQARITGRUdHx/9oACAEBAAE/ENuA9AquktMNJpu1+cgRgDFn0SwZG904kJS0bAwPvcJUi2YBH//Z","aspectRatio":1.5,"src":"/static/5891c068859bd30b61f2d42648fa4520/775d9/photo-1508780782742-40849069dee8.jpg","srcSet":"/static/5891c068859bd30b61f2d42648fa4520/cb3d3/photo-1508780782742-40849069dee8.jpg 150w,\n/static/5891c068859bd30b61f2d42648fa4520/c83a6/photo-1508780782742-40849069dee8.jpg 300w,\n/static/5891c068859bd30b61f2d42648fa4520/775d9/photo-1508780782742-40849069dee8.jpg 600w,\n/static/5891c068859bd30b61f2d42648fa4520/2b1a3/photo-1508780782742-40849069dee8.jpg 900w,\n/static/5891c068859bd30b61f2d42648fa4520/90537/photo-1508780782742-40849069dee8.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}},{"node":{"id":"5b982ddf16b0a81519316f72","slug":"github-libraries","name":"Github libraries","description":"Libraries available on the Github","meta_title":null,"meta_description":null,"created_at":"2017-03-20T22:56:20.000Z","feature_image":null}},{"node":{"id":"5b982ddf16b0a81519316f73","slug":"acf","name":"ACF","description":"Wordpress Advanced Custom Fields plugin","meta_title":null,"meta_description":null,"created_at":"2017-03-23T10:24:55.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/photo-1494059980473-813e73ee784b.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECA//EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABzTgqiCz/xAAaEAACAgMAAAAAAAAAAAAAAAABEQAhEBIT/9oACAEBAAEFAgsdFHRN61//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPwGI/8QAGRAAAwADAAAAAAAAAAAAAAAAAAERECEx/9oACAEBAAY/AsI0QTvT/8QAGxABAQEBAAMBAAAAAAAAAAAAAREhADFBUXH/2gAIAQEAAT8hw39X3ySVjNzlEHy+OYSJknND3eEgiLDv/9oADAMBAAIAAwAAABBU/wD/xAAXEQEBAQEAAAAAAAAAAAAAAAABACEx/9oACAEDAQE/EBLDt//EABYRAQEBAAAAAAAAAAAAAAAAAAEAIf/aAAgBAgEBPxBRa2//xAAbEAEAAgIDAAAAAAAAAAAAAAABESEAQTFhof/aAAgBAQABPxBx3Q7Isj3CLqY2iTuMIBRo1la7ymBCze3IGAETHLHOKRIwKPc//9k=","aspectRatio":1.4979195561719834,"src":"/static/377bdebc9190b84aee7bf75c61971492/775d9/photo-1494059980473-813e73ee784b.jpg","srcSet":"/static/377bdebc9190b84aee7bf75c61971492/cb3d3/photo-1494059980473-813e73ee784b.jpg 150w,\n/static/377bdebc9190b84aee7bf75c61971492/c83a6/photo-1494059980473-813e73ee784b.jpg 300w,\n/static/377bdebc9190b84aee7bf75c61971492/775d9/photo-1494059980473-813e73ee784b.jpg 600w,\n/static/377bdebc9190b84aee7bf75c61971492/2b1a3/photo-1494059980473-813e73ee784b.jpg 900w,\n/static/377bdebc9190b84aee7bf75c61971492/90537/photo-1494059980473-813e73ee784b.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}},{"node":{"id":"5b982ddf16b0a81519316f74","slug":"wordpress-plugins","name":"Wordpress plugins","description":"Wordpress Plugins for website developers","meta_title":null,"meta_description":null,"created_at":"2017-03-28T13:29:13.000Z","feature_image":null}},{"node":{"id":"5b982ddf16b0a81519316f75","slug":"ruby","name":"Ruby","description":"Ruby programming language","meta_title":null,"meta_description":null,"created_at":"2017-03-31T00:12:51.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/photo-1514585244145-1847f938a1df.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAgADBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHmWaHGj//EABwQAAAGAwAAAAAAAAAAAAAAAAABAgMREiIxQf/aAAgBAQABBQLsVCbQ1prILQU//8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BV//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AYj/xAAbEAACAgMBAAAAAAAAAAAAAAAAARFxQVFh0f/aAAgBAQAGPwLyxGEVA+EaP//EAB0QAAICAwADAAAAAAAAAAAAAAERAEEhMVFx4fD/2gAIAQEAAT8hJsBvXxyPRSuzKBBxTNjkkjhbAsEvPubUaDM//9oADAMBAAIAAwAAABBzP//EABYRAAMAAAAAAAAAAAAAAAAAABARQf/aAAgBAwEBPxBwP//EABcRAQADAAAAAAAAAAAAAAAAAAABUWH/2gAIAQIBAT8QsnD/xAAdEAEBAAICAwEAAAAAAAAAAAABEQAhQVExcbHR/9oACAEBAAE/EImg10UIC+zDtVAoAbPyuOKuCIvAa141j7uxXv8AcFwItcmWuFtKNZ4VT7M//9k=","aspectRatio":1.5835777126099706,"src":"/static/d8aabb8d998db70800bab2c6f14ed94a/775d9/photo-1514585244145-1847f938a1df.jpg","srcSet":"/static/d8aabb8d998db70800bab2c6f14ed94a/cb3d3/photo-1514585244145-1847f938a1df.jpg 150w,\n/static/d8aabb8d998db70800bab2c6f14ed94a/c83a6/photo-1514585244145-1847f938a1df.jpg 300w,\n/static/d8aabb8d998db70800bab2c6f14ed94a/775d9/photo-1514585244145-1847f938a1df.jpg 600w,\n/static/d8aabb8d998db70800bab2c6f14ed94a/2b1a3/photo-1514585244145-1847f938a1df.jpg 900w,\n/static/d8aabb8d998db70800bab2c6f14ed94a/90537/photo-1514585244145-1847f938a1df.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}},{"node":{"id":"5b982ddf16b0a81519316f77","slug":"rails","name":"Rails","description":"The fantastic framework for Ruby language","meta_title":null,"meta_description":null,"created_at":"2017-03-30T22:12:51.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/rails-train-path-straight.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAv/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABk3G8JAs2/8QAGRAAAgMBAAAAAAAAAAAAAAAAAQIAESES/9oACAEBAAEFAlJjVTDUbS86In//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAYEAACAwAAAAAAAAAAAAAAAAAAIQEQMf/aAAgBAQAGPwKGO8Ef/8QAHBABAAICAwEAAAAAAAAAAAAAAQARITFBcZGh/9oACAEBAAE/ITGTPF7go+pRoeTOW1ebhVt7FiJDuf/aAAwDAQACAAMAAAAQ3C//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCq/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8QiP/EABwQAQACAgMBAAAAAAAAAAAAAAEAESHRMUFRYf/aAAgBAQABPxC0BpgZaH2Ma3FozW4rivYipPYwD8M7jGKU+dS7mrA4T//Z","aspectRatio":1.5005861664712778,"src":"/static/34900348220fafa79e6ab9e7a68b4e93/775d9/rails-train-path-straight.jpg","srcSet":"/static/34900348220fafa79e6ab9e7a68b4e93/cb3d3/rails-train-path-straight.jpg 150w,\n/static/34900348220fafa79e6ab9e7a68b4e93/c83a6/rails-train-path-straight.jpg 300w,\n/static/34900348220fafa79e6ab9e7a68b4e93/775d9/rails-train-path-straight.jpg 600w,\n/static/34900348220fafa79e6ab9e7a68b4e93/2b1a3/rails-train-path-straight.jpg 900w,\n/static/34900348220fafa79e6ab9e7a68b4e93/81ef8/rails-train-path-straight.jpg 1200w,\n/static/34900348220fafa79e6ab9e7a68b4e93/c108b/rails-train-path-straight.jpg 1280w","sizes":"(max-width: 600px) 100vw, 600px"}}}}},{"node":{"id":"5b982ddf16b0a81519316f78","slug":"tools","name":"Web developer toolset","description":"Useful tools for web developers","meta_title":"Web developer tools","meta_description":"Tools of a web developer described. From text editor to build automation and deployment tools.","created_at":"2017-05-17T10:05:38.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/photo-1501516069922-a9982bd6f3bd.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUCA//EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHaD1mrCET/xAAbEAACAgMBAAAAAAAAAAAAAAABAgARAwQSE//aAAgBAQABBQIBFHrDsVO4M1Bn6P8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAACFx/9oACAEDAQE/AdR//8QAFhEBAQEAAAAAAAAAAAAAAAAAACFx/9oACAECAQE/AcV//8QAGxAAAgEFAAAAAAAAAAAAAAAAABEBAhAiMTL/2gAIAQEABj8C6MUraFFMDP/EABwQAQACAwADAAAAAAAAAAAAAAEAESExUUGB4f/aAAgBAQABPyG0KA28hXzDu4DrHuFPqYQiItKn/9oADAMBAAIAAwAAABDzL//EABcRAQADAAAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8QsdQ//8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAgEBPxCNYKP/xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhMXFBUWH/2gAIAQEAAT8QI84ANvTkxB1eC3uTWV0T3p81ghkq2jxep5cZorwOf//Z","aspectRatio":1.5,"src":"/static/82661a020d69148390ee006a12332acb/775d9/photo-1501516069922-a9982bd6f3bd.jpg","srcSet":"/static/82661a020d69148390ee006a12332acb/cb3d3/photo-1501516069922-a9982bd6f3bd.jpg 150w,\n/static/82661a020d69148390ee006a12332acb/c83a6/photo-1501516069922-a9982bd6f3bd.jpg 300w,\n/static/82661a020d69148390ee006a12332acb/775d9/photo-1501516069922-a9982bd6f3bd.jpg 600w,\n/static/82661a020d69148390ee006a12332acb/2b1a3/photo-1501516069922-a9982bd6f3bd.jpg 900w,\n/static/82661a020d69148390ee006a12332acb/90537/photo-1501516069922-a9982bd6f3bd.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}},{"node":{"id":"5b982ddf16b0a81519316f79","slug":"ios","name":"iOS","description":"The operating system of the iPhone","meta_title":null,"meta_description":null,"created_at":"2017-05-13T12:31:51.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/iphone-6-458150_1280.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAID/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAZ2LAP/EABgQAQADAQAAAAAAAAAAAAAAAAEAAhES/9oACAEBAAEFAtyFhOif/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BR//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/Aar/xAAXEAEBAQEAAAAAAAAAAAAAAAAAETFB/9oACAEBAAY/Asq11//EABkQAAIDAQAAAAAAAAAAAAAAAAABEUFhIf/aAAgBAQABPyGbzwtWRYqWse4//9oADAMBAAIAAwAAABAAD//EABYRAAMAAAAAAAAAAAAAAAAAAAABEf/aAAgBAwEBPxBqkH//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QEW7/xAAcEAEAAgEFAAAAAAAAAAAAAAABADERIVFhgbH/2gAIAQEAAT8QpIaKckWktuDHVwboDuAez//Z","aspectRatio":2.456813819577735,"src":"/static/a94424435c52c97742e41375a0771e83/775d9/iphone-6-458150_1280.jpg","srcSet":"/static/a94424435c52c97742e41375a0771e83/cb3d3/iphone-6-458150_1280.jpg 150w,\n/static/a94424435c52c97742e41375a0771e83/c83a6/iphone-6-458150_1280.jpg 300w,\n/static/a94424435c52c97742e41375a0771e83/775d9/iphone-6-458150_1280.jpg 600w,\n/static/a94424435c52c97742e41375a0771e83/2b1a3/iphone-6-458150_1280.jpg 900w,\n/static/a94424435c52c97742e41375a0771e83/81ef8/iphone-6-458150_1280.jpg 1200w,\n/static/a94424435c52c97742e41375a0771e83/c108b/iphone-6-458150_1280.jpg 1280w","sizes":"(max-width: 600px) 100vw, 600px"}}}}},{"node":{"id":"5b982ddf16b0a81519316f7a","slug":"webpack","name":"Webpack","description":"The coolest frontend building tool","meta_title":null,"meta_description":null,"created_at":"2017-05-12T10:49:47.000Z","feature_image":null}},{"node":{"id":"5b982ddf16b0a81519316f7b","slug":"backend","name":"Backend","description":"The invisible part of your application","meta_title":null,"meta_description":"The invisible part of your application.","created_at":"2017-05-24T12:43:54.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/photo-1526374965328-7f61d4dc18c5.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAECBf/EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABxoc4ARL/xAAXEAADAQAAAAAAAAAAAAAAAAAAARBB/9oACAEBAAEFAsHFP//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ASf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAaEAACAgMAAAAAAAAAAAAAAAAAARAhETFB/9oACAEBAAE/IcWOqDdM2Gf/2gAMAwEAAgADAAAAEKDv/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAh/9oACAEDAQE/EBjF/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QJ//EABsQAQABBQEAAAAAAAAAAAAAAAEAESFhcbFB/9oACAEBAAE/EAVdch5QNTUsODkSUYJemp//2Q==","aspectRatio":1.5,"src":"/static/a4f41874bb35d6dcf8d2aa39df0b57ca/775d9/photo-1526374965328-7f61d4dc18c5.jpg","srcSet":"/static/a4f41874bb35d6dcf8d2aa39df0b57ca/cb3d3/photo-1526374965328-7f61d4dc18c5.jpg 150w,\n/static/a4f41874bb35d6dcf8d2aa39df0b57ca/c83a6/photo-1526374965328-7f61d4dc18c5.jpg 300w,\n/static/a4f41874bb35d6dcf8d2aa39df0b57ca/775d9/photo-1526374965328-7f61d4dc18c5.jpg 600w,\n/static/a4f41874bb35d6dcf8d2aa39df0b57ca/2b1a3/photo-1526374965328-7f61d4dc18c5.jpg 900w,\n/static/a4f41874bb35d6dcf8d2aa39df0b57ca/90537/photo-1526374965328-7f61d4dc18c5.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}},{"node":{"id":"5b982ddf16b0a81519316f7c","slug":"vim","name":"Vim","description":"One of the coolest text editors ever made. When writing is your work it's nice to have a good tool for the job.","meta_title":"Using Vim in everyday development","meta_description":"A set of articles about Vim editor in everyday development. How to customize it and use all of its power.","created_at":"2017-05-29T20:24:58.000Z","feature_image":null}},{"node":{"id":"5b982ddf16b0a81519316f7d","slug":"docker","name":"Docker","description":"Resources virtualization layer for your web application","meta_title":null,"meta_description":null,"created_at":"2017-06-04T14:04:08.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/photo-1493946740644-2d8a1f1a6aff.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMBAgX/xAAVAQEBAAAAAAAAAAAAAAAAAAACA//aAAwDAQACEAMQAAAB01MmaaUEf//EABkQAAIDAQAAAAAAAAAAAAAAAAECABETEv/aAAgBAQABBQIuKDct1cwW8RMhP//EABcRAQADAAAAAAAAAAAAAAAAAAACERL/2gAIAQMBAT8BqLL/xAAZEQACAwEAAAAAAAAAAAAAAAAAAQIRElH/2gAIAQIBAT8BblZp8P/EABkQAAMAAwAAAAAAAAAAAAAAAAABMRAhYf/aAAgBAQAGPwLuNFZWVn//xAAaEAEAAwADAAAAAAAAAAAAAAABABEhgbHx/9oACAEBAAE/IcICCRgtUqAWOVize3U9Gf/aAAwDAQACAAMAAAAQtP8A/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARUf/aAAgBAwEBPxAAxkdb/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERMVH/2gAIAQIBAT8QZkqFgP/EABwQAQADAAIDAAAAAAAAAAAAAAEAESExcUGRsf/aAAgBAQABPxA154JmRN3WFFCt/IbrvlqTfZ2EQuxwlekV8HUf/9k=","aspectRatio":1.5340909090909092,"src":"/static/898018a724315e828618e78c506c4eb2/775d9/photo-1493946740644-2d8a1f1a6aff.jpg","srcSet":"/static/898018a724315e828618e78c506c4eb2/cb3d3/photo-1493946740644-2d8a1f1a6aff.jpg 150w,\n/static/898018a724315e828618e78c506c4eb2/c83a6/photo-1493946740644-2d8a1f1a6aff.jpg 300w,\n/static/898018a724315e828618e78c506c4eb2/775d9/photo-1493946740644-2d8a1f1a6aff.jpg 600w,\n/static/898018a724315e828618e78c506c4eb2/2b1a3/photo-1493946740644-2d8a1f1a6aff.jpg 900w,\n/static/898018a724315e828618e78c506c4eb2/90537/photo-1493946740644-2d8a1f1a6aff.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}},{"node":{"id":"5b982ddf16b0a81519316f7e","slug":"capistrano","name":"Capistrano","description":"Deployment automation tool","meta_title":null,"meta_description":null,"created_at":"2017-06-10T14:22:15.000Z","feature_image":null}},{"node":{"id":"5b982ddf16b0a81519316f7f","slug":"meteor","name":"meteor","description":null,"meta_title":null,"meta_description":null,"created_at":"2017-07-14T15:08:53.000Z","feature_image":null}},{"node":{"id":"5b982ddf16b0a81519316f80","slug":"php","name":"php","description":null,"meta_title":null,"meta_description":null,"created_at":"2017-08-17T17:45:14.000Z","feature_image":null}},{"node":{"id":"5b982ddf16b0a81519316f81","slug":"graphql","name":"graphql","description":null,"meta_title":null,"meta_description":null,"created_at":"2018-05-05T16:34:52.000Z","feature_image":null}},{"node":{"id":"5c71352f65bd179c8599fda1","slug":"react","name":"React","description":"Notes about ReactJS development.","meta_title":null,"meta_description":null,"created_at":"2019-02-23T14:57:35.000Z","feature_image":{"absolutePath":"/Users/janek/work/rnd/my-theme/blog/content/img/photo-1482745637430-91c0bbcea3e1.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAQL/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABucJ5FEVD/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAECAxITMf/aAAgBAQABBQIfSdzUtzKljX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAXEAADAQAAAAAAAAAAAAAAAAAAARAR/9oACAEBAAY/ArkSP//EABsQAQACAgMAAAAAAAAAAAAAAAEAESExQVGx/9oACAEBAAE/IVb7lsn2COmOya5uDNJdyidE/9oADAMBAAIAAwAAABBs3//EABURAQEAAAAAAAAAAAAAAAAAAAAB/9oACAEDAQE/EFj/xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAgEBPxBX/8QAHBABAAIDAAMAAAAAAAAAAAAAAQARITFRQXHR/9oACAEBAAE/EA4AHRqoEMAUYXYBYJ0blfO9U288hdwVZT5DZrZl9s//2Q==","aspectRatio":1.5,"src":"/static/6ca6ba91f1b3284f82ca7b4a3e970481/775d9/photo-1482745637430-91c0bbcea3e1.jpg","srcSet":"/static/6ca6ba91f1b3284f82ca7b4a3e970481/cb3d3/photo-1482745637430-91c0bbcea3e1.jpg 150w,\n/static/6ca6ba91f1b3284f82ca7b4a3e970481/c83a6/photo-1482745637430-91c0bbcea3e1.jpg 300w,\n/static/6ca6ba91f1b3284f82ca7b4a3e970481/775d9/photo-1482745637430-91c0bbcea3e1.jpg 600w,\n/static/6ca6ba91f1b3284f82ca7b4a3e970481/2b1a3/photo-1482745637430-91c0bbcea3e1.jpg 900w,\n/static/6ca6ba91f1b3284f82ca7b4a3e970481/90537/photo-1482745637430-91c0bbcea3e1.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}]},"authors":{"edges":[{"node":{"id":"1","slug":"jan","name":"Jan Grzegorowski","bio":"","website":"","location":"","profile_image":{"childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAa8+nhDphjnIF7Ah/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEiMf/aAAgBAQABBQK5mUB762lg1VGvG8Udif/EABcRAQEBAQAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8BAyHJ/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATUav//EABsQAQACAgMAAAAAAAAAAAAAAAECEgAQESAx/9oACAEBAAY/Agh64Wbx56u//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARECExgaGx/9oACAEBAAE/IRAL6t4R+NaJW948RDMDnzHpQyxFZP/aAAwDAQACAAMAAAAQD8A8/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/EGNZvP/EABYRAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxBJGE//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEDFRgcH/2gAIAQEAAT8Qfyh9bKr5wsWRAIpRh0prgVXZTPUxvgwCqwb+cGlgG6ILpxBXtz//2Q==","width":30,"height":30,"src":"/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg","srcSet":"/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg 1x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/74c3b/photo-mini.jpg 1.5x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 2x"}}}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":false,"tag_slug":"javascript"}}