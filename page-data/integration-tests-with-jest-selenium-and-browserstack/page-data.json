{"componentChunkName":"component---gatsby-ghost-theme-src-templates-post-js","path":"/integration-tests-with-jest-selenium-and-browserstack","webpackCompilationHash":"72a37f5225f39e5a11df","result":{"data":{"post":{"html":"<p>Although there is much useful information on the official BrowserStack website, you will certainly have a lot of questions when you run tests for the first time. I will try to explain how to deal with it based on a simple example which uses Jest and Selenium.</p>\n<p><strong>There is no problem in running <a href=\"https://jestjs.io\">Jest</a> with BrowserStack, despite the lack of documentation or examples.</strong></p>\n<p>TLDR; Check the <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example\">example repository</a> it should be self-explanatory.</p>\n<h2>Starting point</h2>\n<p>I have Selenium-based tests that I can run locally. How do I load BrowserStack and run tests against their browsers?</p>\n<p>It seems that it is quite simple and typical task.</p>\n<p>Here is an example of a basic Selenium test powered by Jest. It will be used to show how to integrate existing code with <a href=\"https://www.browserstack.com/docs?product=automate\">BrowserStack Automate</a> testing service.</p>\n<p><strong>test/local.test.js</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Builder<span class=\"token punctuation\">,</span> By<span class=\"token punctuation\">,</span> until <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"selenium-webdriver\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> firefox <span class=\"token keyword\">from</span> <span class=\"token string\">\"selenium-webdriver/firefox\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> path <span class=\"token keyword\">from</span> <span class=\"token string\">\"path\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">getElementById</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">driver<span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">,</span> timeout <span class=\"token operator\">=</span> <span class=\"token number\">2000</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> el <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span>until<span class=\"token punctuation\">.</span><span class=\"token function\">elementLocated</span><span class=\"token punctuation\">(</span>By<span class=\"token punctuation\">.</span><span class=\"token function\">id</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> timeout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">wait</span><span class=\"token punctuation\">(</span>until<span class=\"token punctuation\">.</span><span class=\"token function\">elementIsVisible</span><span class=\"token punctuation\">(</span>el<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> timeout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"webdriver\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> driver<span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">beforeAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">firefox<span class=\"token punctuation\">.</span>Options</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    options<span class=\"token punctuation\">.</span><span class=\"token function\">headless</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    driver <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">forBrowser</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"firefox\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">setFirefoxOptions</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// eslint-disable-next-line no-undef</span>\n    <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"file://\"</span> <span class=\"token operator\">+</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"test.html\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">afterAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">quit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> btn <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> <span class=\"token string\">\"test-button\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> btn<span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> output <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>driver<span class=\"token punctuation\">,</span> <span class=\"token string\">\"output\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> outputVal <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> output<span class=\"token punctuation\">.</span><span class=\"token function\">getAttribute</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"value\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>outputVal<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Something\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>As you can see, this is a simple example in which after clicking on <strong>#myBtn</strong> we expect to have <strong>Something</strong> as value of the <strong>#output</strong> input HTML element. Here's tested code.</p>\n<p><strong>test/jest-selenium-browserstack-example.js</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">var</span> JestSeleniumBrowserStackExample <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">exports</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">var</span> <span class=\"token function-variable function\">write</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token function\">write</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">elementId</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> el <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span>elementId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    el<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token string\">\"Something\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  exports<span class=\"token punctuation\">.</span>write <span class=\"token operator\">=</span> write<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> exports<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Here is a local HTML file used for testing in browser.</p>\n<p><strong>test/test.html</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>html</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>head</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span>\n      <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>./jest-selenium-browserstack-example.js<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token punctuation\">></span></span>&lt;\\/script>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>head</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>body</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">onClick</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">'</span>JestSeleniumBrowserStackExample.write(\"output\")<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>copy<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      write\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>output<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>not working<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>body</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>html</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>All files listed above are available inside <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example/tree/master/test\">test folder of Github example repository</a>. You may run <code class=\"language-text\">yarn test:local</code> in cloned repository to check if everything is working as expected.</p>\n<blockquote>\n<p>NOTE! In order to run Selenium tests locally you will have to download and install approperiate driver, which is geckodriver in this case. It may be downloaded directly from <a href=\"https://github.com/mozilla/geckodriver/releases\">official Mozilla repository</a> .</p>\n</blockquote>\n<h2>Solution</h2>\n<p>The following solution will use <a href=\"https://www.browserstack.com/automate/node#setting-local-tunnel\">Automate with Local Testing</a> for running fully automated tests on selected version of OS and browser.\nIn order to simplify things a bit, I assume that you're working on a Unix system (e.g. Ubuntu, Mac OS X). Windows commands will be different only when it comes to <strong>BrowserStackLocal</strong> executable.</p>\n<h3>1. What is BrowserStackLocal?</h3>\n<p>After reading <a href=\"https://www.browserstack.com/automate/node\">https://www.browserstack.com/automate/node</a> you may already know that <strong>BrowserStackLocal</strong> is \"something\" that can be useful in tests.\nUnfortunately, I didn't find any clear information about how to use it for integration with test (maybe I didn't look carefully enough).</p>\n<p>For starters, just run <a href=\"https://www.browserstack.com/automate/node#local-testing-getting-started\">downloaded</a> <strong>BrowserStackLocal</strong> to check if it works. You will have to provide the <code class=\"language-text\">--key</code> argument with your BrowserStack key (as in <a href=\"https://www.browserstack.com/automate/node#doc-platform-tab\">official docs</a>) e.g. <code class=\"language-text\">Asdafklwe12312kldfasfmaMD</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">./BrowserStackLocal --key <span class=\"token punctuation\">[</span>YOUR_BROWSERSTACK_KEY<span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>As a result, you will get some output. Exact messages doesn't matter, just make sure that there are no errors at this point.\nNow run it with additional <code class=\"language-text\">--folder $(pwd)</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">./BrowserStackLocal --key <span class=\"token punctuation\">[</span>YOUR_BROWSERSTACK_KEY<span class=\"token punctuation\">]</span> --folder <span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token builtin class-name\">pwd</span><span class=\"token variable\">)</span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>As you can see on the output, the contents of the current folder will be available for your tests under unique URL <code class=\"language-text\">http://[YOUR_BROWSERSTACK_USERNAME].browserstack.com</code> where <code class=\"language-text\">[YOUR_BROWSERSTACK_USERNAME]</code> is your BrowserStack username.</p>\n<h3>2. Adjust/rewrite tests</h3>\n<p>By default, our test is run using the local Selenium webdriver e.g. <code class=\"language-text\">geckodriver</code> (for Firefox). We would like to run it with remote BrowserStack OS and browser. Exact BrowserStack webdriver settings are defined inside <code class=\"language-text\">capabilities</code> object.\nHere is an example:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token comment\">// for more options check https://www.browserstack.com/automate/capabilities</span>\n<span class=\"token keyword\">const</span> capabilities <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  build<span class=\"token punctuation\">:</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"../package.json\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>version<span class=\"token punctuation\">,</span>\n  project<span class=\"token punctuation\">:</span> <span class=\"token string\">\"jest-selenium-browserstack-example\"</span><span class=\"token punctuation\">,</span>\n  browserName<span class=\"token punctuation\">:</span> <span class=\"token string\">\"chrome\"</span><span class=\"token punctuation\">,</span>\n  os<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Windows\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"browserstack.local\"</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"browserstack.user\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"[YOUR_BROWSERSTACK_USERNAME]\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"browserstack.key\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"[YOUR_BROWSERSTACK_KEY]\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>With the above configuration, you will run tests using the Google Chrome browser on Windows. Here is the code that initiates the driver.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">driver <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">webdriver<span class=\"token punctuation\">.</span>Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">usingServer</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://hub-cloud.browserstack.com/wd/hub\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">withCapabilities</span><span class=\"token punctuation\">(</span>capabilities<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Remember to import the Selenium webdriver before using the above code.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> webdriver <span class=\"token keyword\">from</span> <span class=\"token string\">\"selenium-webdriver\"</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>All this is described on the <a href=\"https://www.browserstack.com/automate/node\">official documentation pages</a>.</p>\n<p>The last important thing is to replace:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"file://\"</span> <span class=\"token operator\">+</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"test.html\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>with:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>\n  <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>capabilities<span class=\"token punctuation\">[</span><span class=\"token string\">\"browserstack.user\"</span><span class=\"token punctuation\">]</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.browserstack.com/test.html</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>Because local files are not directly available in the Browser Stack, you can access them only through a webserver (which serves files from <strong>BrowserStackLocal</strong> <code class=\"language-text\">--folder</code>). This makes sense if you think about running tests on multiple OSes because thanks to this webserver you don't have to copy files from one machine to the other, all you have to do is access the internal URL.</p>\n<p>At this stage, if you manually connect to BrowserStack using <code class=\"language-text\">./BroserStackLocal --key [bs_key] --folder $(pwd)</code> executed in the same folder as the test files, you should be able to completet all tests.</p>\n<blockquote>\n<p>NOTE! BrowserStack Selenium tests may require setting a Jest timeouts (default is 5s). This is especially true for connecting and disconnecting which tends to be time consuming process. I would advise something around 10-15s.</p>\n</blockquote>\n<p>If you clone <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example\">example repository</a> initiate <strong>BrowserStackLocal</strong> with <code class=\"language-text\">test/</code> directory inside <code class=\"language-text\">--folder</code> argument and then run <code class=\"language-text\">yarn test:manual</code> to view the results.</p>\n<p>Here is the test code described above <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/manual.test.js\">https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/manual.test.js</a>.</p>\n<h3>3. Automate BrowserStackLocal connection</h3>\n<p>Going further, it's time to go for more automated/autonomous approach.\nIf you don't want (and probably you should not) to implement NodeJS wrapper for <code class=\"language-text\">./BrowserStackLocal</code>, use the official one <a href=\"https://github.com/browserstack/browserstack-local-nodejs\">browserstack-local-nodejs</a>.\nThis package will handle the download of approperiate binary files for you and can serve as an interface between your tests and the <code class=\"language-text\">BrowserStackLocal</code> executable.</p>\n<blockquote>\n<p>To be honest I don't like the <strong>browserstack-local-nodejs</strong> package at all (callbacks, hard to debug, unused variables and more), but since this the official BrowserStack repository, we can hope that it will be maintained.</p>\n</blockquote>\n<p>Let's continue with examples.</p>\n<p>Here is how you may wrap <code class=\"language-text\">start</code> and <code class=\"language-text\">stop</code> methods from <strong>browserstack-local-nodejs</strong> to make them work with my beloved async/await syntax.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">connect</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    local<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span>BrowserStackLocalArgs<span class=\"token punctuation\">,</span> <span class=\"token parameter\">error</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">disconnect</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    local<span class=\"token punctuation\">.</span><span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now you can use <code class=\"language-text\">await start()</code> and <code class=\"language-text\">await stop()</code> which is much more convenient.\nDon't forget to initialize <strong>browserstack-local-nodejs</strong> first, with:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> local <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">browserstack<span class=\"token punctuation\">.</span>Local</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>and set approperiate args for executable with:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> BrowserStackLocalArgs <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  key<span class=\"token punctuation\">:</span> <span class=\"token string\">\"[YOUR_BROWSERSTACK_KEY]\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// verbose: true,</span>\n  onlyAutomate<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token comment\">// eslint-disable-next-line</span>\n  folder<span class=\"token punctuation\">:</span> __dirname<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Then connect with BrowserStack by awaiting for <code class=\"language-text\">start()</code> function.\nYou should do this <strong>before</strong> running the webdriver.\nHere's how <code class=\"language-text\">beforeAll()</code> looks like for your tests:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token function\">beforeAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// BrowserStackLocal has to be ready before webdriver initialization</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    driver <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">webdriver<span class=\"token punctuation\">.</span>Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">usingServer</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://hub-cloud.browserstack.com/wd/hub\"</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">withCapabilities</span><span class=\"token punctuation\">(</span>capabilities<span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>\n      <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">http://</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>capabilities<span class=\"token punctuation\">[</span><span class=\"token string\">\"browserstack.user\"</span><span class=\"token punctuation\">]</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.browserstack.com/test.html</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"connetion error\"</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// IMPORTANT! Selenium and Browserstack needs more time than regular Jest</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The tests should not require any changes. Remember about disconnecting from BrowserStack after finishing tests.\nYou can do it with:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token function\">afterAll</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> driver<span class=\"token punctuation\">.</span><span class=\"token function\">quit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ~ 11 s !</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">stop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ~ 3 s</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"disconnection error\"</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// IMPORTANT! Selenium and Browserstack needs a lot of time!</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">20000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<blockquote>\n<p>NOTE! At least in my case the disconnection after testing takes really long, which is why I set 20 seconds as a <code class=\"language-text\">afterAll</code> timeout.</p>\n</blockquote>\n<blockquote>\n<p>NOTE! If the waiting time is too short, you'll probably run into this message: <strong>Jest did not exit one second after the test run has completed</strong>. When it appears, check your system process/task manager and kill BrowserStackLocal process(es) which may not close/stop correctly.</p>\n</blockquote>\n<p>This is it. If you have any questions do not hestitate to ask and check out a sample repository that should help you a lot (I hope).</p>\n<p>If you clone <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example\">example repository</a> just run <code class=\"language-text\">yarn test:automate</code> to view the results.</p>\n<p>Here is the test code described above <a href=\"https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/automate.test.js\">https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/automate.test.js</a>.</p>\n<p>In the part 2 of this \"series\" I will present a way to run tests for many browsers and OSes at once, see <a href=\"https://www.grzegorowski.com/integration-tests-with-jest-selenium-and-browserstack-part-2/\">https://www.grzegorowski.com/integration-tests-with-jest-selenium-and-browserstack-part-2/</a>.</p>\n<h2>Sources</h2>\n<ul>\n<li><a href=\"https://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/index.html\">https://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/index.html</a> - Selenium documentation</li>\n<li><a href=\"https://github.com/Hyddan/se-runner-browserstack-example#readme\">https://github.com/Hyddan/se-runner-browserstack-example#readme</a> - first inspiration for automated tests with BrowserStack</li>\n<li><a href=\"https://github.com/browserstack/browserstack-local-nodejs\">https://github.com/browserstack/browserstack-local-nodejs</a> - finally a working example of BrowserStack integration</li>\n<li><a href=\"https://www.browserstack.com/automate/node\">https://www.browserstack.com/automate/node</a> - useful official NodeJS documentation</li>\n<li><a href=\"https://blog.evantahler.com/testing-javascript-applications-with-selenium-async-await-and-jest-7580ed074f2b\">https://blog.evantahler.com/testing-javascript-applications-with-selenium-async-await-and-jest-7580ed074f2b</a> - nice setup of Jest and Selenium without BrowserStack</li>\n<li><a href=\"https://www.browserstack.com/local-testing#modifiers\">https://www.browserstack.com/local-testing#modifiers</a> - BrowserStackLocal argument list</li>\n<li><a href=\"https://github.com/Hyddan/se-runner\">https://github.com/Hyddan/se-runner</a> - one of the inspirations (uses Grunt and Jasmine)</li>\n</ul>","excerpt":"Although there is much useful information on the official BrowserStack website, you will certainly have a lot of questions when you runâ€¦","timeToRead":9,"rawMarkdownBody":"\nAlthough there is much useful information on the official BrowserStack website, you will certainly have a lot of questions when you run tests for the first time. I will try to explain how to deal with it based on a simple example which uses Jest and Selenium.\n\n**There is no problem in running [Jest](https://jestjs.io) with BrowserStack, despite the lack of documentation or examples.**\n\nTLDR; Check the [example repository](https://github.com/jmarceli/jest-selenium-browserstack-example) it should be self-explanatory.\n\n## Starting point\n\nI have Selenium-based tests that I can run locally. How do I load BrowserStack and run tests against their browsers?\n\nIt seems that it is quite simple and typical task.\n\nHere is an example of a basic Selenium test powered by Jest. It will be used to show how to integrate existing code with [BrowserStack Automate](https://www.browserstack.com/docs?product=automate) testing service.\n\n**test/local.test.js**\n\n```javascript\nimport { Builder, By, until } from \"selenium-webdriver\";\nimport firefox from \"selenium-webdriver/firefox\";\nimport path from \"path\";\n\nconst getElementById = async (driver, id, timeout = 2000) => {\n  const el = await driver.wait(until.elementLocated(By.id(id)), timeout);\n  return await driver.wait(until.elementIsVisible(el), timeout);\n};\n\ndescribe(\"webdriver\", () => {\n  let driver;\n\n  beforeAll(async () => {\n    const options = new firefox.Options();\n    options.headless();\n    driver = new Builder()\n      .forBrowser(\"firefox\")\n      .setFirefoxOptions(options)\n      .build();\n\n    // eslint-disable-next-line no-undef\n    await driver.get(\"file://\" + path.join(__dirname, \"test.html\"));\n  });\n\n  afterAll(async () => {\n    await driver.quit();\n  });\n\n  test(\"test\", async () => {\n    const btn = await getElementById(driver, \"test-button\");\n    await btn.click();\n\n    const output = await getElementById(driver, \"output\");\n    const outputVal = await output.getAttribute(\"value\");\n\n    expect(outputVal).toEqual(\"Something\");\n  });\n});\n```\n\nAs you can see, this is a simple example in which after clicking on **#myBtn** we expect to have **Something** as value of the **#output** input HTML element. Here's tested code.\n\n**test/jest-selenium-browserstack-example.js**\n\n```javascript\nvar JestSeleniumBrowserStackExample = (function(exports) {\n  \"use strict\";\n\n  var write = function write(elementId) {\n    var el = document.getElementById(elementId);\n    el.value = \"Something\";\n  };\n\n  exports.write = write;\n\n  return exports;\n})({});\n```\n\nHere is a local HTML file used for testing in browser.\n\n**test/test.html**\n\n```html\n<html>\n  <head>\n    <script\n      src=\"./jest-selenium-browserstack-example.js\"\n      type=\"text/javascript\"\n    ><\\/script>\n  </head>\n  <body>\n    <button onClick='JestSeleniumBrowserStackExample.write(\"output\")' id=\"copy\">\n      write\n    </button>\n    <input id=\"output\" value=\"not working\" />\n  </body>\n</html>\n```\n\nAll files listed above are available inside [test folder of Github example repository](https://github.com/jmarceli/jest-selenium-browserstack-example/tree/master/test). You may run `yarn test:local` in cloned repository to check if everything is working as expected.\n\n> NOTE! In order to run Selenium tests locally you will have to download and install approperiate driver, which is geckodriver in this case. It may be downloaded directly from [official Mozilla repository](https://github.com/mozilla/geckodriver/releases) .\n\n## Solution\n\nThe following solution will use [Automate with Local Testing](https://www.browserstack.com/automate/node#setting-local-tunnel) for running fully automated tests on selected version of OS and browser.\nIn order to simplify things a bit, I assume that you're working on a Unix system (e.g. Ubuntu, Mac OS X). Windows commands will be different only when it comes to **BrowserStackLocal** executable.\n\n### 1. What is BrowserStackLocal?\n\nAfter reading https://www.browserstack.com/automate/node you may already know that **BrowserStackLocal** is \"something\" that can be useful in tests.\nUnfortunately, I didn't find any clear information about how to use it for integration with test (maybe I didn't look carefully enough).\n\nFor starters, just run [downloaded](https://www.browserstack.com/automate/node#local-testing-getting-started) **BrowserStackLocal** to check if it works. You will have to provide the `--key` argument with your BrowserStack key (as in [official docs](https://www.browserstack.com/automate/node#doc-platform-tab)) e.g. `Asdafklwe12312kldfasfmaMD`:\n\n```bash\n./BrowserStackLocal --key [YOUR_BROWSERSTACK_KEY]\n```\n\nAs a result, you will get some output. Exact messages doesn't matter, just make sure that there are no errors at this point.\nNow run it with additional `--folder $(pwd)`.\n\n```bash\n./BrowserStackLocal --key [YOUR_BROWSERSTACK_KEY] --folder $(pwd)\n```\n\nAs you can see on the output, the contents of the current folder will be available for your tests under unique URL `http://[YOUR_BROWSERSTACK_USERNAME].browserstack.com` where `[YOUR_BROWSERSTACK_USERNAME]` is your BrowserStack username.\n\n### 2. Adjust/rewrite tests\n\nBy default, our test is run using the local Selenium webdriver e.g. `geckodriver` (for Firefox). We would like to run it with remote BrowserStack OS and browser. Exact BrowserStack webdriver settings are defined inside `capabilities` object.\nHere is an example:\n\n```javascript\n// for more options check https://www.browserstack.com/automate/capabilities\nconst capabilities = {\n  build: require(\"../package.json\").version,\n  project: \"jest-selenium-browserstack-example\",\n  browserName: \"chrome\",\n  os: \"Windows\",\n  \"browserstack.local\": true,\n  \"browserstack.user\": \"[YOUR_BROWSERSTACK_USERNAME]\",\n  \"browserstack.key\": \"[YOUR_BROWSERSTACK_KEY]\",\n};\n```\n\nWith the above configuration, you will run tests using the Google Chrome browser on Windows. Here is the code that initiates the driver.\n\n```javascript\ndriver = new webdriver.Builder()\n  .usingServer(\"http://hub-cloud.browserstack.com/wd/hub\")\n  .withCapabilities(capabilities)\n  .build();\n```\n\nRemember to import the Selenium webdriver before using the above code.\n\n```javascript\nimport webdriver from \"selenium-webdriver\";\n```\n\nAll this is described on the [official documentation pages](https://www.browserstack.com/automate/node).\n\nThe last important thing is to replace:\n\n```javascript\nawait driver.get(\"file://\" + path.join(__dirname, \"test.html\"));\n```\n\nwith:\n\n```javascript\nawait driver.get(\n  `http://${capabilities[\"browserstack.user\"]}.browserstack.com/test.html`,\n);\n```\n\nBecause local files are not directly available in the Browser Stack, you can access them only through a webserver (which serves files from **BrowserStackLocal** `--folder`). This makes sense if you think about running tests on multiple OSes because thanks to this webserver you don't have to copy files from one machine to the other, all you have to do is access the internal URL.\n\nAt this stage, if you manually connect to BrowserStack using `./BroserStackLocal --key [bs_key] --folder $(pwd)` executed in the same folder as the test files, you should be able to completet all tests.\n\n> NOTE! BrowserStack Selenium tests may require setting a Jest timeouts (default is 5s). This is especially true for connecting and disconnecting which tends to be time consuming process. I would advise something around 10-15s.\n\nIf you clone [example repository](https://github.com/jmarceli/jest-selenium-browserstack-example) initiate **BrowserStackLocal** with `test/` directory inside `--folder` argument and then run `yarn test:manual` to view the results.\n\nHere is the test code described above https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/manual.test.js.\n\n### 3. Automate BrowserStackLocal connection\n\nGoing further, it's time to go for more automated/autonomous approach.\nIf you don't want (and probably you should not) to implement NodeJS wrapper for `./BrowserStackLocal`, use the official one [browserstack-local-nodejs](https://github.com/browserstack/browserstack-local-nodejs).\nThis package will handle the download of approperiate binary files for you and can serve as an interface between your tests and the `BrowserStackLocal` executable.\n\n> To be honest I don't like the **browserstack-local-nodejs** package at all (callbacks, hard to debug, unused variables and more), but since this the official BrowserStack repository, we can hope that it will be maintained.\n\nLet's continue with examples.\n\nHere is how you may wrap `start` and `stop` methods from **browserstack-local-nodejs** to make them work with my beloved async/await syntax.\n\n```javascript\nconst connect = async () =>\n  new Promise((resolve, reject) => {\n    local.start(BrowserStackLocalArgs, error => {\n      if (error) {\n        reject(error);\n      }\n      resolve();\n    });\n  });\n\nconst disconnect = async () =>\n  new Promise((resolve, reject) => {\n    local.stop(function(error) {\n      if (error) {\n        reject(error);\n      }\n\n      resolve();\n    });\n  });\n```\n\nNow you can use `await start()` and `await stop()` which is much more convenient.\nDon't forget to initialize **browserstack-local-nodejs** first, with:\n\n```javascript\nconst local = new browserstack.Local();\n```\n\nand set approperiate args for executable with:\n\n```javascript\nconst BrowserStackLocalArgs = {\n  key: \"[YOUR_BROWSERSTACK_KEY]\",\n  // verbose: true,\n  onlyAutomate: true,\n  // eslint-disable-next-line\n  folder: __dirname,\n};\n```\n\nThen connect with BrowserStack by awaiting for `start()` function.\nYou should do this **before** running the webdriver.\nHere's how `beforeAll()` looks like for your tests:\n\n```javascript\nbeforeAll(async () => {\n  try {\n    // BrowserStackLocal has to be ready before webdriver initialization\n    await start();\n    driver = new webdriver.Builder()\n      .usingServer(\"http://hub-cloud.browserstack.com/wd/hub\")\n      .withCapabilities(capabilities)\n      .build();\n\n    await driver.get(\n      `http://${capabilities[\"browserstack.user\"]}.browserstack.com/test.html`,\n    );\n  } catch (error) {\n    console.error(\"connetion error\", error);\n  }\n  // IMPORTANT! Selenium and Browserstack needs more time than regular Jest\n}, 10000);\n```\n\nThe tests should not require any changes. Remember about disconnecting from BrowserStack after finishing tests.\nYou can do it with:\n\n```javascript\nafterAll(async () => {\n  try {\n    await driver.quit(); // ~ 11 s !\n    await stop(); // ~ 3 s\n  } catch (error) {\n    console.error(\"disconnection error\", error);\n  }\n  // IMPORTANT! Selenium and Browserstack needs a lot of time!\n}, 20000);\n```\n\n> NOTE! At least in my case the disconnection after testing takes really long, which is why I set 20 seconds as a `afterAll` timeout.\n\n> NOTE! If the waiting time is too short, you'll probably run into this message: **Jest did not exit one second after the test run has completed**. When it appears, check your system process/task manager and kill BrowserStackLocal process(es) which may not close/stop correctly.\n\nThis is it. If you have any questions do not hestitate to ask and check out a sample repository that should help you a lot (I hope).\n\nIf you clone [example repository](https://github.com/jmarceli/jest-selenium-browserstack-example) just run `yarn test:automate` to view the results.\n\nHere is the test code described above https://github.com/jmarceli/jest-selenium-browserstack-example/blob/master/test/automate.test.js.\n\nIn the part 2 of this \"series\" I will present a way to run tests for many browsers and OSes at once, see https://www.grzegorowski.com/integration-tests-with-jest-selenium-and-browserstack-part-2/.\n\n## Sources\n\n- https://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/index.html - Selenium documentation\n- https://github.com/Hyddan/se-runner-browserstack-example#readme - first inspiration for automated tests with BrowserStack\n- https://github.com/browserstack/browserstack-local-nodejs - finally a working example of BrowserStack integration\n- https://www.browserstack.com/automate/node - useful official NodeJS documentation\n- https://blog.evantahler.com/testing-javascript-applications-with-selenium-async-await-and-jest-7580ed074f2b - nice setup of Jest and Selenium without BrowserStack\n- https://www.browserstack.com/local-testing#modifiers - BrowserStackLocal argument list\n- https://github.com/Hyddan/se-runner - one of the inspirations (uses Grunt and Jasmine)\n","frontmatter":{"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/theme/blog/content/posts/img/photo-1513611771808-7e8ab7f1dec6.jpg","relativePath":"posts/img/photo-1513611771808-7e8ab7f1dec6.jpg","publicURL":"/static/photo-1513611771808-7e8ab7f1dec6-77532cba5dddbaa1e8170b8f97b35b49.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBP/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAABXvl2MkjSP//EABoQAAIDAQEAAAAAAAAAAAAAAAABAxETAjL/2gAIAQEAAQUCid9ZmYola8n/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAADAAMAAAAAAAAAAAAAAAACEBExgZH/2gAIAQEABj8CkPbyXX//xAAZEAADAAMAAAAAAAAAAAAAAAAAAREQMUH/2gAIAQEAAT8hcje7GDCglxXRn//aAAwDAQACAAMAAAAQVP8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/EKx//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGRAAAwEBAQAAAAAAAAAAAAAAAAERMSFx/9oACAEBAAE/EIP1xGF60VNQi9Yn93tDtUaa9Zo//9k=","aspectRatio":1.5,"src":"/static/77532cba5dddbaa1e8170b8f97b35b49/90537/photo-1513611771808-7e8ab7f1dec6.jpg","srcSet":"/static/77532cba5dddbaa1e8170b8f97b35b49/6ece9/photo-1513611771808-7e8ab7f1dec6.jpg 480w,\n/static/77532cba5dddbaa1e8170b8f97b35b49/0a89a/photo-1513611771808-7e8ab7f1dec6.jpg 960w,\n/static/77532cba5dddbaa1e8170b8f97b35b49/90537/photo-1513611771808-7e8ab7f1dec6.jpg 1080w","sizes":"(max-width: 1080px) 100vw, 1080px"},"sizes":{"presentationHeight":533,"presentationWidth":800}}},"title":"Integration tests with Jest, Selenium and BrowserStack - part 1 - simple example","slug":"integration-tests-with-jest-selenium-and-browserstack","date":"2018-10-30T09:29:00.000Z","tags":["javascript","tools"],"date_created":"2018-11-20T10:58:51.000Z","date_updated":"2018-11-04T18:01:19.000Z","featured":false}},"similarPosts":{"edges":[{"node":{"timeToRead":3,"excerpt":"How to bind handlers in React to multiple similar elements e.g. buttons on list?\nIs it any better to use one handler and identify clickedâ€¦","frontmatter":{"title":"React multiple event handlers performance","slug":"react-multiple-event-handlers","date":"2019-03-13T08:38:18.000Z","tags":["react","javascript","frontend"],"date_created":"2019-03-09T19:49:23.000Z","date_updated":"2019-07-13T22:58:17.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/theme/blog/content/posts/img/photo-1514388479888-50b7cef280ed.jpg","relativePath":"posts/img/photo-1514388479888-50b7cef280ed.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHiyWMg/8QAFxABAQEBAAAAAAAAAAAAAAAAABIBEf/aAAgBAQABBQKEuK1euv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAABAx/9oACAEBAAY/Amv/xAAZEAEBAQADAAAAAAAAAAAAAAABABEhUWH/2gAIAQEAAT8hHbnEHOz2Xxil/9oADAMBAAIAAwAAABAIP//EABcRAQEBAQAAAAAAAAAAAAAAAAEAURH/2gAIAQMBAT8QDW4bf//EABcRAQADAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QuWv/xAAfEAEAAgICAgMAAAAAAAAAAAABABEhMUFRgZGh0fD/2gAIAQEAAT8QSGd4KNxK7cfvs9y1SwarJ055ti7o5XlK+OJR0DNO3uf/2Q==","aspectRatio":2,"src":"/static/aad908a40e560a85f4e88a73b25c43dc/0defe/photo-1514388479888-50b7cef280ed.jpg","srcSet":"/static/aad908a40e560a85f4e88a73b25c43dc/38b6a/photo-1514388479888-50b7cef280ed.jpg 150w,\n/static/aad908a40e560a85f4e88a73b25c43dc/e201c/photo-1514388479888-50b7cef280ed.jpg 300w,\n/static/aad908a40e560a85f4e88a73b25c43dc/0defe/photo-1514388479888-50b7cef280ed.jpg 600w,\n/static/aad908a40e560a85f4e88a73b25c43dc/a71f1/photo-1514388479888-50b7cef280ed.jpg 900w,\n/static/aad908a40e560a85f4e88a73b25c43dc/8d595/photo-1514388479888-50b7cef280ed.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"timeToRead":4,"excerpt":"There are many ways to define event handlers in React. Are there any differences between them? TLDR; You should probably avoid the inlineâ€¦","frontmatter":{"title":"React.PureComponent - different ways of writing event handlers","slug":"react-different-ways-of-passing-handlers-through-the-props","date":"2019-02-19T22:55:00.000Z","tags":["react","javascript","frontend"],"date_created":"2019-03-03T23:56:03.000Z","date_updated":"2019-02-24T10:36:11.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/theme/blog/content/posts/img/photo-1501281668745-f7f57925c3b4.jpg","relativePath":"posts/img/photo-1501281668745-f7f57925c3b4.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAAD/8QAFQEBAQAAAAAAAAAAAAAAAAAAAgP/2gAMAwEAAhADEAAAARaijRsOL//EABgQAQEBAQEAAAAAAAAAAAAAAAIBAwAT/9oACAEBAAEFAs8ZeOQR8zOmikLR66K9/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQACE//aAAgBAwEBPwE0F0L/xAAWEQEBAQAAAAAAAAAAAAAAAAABABL/2gAIAQIBAT8BSy3/xAAZEAADAQEBAAAAAAAAAAAAAAAAAREhAhD/2gAIAQEABj8Cb6ciMdZGZ7//xAAYEAEBAQEBAAAAAAAAAAAAAAABEQAhQf/aAAgBAQABPyEmER3dEa3gZTTuZClI6JHh5lKy7//aAAwDAQACAAMAAAAQQC//xAAXEQEAAwAAAAAAAAAAAAAAAAAAESFh/9oACAEDAQE/EIqmL//EABcRAAMBAAAAAAAAAAAAAAAAAAABMWH/2gAIAQIBAT8Qc4aH/8QAGRABAQADAQAAAAAAAAAAAAAAAREAITFB/9oACAEBAAE/EHHzENs5lhCE1jzb3jjRMdmbFqb2OTCoILYe5ZKiLO5//9k=","aspectRatio":2,"src":"/static/b8caf1eb71d198c481e25e4bcf14457d/0defe/photo-1501281668745-f7f57925c3b4.jpg","srcSet":"/static/b8caf1eb71d198c481e25e4bcf14457d/38b6a/photo-1501281668745-f7f57925c3b4.jpg 150w,\n/static/b8caf1eb71d198c481e25e4bcf14457d/e201c/photo-1501281668745-f7f57925c3b4.jpg 300w,\n/static/b8caf1eb71d198c481e25e4bcf14457d/0defe/photo-1501281668745-f7f57925c3b4.jpg 600w,\n/static/b8caf1eb71d198c481e25e4bcf14457d/a71f1/photo-1501281668745-f7f57925c3b4.jpg 900w,\n/static/b8caf1eb71d198c481e25e4bcf14457d/8d595/photo-1501281668745-f7f57925c3b4.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"timeToRead":2,"excerpt":"Can I use the  property with React.PureComponent, or do I have to use only custom properties? TLDR; You can use  with React.PureComponent asâ€¦","frontmatter":{"title":"React.PureComponent - children vs custom properties","slug":"react-purecomponent-children-vs-custom-properties","date":"2019-02-16T16:00:00.000Z","tags":["react","javascript","frontend"],"date_created":"2019-02-27T14:11:00.000Z","date_updated":"2019-02-23T13:04:06.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/theme/blog/content/posts/img/photo-1503847752244-32e931070a43.jpg","relativePath":"posts/img/photo-1503847752244-32e931070a43.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAGi3NgaOEDj/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEQEv/aAAgBAQABBQJa9hrCguJ7abvP/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAEDAQE/Abiv/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAECAQE/Abqv/8QAGBAAAgMAAAAAAAAAAAAAAAAAADEBECH/2gAIAQEABj8CNkQ7/8QAGxAAAwACAwAAAAAAAAAAAAAAAAERECExQWH/2gAIAQEAAT8h7BYISlpTpj2Dbk28f//aAAwDAQACAAMAAAAQKw//xAAXEQADAQAAAAAAAAAAAAAAAAAAARFB/9oACAEDAQE/EHmij//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EBT/xAAcEAEAAgMAAwAAAAAAAAAAAAABESEAMVEQYXH/2gAIAQEAAT8QdFQ1eNSF8Ph11XvNlTrWRiBSzTkVWdZ8f//Z","aspectRatio":2,"src":"/static/b1dc252aafcc5edeb969febda63fd7b3/0defe/photo-1503847752244-32e931070a43.jpg","srcSet":"/static/b1dc252aafcc5edeb969febda63fd7b3/38b6a/photo-1503847752244-32e931070a43.jpg 150w,\n/static/b1dc252aafcc5edeb969febda63fd7b3/e201c/photo-1503847752244-32e931070a43.jpg 300w,\n/static/b1dc252aafcc5edeb969febda63fd7b3/0defe/photo-1503847752244-32e931070a43.jpg 600w,\n/static/b1dc252aafcc5edeb969febda63fd7b3/a71f1/photo-1503847752244-32e931070a43.jpg 900w,\n/static/b1dc252aafcc5edeb969febda63fd7b3/8d595/photo-1503847752244-32e931070a43.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"timeToRead":8,"excerpt":"You want to check how (or if) your application works with SSL encryption without exposing it to the Internet? Use a self-signed SSLâ€¦","frontmatter":{"title":"Traefik - proxy development server with self-signed SSL certificate","slug":"traefik-proxy-development-server-self-signed-ssl","date":"2018-11-07T05:25:00.000Z","tags":["backend","tools"],"date_created":"2018-11-29T04:08:02.000Z","date_updated":"2018-11-08T00:16:57.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/theme/blog/content/posts/img/photo-1512168203104-3910bc2bcd54.jpg","relativePath":"posts/img/photo-1512168203104-3910bc2bcd54.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAECAwQF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAe0nkjUMDNfAtIB//8QAGRAAAwEBAQAAAAAAAAAAAAAAAAECEBEx/9oACAEBAAEFAtfkNuhkzyh7/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAFxAAAwEAAAAAAAAAAAAAAAAAAREgMP/aAAgBAQAGPwKA8P/EABoQAAIDAQEAAAAAAAAAAAAAAAARARBBITH/2gAIAQEAAT8hm/YxonXgndldR0S0cn//2gAMAwEAAgADAAAAEL//AMP/xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/EB//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/EB//xAAbEAADAQADAQAAAAAAAAAAAAAAARExECFRQf/aAAgBAQABPxCh3wQuWkmR4R7843S0Q/CbnCqXZDZumQoaf//Z","aspectRatio":2,"src":"/static/d82df298cb57c0123e8c64bd116c3d65/0defe/photo-1512168203104-3910bc2bcd54.jpg","srcSet":"/static/d82df298cb57c0123e8c64bd116c3d65/38b6a/photo-1512168203104-3910bc2bcd54.jpg 150w,\n/static/d82df298cb57c0123e8c64bd116c3d65/e201c/photo-1512168203104-3910bc2bcd54.jpg 300w,\n/static/d82df298cb57c0123e8c64bd116c3d65/0defe/photo-1512168203104-3910bc2bcd54.jpg 600w,\n/static/d82df298cb57c0123e8c64bd116c3d65/a71f1/photo-1512168203104-3910bc2bcd54.jpg 900w,\n/static/d82df298cb57c0123e8c64bd116c3d65/8d595/photo-1512168203104-3910bc2bcd54.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"timeToRead":4,"excerpt":"As described in part 1 you can run Jest based tests with BrowserStack service. Now I will show how they can be automatically run againstâ€¦","frontmatter":{"title":"Integration tests with Jest, Selenium and BrowserStack - part 2 - multiple browsers","slug":"integration-tests-with-jest-selenium-and-browserstack-part-2","date":"2018-11-03T02:58:00.000Z","tags":["frontend","javascript"],"date_created":"2018-11-06T02:33:54.000Z","date_updated":"2018-11-04T18:17:34.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/theme/blog/content/posts/img/photo-1517607537732-619ace47ec9e.jpg","relativePath":"posts/img/photo-1517607537732-619ace47ec9e.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAwAE/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAYspJWCP/8QAHBAAAQQDAQAAAAAAAAAAAAAAAAIDERIBBBAy/9oACAEBAAEFAk7FzC7D8Ou+SY5//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHBAAAgICAwAAAAAAAAAAAAAAAREAIQIxEEFh/9oACAEBAAY/AiEHtwl6uHIIeSp3x//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExQWH/2gAIAQEAAT8hED0kcIpPDwgQz1AAchSrGD0cit8hP//aAAwDAQACAAMAAAAQXM//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCq/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/EBF//8QAGxABAAMBAQEBAAAAAAAAAAAAAQARIUExYZH/2gAIAQEAAT8QHVN4GjTxZVYBpQoywy62Ko4AOFHwiXqmhiaedlniVnS55FnPyf/Z","aspectRatio":2,"src":"/static/4035689e780baa3abd3793f7b51bc335/0defe/photo-1517607537732-619ace47ec9e.jpg","srcSet":"/static/4035689e780baa3abd3793f7b51bc335/38b6a/photo-1517607537732-619ace47ec9e.jpg 150w,\n/static/4035689e780baa3abd3793f7b51bc335/e201c/photo-1517607537732-619ace47ec9e.jpg 300w,\n/static/4035689e780baa3abd3793f7b51bc335/0defe/photo-1517607537732-619ace47ec9e.jpg 600w,\n/static/4035689e780baa3abd3793f7b51bc335/a71f1/photo-1517607537732-619ace47ec9e.jpg 900w,\n/static/4035689e780baa3abd3793f7b51bc335/8d595/photo-1517607537732-619ace47ec9e.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}}]},"authors":{"edges":[{"node":{"id":"1","slug":"jan","name":"Jan Grzegorowski","bio":"Full-stack developer currently working with React / Java stack at Equinix","website":"","location":"","profile_image":{"relativePath":"avatar/photo-mini.jpg","childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAa8+nhDphjnIF7Ah/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEiMf/aAAgBAQABBQK5mUB762lg1VGvG8Udif/EABcRAQEBAQAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8BAyHJ/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATUav//EABsQAQACAgMAAAAAAAAAAAAAAAECEgAQESAx/9oACAEBAAY/Agh64Wbx56u//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARECExgaGx/9oACAEBAAE/IRAL6t4R+NaJW948RDMDnzHpQyxFZP/aAAwDAQACAAMAAAAQD8A8/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/EGNZvP/EABYRAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxBJGE//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEDFRgcH/2gAIAQEAAT8Qfyh9bKr5wsWRAIpRh0prgVXZTPUxvgwCqwb+cGlgG6ILpxBXtz//2Q==","width":30,"height":30,"src":"/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg","srcSet":"/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg 1x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/74c3b/photo-mini.jpg 1.5x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 2x"}}},"profile_image_large":{"relativePath":"avatar/photo-mini.jpg","childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAa8+nhDphjnIF7Ah/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEiMf/aAAgBAQABBQK5mUB762lg1VGvG8Udif/EABcRAQEBAQAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8BAyHJ/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATUav//EABsQAQACAgMAAAAAAAAAAAAAAAECEgAQESAx/9oACAEBAAY/Agh64Wbx56u//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARECExgaGx/9oACAEBAAE/IRAL6t4R+NaJW948RDMDnzHpQyxFZP/aAAwDAQACAAMAAAAQD8A8/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/EGNZvP/EABYRAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxBJGE//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEDFRgcH/2gAIAQEAAT8Qfyh9bKr5wsWRAIpRh0prgVXZTPUxvgwCqwb+cGlgG6ILpxBXtz//2Q==","width":60,"height":60,"src":"/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg","srcSet":"/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 1x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/c5aad/photo-mini.jpg 1.5x"}}}}}]},"tags":{"edges":[{"node":{"id":"5b982ddf16b0a81519316f70","name":"Javascript","slug":"javascript"}},{"node":{"id":"5b982ddf16b0a81519316f78","name":"Web developer toolset","slug":"tools"}}]},"tagPosts":{"edges":[{"node":{"frontmatter":{"title":"React multiple event handlers performance","slug":"react-multiple-event-handlers","date":"2019-03-13T08:38:18.000Z","featured":false}}},{"node":{"frontmatter":{"title":"React.PureComponent - different ways of writing event handlers","slug":"react-different-ways-of-passing-handlers-through-the-props","date":"2019-02-19T22:55:00.000Z","featured":false}}},{"node":{"frontmatter":{"title":"React.PureComponent - children vs custom properties","slug":"react-purecomponent-children-vs-custom-properties","date":"2019-02-16T16:00:00.000Z","featured":false}}},{"node":{"frontmatter":{"title":"Integration tests with Jest, Selenium and BrowserStack - part 2 - multiple browsers","slug":"integration-tests-with-jest-selenium-and-browserstack-part-2","date":"2018-11-03T02:58:00.000Z","featured":false}}}],"totalCount":16}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"integration-tests-with-jest-selenium-and-browserstack","tags":["javascript","tools"],"author":"jan","mainTag":"javascript","prev":{"frontmatter":{"slug":"integration-tests-with-jest-selenium-and-browserstack-part-2","tags":["frontend","javascript"],"author":"jan"}},"next":{"frontmatter":{"slug":"time-series-admin-electron-application-influxdb","tags":["javascript","tools"],"author":"jan"}}}}}