{"componentChunkName":"component---gatsby-ghost-theme-src-templates-post-js","path":"/using-prawn-gem-for-generating-pdfs-in-rails-5/amp/","webpackCompilationHash":"05489b8a96d3d3eb87e3","result":{"data":{"post":{"html":"<p>During my recent project development, I came across a problem of generating PDFs. Fortunately, there is a nice gem for creating PDF documents with Ruby which is named <a href=\"https://github.com/prawnpdf/prawn\">Prawn</a>. In a few lines below, I would like to explain how to use it with Rails 5. This will be just a minimal example with <strong>Hello World!</strong> document as a result.</p>\n<h2>1. Install Prawn gem:</h2>\n<p>Please check out what is the current gem version on <a href=\"https://rubygems.org/gems/prawn\">RubyGems.org</a> or <a href=\"https://github.com/prawnpdf/prawn/releases\">Github</a> and add similar line to your <code class=\"language-text\">Gemfile</code>:</p>\n<p><span class=\"filepath\"><strong>Gemfile</strong></span></p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\">gem <span class=\"token string\">'prawn'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'~>2.2.0'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2>2. Extend one of your actions</h2>\n<p>Add <code class=\"language-text\">format.pdf</code> to one of your controllers. In my case it was <code class=\"language-text\">export_controller</code> but the name is irrelevant here. Just pick one of the actions e.g. <code class=\"language-text\">show</code> and inside <code class=\"language-text\">respond_to do |format|</code> block generate a PDF. Example:</p>\n<p><span class=\"filepath\"><strong>app/controllers/export_controller.rb</strong></span></p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ExportController</span> <span class=\"token operator\">&lt;</span> <span class=\"token constant\">ApplicationController</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">show</span></span>\n    respond_to <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>format<span class=\"token operator\">|</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">/</span> some other formats like<span class=\"token punctuation\">:</span> format<span class=\"token punctuation\">.</span>html <span class=\"token punctuation\">{</span> render <span class=\"token symbol\">:show</span> <span class=\"token punctuation\">}</span>\n\n      format<span class=\"token punctuation\">.</span>pdf <span class=\"token keyword\">do</span>\n        pdf <span class=\"token operator\">=</span> <span class=\"token constant\">Prawn</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">Document</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span>\n        <span class=\"token class-name\">pdf<span class=\"token punctuation\">.</span>text</span> <span class=\"token string\">\"Hellow World!\"</span>\n        send_data pdf<span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">,</span>\n          filename<span class=\"token punctuation\">:</span> <span class=\"token string\">\"export.pdf\"</span><span class=\"token punctuation\">,</span>\n          type<span class=\"token punctuation\">:</span> <span class=\"token string\">'application/pdf'</span><span class=\"token punctuation\">,</span>\n          disposition<span class=\"token punctuation\">:</span> <span class=\"token string\">'inline'</span>\n      <span class=\"token keyword\">end</span>\n    <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>That's it. Now when you visit correct URL with <code class=\"language-text\">.pdf</code> at the end you will see (or download) generated PDF file. In my case the URL in question is <code class=\"language-text\">http://localhost:3000/export/show.pdf</code>.</p>\n<p>But there is more!</p>\n<h2>3. PDF development</h2>\n<p>During the development, it is nice to have an easy way to preview the changes that you made. If you are using Google Chrome browser (as I do) you may notice that instead of opening PDFs inline the files are immediately downloaded. This is very inconvenient behavior if you are constantly changing your code and try to preview those changes.\nLuckily, the solution is quite easy, just install a PDF preview plugin/extension. I choose <a href=\"https://chrome.google.com/webstore/detail/pdf-viewer/oemmndcbldboiebfnladdacbdfmadadm?hl=en\">PDF Viewer</a> but you can install any other if you want. The point is that you should now be able to go to <code class=\"language-text\">http://localhost:3000/export/show.pdf</code> and view the PDF inline (as defined by the <code class=\"language-text\">disposition</code> in the example code) and refresh this preview just by hitting <em>cmd+r</em> (or <em>F5</em> on Windows).\nThis will be a huge improvement comparing to the downloading a file and then opening it.</p>\n<h2>4. PDF class</h2>\n<p>Code provided in step <strong>2.</strong> as a minimal example suffers from combining a controller code with an actual PDF document generation which will become an issue when the code for generating PDF grows. Here is one of the possible solutions.</p>\n<p>Create a separate class.</p>\n<p><span class=\"filepath\"><strong>app/pdfs/export_pdf.rb</strong></span></p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ExportPdf</span>\n  <span class=\"token operator\">/</span><span class=\"token operator\">/</span> `include` instead of subclassing <span class=\"token constant\">Prawn</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">Document</span>\n  <span class=\"token operator\">/</span><span class=\"token operator\">/</span> as advised by the official manual\n  include <span class=\"token constant\">Prawn</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">View</span>\n\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">initialize</span></span>\n    content\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">content</span></span>\n    text <span class=\"token string\">\"Hello World!\"</span>\n    <span class=\"token operator\">/</span><span class=\"token operator\">/</span> here comes more code <span class=\"token keyword\">for</span> generating <span class=\"token constant\">PDF</span> content\n    <span class=\"token operator\">/</span><span class=\"token operator\">/</span> <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Use this class inside your controller</p>\n<p><span class=\"filepath\"><strong>app/controllers/export_controller.rb</strong></span></p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ExportController</span> <span class=\"token operator\">&lt;</span> <span class=\"token constant\">ApplicationController</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">show</span></span>\n    respond_to <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>format<span class=\"token operator\">|</span>\n      <span class=\"token operator\">/</span><span class=\"token operator\">/</span> some other formats like<span class=\"token punctuation\">:</span> format<span class=\"token punctuation\">.</span>html <span class=\"token punctuation\">{</span> render <span class=\"token symbol\">:show</span> <span class=\"token punctuation\">}</span>\n\n      format<span class=\"token punctuation\">.</span>pdf <span class=\"token keyword\">do</span>\n        pdf <span class=\"token operator\">=</span> <span class=\"token constant\">ExportPdf</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span>\n        <span class=\"token class-name\">send_data</span> pdf<span class=\"token punctuation\">.</span>render<span class=\"token punctuation\">,</span>\n          filename<span class=\"token punctuation\">:</span> <span class=\"token string\">\"export.pdf\"</span><span class=\"token punctuation\">,</span>\n          type<span class=\"token punctuation\">:</span> <span class=\"token string\">'application/pdf'</span><span class=\"token punctuation\">,</span>\n          disposition<span class=\"token punctuation\">:</span> <span class=\"token string\">'inline'</span>\n      <span class=\"token keyword\">end</span>\n    <span class=\"token keyword\">end</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>NOTE</strong>: There is no need to change anything more to autoload <code class=\"language-text\">app/pdfs/</code> classes. Just restart your development Rails server after adding <code class=\"language-text\">app/pdfs/export_pdf.rb</code> file. The folder will be autodetected and all the classes autoloaded.</p>\n<h2>5. Custom Google Font with Prawn gem</h2>\n<p>At some point you will probably want to have a custom font for PDFs generated by your application. It's quite easy if you know how to do that.</p>\n<p>First of all download font that you want to use from <a href=\"https://fonts.google.com/\">Google Fonts</a> for example <a href=\"https://fonts.google.com/specimen/Noto+Sans\">NotoSans</a>. Then extract downloaded zip file to the Rails vendor directory <span class=\"filepath\"><strong>vendor/assets/fonts/</strong></span>  so the file paths for the font files will be e.g. <span class=\"filepath\"><strong>vendor/assets/fonts/NotoSans-Regular.ttf</strong></span>, <span class=\"filepath\"><strong>vendor/assets/fonts/NotoSans-Italic.ttf</strong></span> etc.</p>\n<p>Now you should tell Prawn that you want to use selected custom font. Your code should look as follows if you use a separate class for PDF generation as described in <a href=\"#4pdfclass\">#4</a> (added lines/methods has some comments):</p>\n<p><span class=\"filepath\"><strong>app/pdfs/export_pdf.rb</strong></span></p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">ExportPdf</span>\n  include <span class=\"token constant\">Prawn</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">View</span>\n\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">initialize</span></span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n    font_setup <span class=\"token comment\"># this is a new line</span>\n    content\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token comment\"># This is the new method with font declaration</span>\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">font_setup</span></span>\n    font_families<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span><span class=\"token string\">\"NotoSans\"</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token symbol\">:normal</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"vendor/assets/fonts/NotoSans-Regular.ttf\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:italic</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"vendor/assets/fonts/NotoSans-Italic.ttf\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token symbol\">:bold</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"vendor/assets/fonts/NotoSans-Bold.ttf\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    font <span class=\"token string\">\"NotoSans\"</span>\n  <span class=\"token keyword\">end</span>\n\n  <span class=\"token keyword\">def</span> <span class=\"token method-definition\"><span class=\"token function\">content</span></span>\n    text <span class=\"token string\">\"Hello World!\"</span>\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now you should have a custom font for your PDF. Here is the result:\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 840px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.44529262086514%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAcUlEQVQY02Nwd3cvLCzs6enp7u5ubm5uggEgu6Ojo6+vr7W1tbERLtzU2NgIVFxcXOzi4sJgbm5+8ODB////v3795s/fv/8JgT9//gDJtWvXGhoaMlhaWh44cADI//bt219SNBsZGSE0Q0TppNnY2BgA0bHyCeakE6cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Prawn PDF Google Fonts NotoSans\"\n        title=\"Prawn PDF Google Fonts NotoSans\"\n        src=\"/static/1864caa493049683501e1bf10a6bf65d/a3419/prawn-pdf-custom-font-1.png\"\n        srcset=\"/static/1864caa493049683501e1bf10a6bf65d/a1986/prawn-pdf-custom-font-1.png 210w,\n/static/1864caa493049683501e1bf10a6bf65d/ad7fb/prawn-pdf-custom-font-1.png 420w,\n/static/1864caa493049683501e1bf10a6bf65d/a3419/prawn-pdf-custom-font-1.png 840w,\n/static/1864caa493049683501e1bf10a6bf65d/f1a60/prawn-pdf-custom-font-1.png 1179w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\nand another with a <a href=\"https://fonts.google.com/specimen/Lobster\">Lobster</a> font (to show the difference):\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 840px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.59983150800337%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAfklEQVQY06WNPQoDIRCFPZLYqaXgpbyLGEVB0UNpvSlszYoZFvKz3YZ8xTDvzXsMEkIopUopMUbn3O2FtdZ7D34IwRjz9mGHpNZaSokwxjnntda23dcF5pwwW2uUUkQISSmB7r0/xti/mAf7mTEGhGutnPNPGQ4/ff6rzBh7ArVv+Y1aJc7fAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Prawn PDF custom font\"\n        title=\"Prawn PDF custom font\"\n        src=\"/static/bb9ca4135781a818209bcf59711c90b8/a3419/prawn-pdf-custom-lobster-font-1.png\"\n        srcset=\"/static/bb9ca4135781a818209bcf59711c90b8/a1986/prawn-pdf-custom-lobster-font-1.png 210w,\n/static/bb9ca4135781a818209bcf59711c90b8/ad7fb/prawn-pdf-custom-lobster-font-1.png 420w,\n/static/bb9ca4135781a818209bcf59711c90b8/a3419/prawn-pdf-custom-lobster-font-1.png 840w,\n/static/bb9ca4135781a818209bcf59711c90b8/07dbe/prawn-pdf-custom-lobster-font-1.png 1187w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span></p>\n<p>Of course, this method will work for any kind of custom font if you have appropriate <strong>.ttf</strong> files.</p>\n<h2>Hints</h2>\n<p>In order to get document width (inner width without margins) use:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\">bounds<span class=\"token punctuation\">.</span>width</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>This will work <strong>inside</strong> class which includes <strong>Prawn::View</strong>.</p>\n<h2>Issues encountered</h2>\n<p>Some of the errors which I have to solve during the <strong>prawn gem</strong> usage:</p>\n<ul>\n<li>\n<p><em>Prawn::Errors::IncompatibleStringEncoding</em></p>\n<p>It turns out that using LatinExtended charset letters like ę, ą and others requires using a custom font as described in <a href=\"#5customgooglefontwithprawngem\">#5</a></p>\n</li>\n</ul>\n<p>For more info about Prawn gem capabilities please refer to the official documentation <a href=\"http://prawnpdf.org/api-docs/2.0/\">http://prawnpdf.org/api-docs/2.0/</a> and especially to the manual <a href=\"http://prawnpdf.org/manual.pdf\">http://prawnpdf.org/manual.pdf</a> where all methods are described with examples.</p>\n<hr>\n<p>Sources:</p>\n<ul>\n<li><a href=\"https://rubyplus.com/articles/3891-PDFs-with-Prawn-in-Rails-5\">https://rubyplus.com/articles/3891-PDFs-with-Prawn-in-Rails-5</a></li>\n<li><a href=\"http://railscasts.com/episodes/153-pdfs-with-prawn?view=asciicast\">http://railscasts.com/episodes/153-pdfs-with-prawn?view=asciicast</a></li>\n<li><a href=\"https://www.sitepoint.com/pdf-generation-rails/\">https://www.sitepoint.com/pdf-generation-rails/</a></li>\n</ul>","excerpt":"During my recent project development, I came across a problem of generating PDFs. Fortunately, there is a nice gem for creating PDF…","timeToRead":5,"frontmatter":{"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/blog/content/posts/img/photo-1532377606-cdcdb6bd7f08.jpg","relativePath":"posts/img/photo-1532377606-cdcdb6bd7f08.jpg","publicURL":"/static/photo-1532377606-cdcdb6bd7f08-631ebc9752855580b7da983e498fa674.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAABQABAv/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAFLs3RSFl//xAAbEAACAgMBAAAAAAAAAAAAAAAAAgEhAxESMv/aAAgBAQABBQJslq1bgb1J1J//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPwFH/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQIBAT8BV//EABkQAAIDAQAAAAAAAAAAAAAAAAABAhAhEf/aAAgBAQAGPwLiZtRrEj//xAAZEAACAwEAAAAAAAAAAAAAAAAAARExYSH/2gAIAQEAAT8hWoxPR7rk2O8pOVSGx0NP/9oADAMBAAIAAwAAABA0D//EABYRAQEBAAAAAAAAAAAAAAAAABEBEP/aAAgBAwEBPxBgGP/EABYRAQEBAAAAAAAAAAAAAAAAAAEREP/aAAgBAgEBPxAEbc//xAAbEAEAAwADAQAAAAAAAAAAAAABABFRITFhQf/aAAgBAQABPxA0nb7PNgZr+EezXJ5IVIF7V3LMtJGSEcan/9k=","aspectRatio":1.3917525773195876,"src":"/static/631ebc9752855580b7da983e498fa674/90537/photo-1532377606-cdcdb6bd7f08.jpg","srcSet":"/static/631ebc9752855580b7da983e498fa674/6ece9/photo-1532377606-cdcdb6bd7f08.jpg 480w,\n/static/631ebc9752855580b7da983e498fa674/0a89a/photo-1532377606-cdcdb6bd7f08.jpg 960w,\n/static/631ebc9752855580b7da983e498fa674/90537/photo-1532377606-cdcdb6bd7f08.jpg 1080w","sizes":"(max-width: 1080px) 100vw, 1080px"},"sizes":{"presentationHeight":575,"presentationWidth":800}}},"title":"Generate PDF with Prawn gem in Rails 5 application","slug":"using-prawn-gem-for-generating-pdfs-in-rails-5","tags":["rails","ruby"],"date_created":"2017-04-05T15:56:08.000Z","date_updated":"2018-09-15T19:13:14.000Z","featured":false}},"similarPosts":{"edges":[{"node":{"timeToRead":3,"excerpt":"Writing and using custom Capistrano tasks is very easy and automating your deployment process may save you a lot of time and troubles. Here…","frontmatter":{"title":"Ruby on Rails custom Capistrano tasks","slug":"ruby-on-rails-custom-capistrano-tasks","tags":["ruby","rails","tools","capistrano"],"date_created":"2017-06-10T13:15:15.000Z","date_updated":"2017-06-10T14:32:58.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/blog/content/posts/img/deploy.jpg","relativePath":"posts/img/deploy.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAQBAgMF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAebdRiIMyv/EABoQAAICAwAAAAAAAAAAAAAAAAABAhEhMUH/2gAIAQEAAQUCWRooide//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAARAg/9oACAEBAAY/AoC//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAExEWH/2gAIAQEAAT8hdBtOsKNdyx//2gAMAwEAAgADAAAAEK8v/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAEDAQE/EAsL/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EFy1v//EABkQAQEBAQEBAAAAAAAAAAAAAAERACFhMf/aAAgBAQABPxCOQF8wzi3LFEH1zY64k1J8uSst3//Z","aspectRatio":2,"src":"/static/d79ef96498eaf1d8c8d08209e980d3f7/0defe/deploy.jpg","srcSet":"/static/d79ef96498eaf1d8c8d08209e980d3f7/38b6a/deploy.jpg 150w,\n/static/d79ef96498eaf1d8c8d08209e980d3f7/e201c/deploy.jpg 300w,\n/static/d79ef96498eaf1d8c8d08209e980d3f7/0defe/deploy.jpg 600w,\n/static/d79ef96498eaf1d8c8d08209e980d3f7/a71f1/deploy.jpg 900w,\n/static/d79ef96498eaf1d8c8d08209e980d3f7/9f6c3/deploy.jpg 1200w,\n/static/d79ef96498eaf1d8c8d08209e980d3f7/e95fb/deploy.jpg 1280w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"timeToRead":1,"excerpt":"Opening PDFs directly on the web page was one of the requirements for my recent project. The obvious choice was to use the PDF.js library…","frontmatter":{"title":"Rails 5 with PDF.js","slug":"rails-5-with-pdf-js","tags":["rails","ruby"],"date_created":"2017-04-16T02:49:13.000Z","date_updated":"2018-03-19T02:01:16.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/blog/content/posts/img/photo-1504355080015-bba52674577b.jpg","relativePath":"posts/img/photo-1504355080015-bba52674577b.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAeABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAUBAgQD/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAABdCqBqKQrOgM53D//xAAZEAEAAwEBAAAAAAAAAAAAAAAAAhETIRD/2gAIAQEAAQUC0g0g0gta/OusmTJ//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwEf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwEf/8QAGxAAAgMBAQEAAAAAAAAAAAAAAAECMTKSQUL/2gAIAQEABj8C0jSNI3I0zci4lxPktclrk85P/8QAIBAAAgEEAQUAAAAAAAAAAAAAAAHwESGR8eFRYXGBwf/aAAgBAQABPyHdG6N0JHeGBKn8+CTRetYZFdbwU5F3T7JEJUKeuA//2gAMAwEAAgADAAAAEBMAAP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QH//EAB4QAQACAgEFAAAAAAAAAAAAAAEAESExURBBgZGh/9oACAEBAAE/EOilW6WFLUcUwZR6O6mhg9LORCBoa+zlcHRKpnzBIXcekNh//9k=","aspectRatio":2,"src":"/static/a949d10626d8190ada00f7a5298b9b09/0defe/photo-1504355080015-bba52674577b.jpg","srcSet":"/static/a949d10626d8190ada00f7a5298b9b09/38b6a/photo-1504355080015-bba52674577b.jpg 150w,\n/static/a949d10626d8190ada00f7a5298b9b09/e201c/photo-1504355080015-bba52674577b.jpg 300w,\n/static/a949d10626d8190ada00f7a5298b9b09/0defe/photo-1504355080015-bba52674577b.jpg 600w,\n/static/a949d10626d8190ada00f7a5298b9b09/a71f1/photo-1504355080015-bba52674577b.jpg 900w,\n/static/a949d10626d8190ada00f7a5298b9b09/8d595/photo-1504355080015-bba52674577b.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"timeToRead":1,"excerpt":"While defining custom errors is described in the official documentation I had a few issues. Here are my findings. First of all  integration…","frontmatter":{"title":"Dry-validation custom error messages","slug":"dry-validation-custom-error-messages","tags":["ruby","rails"],"date_created":"2017-03-30T22:59:16.000Z","date_updated":"2018-11-08T00:31:46.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/blog/content/posts/img/pexels-photo-210585-1.jpeg","relativePath":"posts/img/pexels-photo-210585-1.jpeg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFwABAAMAAAAAAAAAAAAAAAAAAAEDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAG3cEBP/8QAGRAAAQUAAAAAAAAAAAAAAAAAAgEDBBAR/9oACAEBAAEFAm46AW1//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGRAAAQUAAAAAAAAAAAAAAAAAAgABEBEx/9oACAEBAAY/ArEyZZH/xAAWEAEBAQAAAAAAAAAAAAAAAAAAEXH/2gAIAQEAAT8hwOFUr//aAAwDAQACAAMAAAAQ9B//xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8QNX//xAAVEQEBAAAAAAAAAAAAAAAAAAAREP/aAAgBAgEBPxAJ/8QAGhABAQACAwAAAAAAAAAAAAAAAREAUSFBcf/aAAgBAQABPxAud74tNOz3EoqbpMTc/9k=","aspectRatio":2,"src":"/static/f091aaf7345a39273b2b03c22e3eb5c8/0defe/pexels-photo-210585-1.jpg","srcSet":"/static/f091aaf7345a39273b2b03c22e3eb5c8/38b6a/pexels-photo-210585-1.jpg 150w,\n/static/f091aaf7345a39273b2b03c22e3eb5c8/e201c/pexels-photo-210585-1.jpg 300w,\n/static/f091aaf7345a39273b2b03c22e3eb5c8/0defe/pexels-photo-210585-1.jpg 600w,\n/static/f091aaf7345a39273b2b03c22e3eb5c8/a71f1/pexels-photo-210585-1.jpg 900w,\n/static/f091aaf7345a39273b2b03c22e3eb5c8/9f6c3/pexels-photo-210585-1.jpg 1200w,\n/static/f091aaf7345a39273b2b03c22e3eb5c8/028b9/pexels-photo-210585-1.jpg 1279w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}}]},"authors":{"edges":[{"node":{"id":"1","slug":"jan","name":"Jan Grzegorowski","bio":"Full-stack developer currently working with React / Java stack","website":"","location":"","profile_image":{"relativePath":"avatar/photo-mini.jpg","childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAa8+nhDphjnIF7Ah/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEiMf/aAAgBAQABBQK5mUB762lg1VGvG8Udif/EABcRAQEBAQAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8BAyHJ/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATUav//EABsQAQACAgMAAAAAAAAAAAAAAAECEgAQESAx/9oACAEBAAY/Agh64Wbx56u//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARECExgaGx/9oACAEBAAE/IRAL6t4R+NaJW948RDMDnzHpQyxFZP/aAAwDAQACAAMAAAAQD8A8/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/EGNZvP/EABYRAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxBJGE//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEDFRgcH/2gAIAQEAAT8Qfyh9bKr5wsWRAIpRh0prgVXZTPUxvgwCqwb+cGlgG6ILpxBXtz//2Q==","width":30,"height":30,"src":"/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg","srcSet":"/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg 1x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/74c3b/photo-mini.jpg 1.5x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 2x"}}},"profile_image_large":{"relativePath":"avatar/photo-mini.jpg","childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAa8+nhDphjnIF7Ah/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEiMf/aAAgBAQABBQK5mUB762lg1VGvG8Udif/EABcRAQEBAQAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8BAyHJ/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATUav//EABsQAQACAgMAAAAAAAAAAAAAAAECEgAQESAx/9oACAEBAAY/Agh64Wbx56u//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARECExgaGx/9oACAEBAAE/IRAL6t4R+NaJW948RDMDnzHpQyxFZP/aAAwDAQACAAMAAAAQD8A8/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/EGNZvP/EABYRAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxBJGE//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEDFRgcH/2gAIAQEAAT8Qfyh9bKr5wsWRAIpRh0prgVXZTPUxvgwCqwb+cGlgG6ILpxBXtz//2Q==","width":60,"height":60,"src":"/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg","srcSet":"/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 1x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/c5aad/photo-mini.jpg 1.5x"}}}}}]},"tags":{"edges":[{"node":{"id":"5b982ddf16b0a81519316f75","name":"Ruby","slug":"ruby"}},{"node":{"id":"5b982ddf16b0a81519316f77","name":"Rails","slug":"rails"}}]},"tagPosts":{"edges":[{"node":{"frontmatter":{"title":"Ruby on Rails custom Capistrano tasks","slug":"ruby-on-rails-custom-capistrano-tasks","date_created":"2017-06-10T13:15:15.000Z","featured":false}}},{"node":{"frontmatter":{"title":"Rails 5 with PDF.js","slug":"rails-5-with-pdf-js","date_created":"2017-04-16T02:49:13.000Z","featured":false}}},{"node":{"frontmatter":{"title":"Dry-validation custom error messages","slug":"dry-validation-custom-error-messages","date_created":"2017-03-30T22:59:16.000Z","featured":false}}}],"totalCount":3}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"using-prawn-gem-for-generating-pdfs-in-rails-5","tags":["rails","ruby"],"author":"jan","mainTag":"rails","prev":{"frontmatter":{"slug":"useful-bash-commands","tags":["tools"],"author":"jan"}},"next":{"frontmatter":{"slug":"wordpress-plugins","tags":["wordpress","wordpress-plugins"],"author":"jan"}},"isAmp":true}}}