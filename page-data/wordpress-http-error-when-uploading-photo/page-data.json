{"componentChunkName":"component---gatsby-ghost-theme-src-templates-post-js","path":"/wordpress-http-error-when-uploading-photo","webpackCompilationHash":"9a15a96c2c6723dc956d","result":{"data":{"post":{"html":"<p>I had a few cases when clients report an \"HTTP error\" during photo upload. Which looks similar to this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 771px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e1d25b68e79aa30fcd0811c56d2c93a2/1c775/wordpress-photo-http-error.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.24124513618677%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAAa0lEQVQY053P3QqDMAwF4Lz/EyqtN+22KmmWn111VwZFkIFg90HgBAKHQIwxhDAMY07ZzLQHsGpr7fsXEBE99dnmav1t9pFOzLwH0E5EhIgV0QNYj4/Zm2VKj1QWfwnoUGulG/zs+SplXjyvdNKK0u9nGnMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Wordpress photo upload HTTP error\"\n        title=\"Wordpress photo upload HTTP error\"\n        src=\"/static/e1d25b68e79aa30fcd0811c56d2c93a2/1c775/wordpress-photo-http-error.png\"\n        srcset=\"/static/e1d25b68e79aa30fcd0811c56d2c93a2/a1986/wordpress-photo-http-error.png 210w,\n/static/e1d25b68e79aa30fcd0811c56d2c93a2/ad7fb/wordpress-photo-http-error.png 420w,\n/static/e1d25b68e79aa30fcd0811c56d2c93a2/1c775/wordpress-photo-http-error.png 771w\"\n        sizes=\"(max-width: 771px) 100vw, 771px\"\n      />\n  </a>\n    </span></p>\n<p>In all these cases the problem was caused by the thumbnail generation Wordpress script.</p>\n<p>First of all check you theme thumbnail sizes if you use a custom theme. Chances are that some of the \"non-cropped\" image sizes are too big to be generated in a reasonable time or memory limit (these resources may unexpectedly end WP thumbnail generation script which is a direct cause of \"HTTP error\").\nThe easiest way is installing <a href=\"https://wordpress.org/plugins/simple-image-sizes/\">Simple Image Sizes</a> plugin and checking <em>Settings > Media</em> menu tab. Look for thumbnail sizes that are not cropped and/or has very large dimensions restrictions e.g. <strong>1920 x 9999 non-cropped</strong> is a good candidate.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 840px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/511cb1bb136adf55a80f1a6899430563/41412/too-large-image-thumbnail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 6.601650412603151%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAIAAABR8BlyAAAACXBIWXMAAAsSAAALEgHS3X78AAAANklEQVQI1x2KyQ0AMQjE0n+jyywwHKKAoPhlWT7fo6rcHUCQqgoIyf/R3RGxcWZWRGQ3M8vMC5VYN2A2Uz9jAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"HTTP error too large thumbnail\"\n        title=\"HTTP error too large thumbnail\"\n        src=\"/static/511cb1bb136adf55a80f1a6899430563/a3419/too-large-image-thumbnail.png\"\n        srcset=\"/static/511cb1bb136adf55a80f1a6899430563/a1986/too-large-image-thumbnail.png 210w,\n/static/511cb1bb136adf55a80f1a6899430563/ad7fb/too-large-image-thumbnail.png 420w,\n/static/511cb1bb136adf55a80f1a6899430563/a3419/too-large-image-thumbnail.png 840w,\n/static/511cb1bb136adf55a80f1a6899430563/4d498/too-large-image-thumbnail.png 1260w,\n/static/511cb1bb136adf55a80f1a6899430563/41412/too-large-image-thumbnail.png 1333w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n  </a>\n    </span></p>\n<p>The reason is that if you upload narrow but tall image e.g 500x1500 this thumbnail size will have to generate enormously large photo.</p>\n<p>The other possible reason for \"HTTP error\" is too many image thumbnails that are generated by Wordpress, so the script doesn't manage to generate all of them before it hits PHP timeout.</p>\n<p>A third possible cause of \"HTTP error\" (probably most common) is your client uploading photos <strong>directly from a camera</strong>. This might be hard to solve as you generally don't want to tell your clients that image preprocessing is required before using them on the website (clients doesn't like to do anything more than drag and drop photos).\nFortunately, there is <a href=\"https://wordpress.org/plugins/imsanity/\">Imsanity</a> plugin which seems to be solving this issue. It resizes <strong>original</strong> images after file upload. Based on my recent experience with \"HTTP error\" I believe that this conversion takes place <strong>before thumbnails generation</strong> as installing Imsanity solves \"HTTP error\" caused by a large uploaded photo resolution.</p>","excerpt":"I had a few cases when clients report an \"HTTP error\" during photo upload. Which looks similar to this:  In all these cases the problem was…","timeToRead":1,"frontmatter":{"author":"jan","feature_image":null,"title":"Wordpress HTTP error when uploading a photo","slug":"wordpress-http-error-when-uploading-photo","tags":["wordpress"],"date_created":"2017-04-16T15:49:22.000Z","date_updated":"2017-04-16T16:32:44.000Z","featured":false}},"similarPosts":{"edges":[{"node":{"timeToRead":1,"excerpt":"Adding WPML support to PostType Switcher plugin is easy. My solution is based on https://wordpress.org/support/topic/simple-hack-to-add-wpml…","frontmatter":{"title":"Wordpress WMPL Post Type Switcher support","slug":"wordpress-wmpl-post-type-switcher-support","tags":["wordpress","wordpress-plugins","php"],"date_created":"2017-10-05T19:28:03.000Z","date_updated":"2017-10-05T19:40:21.000Z","featured":false,"author":"jan","feature_image":null}}},{"node":{"timeToRead":2,"excerpt":"Adding translations to the current Roots Sage version (which is 9.0.0-beta.4) is not as easy and standard as it was in previous versions…","frontmatter":{"title":"Wordpress Roots Sage 9 translations","slug":"wordpress-roots-sage-9-translations","tags":["wordpress"],"date_created":"2017-08-31T00:57:15.000Z","date_updated":"2017-09-22T22:17:04.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/blog/content/posts/img/letters.jpg","relativePath":"posts/img/letters.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBP/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB40mboH//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAEFAl//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAZEAACAwEAAAAAAAAAAAAAAAAAUQEQEWH/2gAIAQEAAT8htELph//aAAwDAQACAAMAAAAQ2O//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAaEAEBAQADAQAAAAAAAAAAAAABEQBBUZGx/9oACAEBAAE/EAAzDU5Zlr1d9B5iy2b/2Q==","aspectRatio":2,"src":"/static/07579ef4c70caa9b105d77ba1fcee8ad/0defe/letters.jpg","srcSet":"/static/07579ef4c70caa9b105d77ba1fcee8ad/38b6a/letters.jpg 150w,\n/static/07579ef4c70caa9b105d77ba1fcee8ad/e201c/letters.jpg 300w,\n/static/07579ef4c70caa9b105d77ba1fcee8ad/0defe/letters.jpg 600w,\n/static/07579ef4c70caa9b105d77ba1fcee8ad/a71f1/letters.jpg 900w,\n/static/07579ef4c70caa9b105d77ba1fcee8ad/9f6c3/letters.jpg 1200w,\n/static/07579ef4c70caa9b105d77ba1fcee8ad/e95fb/letters.jpg 1280w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"timeToRead":2,"excerpt":"During assets compilation with ,  or  you may run into this error: error Command failed with exit code 2  Workaround In order to fix it try…","frontmatter":{"title":"Roots Sage 9.0.0 - error Command failed with exit code 2","slug":"wordpress-roots-sage-9-0-0","tags":["wordpress"],"date_created":"2017-08-24T01:53:35.000Z","date_updated":"2018-01-28T11:19:15.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/blog/content/posts/img/sage_assets_errors_reporting.jpg","relativePath":"posts/img/sage_assets_errors_reporting.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAcSEBX//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAE/IX//2gAMAwEAAgADAAAAEP8A3//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAEDAQE/EIf/xAAVEQEBAAAAAAAAAAAAAAAAAAAQEf/aAAgBAgEBPxCn/8QAFxABAQEBAAAAAAAAAAAAAAAAAQARcf/aAAgBAQABPxBeyO2X/9k=","aspectRatio":2,"src":"/static/90a2aa5953a511a05142d0b453a3e842/0defe/sage_assets_errors_reporting.jpg","srcSet":"/static/90a2aa5953a511a05142d0b453a3e842/38b6a/sage_assets_errors_reporting.jpg 150w,\n/static/90a2aa5953a511a05142d0b453a3e842/e201c/sage_assets_errors_reporting.jpg 300w,\n/static/90a2aa5953a511a05142d0b453a3e842/0defe/sage_assets_errors_reporting.jpg 600w,\n/static/90a2aa5953a511a05142d0b453a3e842/a71f1/sage_assets_errors_reporting.jpg 900w,\n/static/90a2aa5953a511a05142d0b453a3e842/9f6c3/sage_assets_errors_reporting.jpg 1200w,\n/static/90a2aa5953a511a05142d0b453a3e842/e95fb/sage_assets_errors_reporting.jpg 1280w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"timeToRead":2,"excerpt":"If you are making larger Wordpress site at some point you will definitely come across custom rewrite rules configuration. The tools (plugins…","frontmatter":{"title":"Wordpress rewrite rules and pagination","slug":"wordpress-rewrite-rules","tags":["wordpress"],"date_created":"2017-07-15T15:13:43.000Z","date_updated":"2017-08-30T02:21:57.000Z","featured":false,"author":"jan","feature_image":null}}},{"node":{"timeToRead":1,"excerpt":"The most useful feature of the ACF Wordpress plugin is its PHP API. Unfortunately, it is not fully documented on the official page. Here are…","frontmatter":{"title":"ACF PHP API the missing docs","slug":"acf-php-api-the-missing-docs","tags":["wordpress","acf"],"date_created":"2017-04-27T12:05:05.000Z","date_updated":"2017-08-18T13:09:10.000Z","featured":false,"author":"jan","feature_image":null}}}]},"authors":{"edges":[{"node":{"id":"1","slug":"jan","name":"Jan Grzegorowski","bio":"Full-stack developer currently working with React / Java stack","website":"","location":"","profile_image":{"relativePath":"avatar/photo-mini.jpg","childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAa8+nhDphjnIF7Ah/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEiMf/aAAgBAQABBQK5mUB762lg1VGvG8Udif/EABcRAQEBAQAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8BAyHJ/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATUav//EABsQAQACAgMAAAAAAAAAAAAAAAECEgAQESAx/9oACAEBAAY/Agh64Wbx56u//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARECExgaGx/9oACAEBAAE/IRAL6t4R+NaJW948RDMDnzHpQyxFZP/aAAwDAQACAAMAAAAQD8A8/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/EGNZvP/EABYRAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxBJGE//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEDFRgcH/2gAIAQEAAT8Qfyh9bKr5wsWRAIpRh0prgVXZTPUxvgwCqwb+cGlgG6ILpxBXtz//2Q==","width":30,"height":30,"src":"/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg","srcSet":"/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg 1x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/74c3b/photo-mini.jpg 1.5x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 2x"}}},"profile_image_large":{"relativePath":"avatar/photo-mini.jpg","childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAa8+nhDphjnIF7Ah/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEiMf/aAAgBAQABBQK5mUB762lg1VGvG8Udif/EABcRAQEBAQAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8BAyHJ/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATUav//EABsQAQACAgMAAAAAAAAAAAAAAAECEgAQESAx/9oACAEBAAY/Agh64Wbx56u//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARECExgaGx/9oACAEBAAE/IRAL6t4R+NaJW948RDMDnzHpQyxFZP/aAAwDAQACAAMAAAAQD8A8/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/EGNZvP/EABYRAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxBJGE//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEDFRgcH/2gAIAQEAAT8Qfyh9bKr5wsWRAIpRh0prgVXZTPUxvgwCqwb+cGlgG6ILpxBXtz//2Q==","width":60,"height":60,"src":"/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg","srcSet":"/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 1x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/c5aad/photo-mini.jpg 1.5x"}}}}}]},"tags":{"edges":[{"node":{"id":"5b982ddf16b0a81519316f6c","name":"Wordpress","slug":"wordpress"}}]},"tagPosts":{"edges":[{"node":{"frontmatter":{"title":"Wordpress WMPL Post Type Switcher support","slug":"wordpress-wmpl-post-type-switcher-support","date_created":"2017-10-05T19:28:03.000Z","featured":false}}},{"node":{"frontmatter":{"title":"Wordpress Roots Sage 9 translations","slug":"wordpress-roots-sage-9-translations","date_created":"2017-08-31T00:57:15.000Z","featured":false}}},{"node":{"frontmatter":{"title":"Roots Sage 9.0.0 - error Command failed with exit code 2","slug":"wordpress-roots-sage-9-0-0","date_created":"2017-08-24T01:53:35.000Z","featured":false}}},{"node":{"frontmatter":{"title":"Wordpress rewrite rules and pagination","slug":"wordpress-rewrite-rules","date_created":"2017-07-15T15:13:43.000Z","featured":false}}}],"totalCount":9}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"wordpress-http-error-when-uploading-photo","tags":["wordpress"],"author":"jan","mainTag":"wordpress","prev":{"frontmatter":{"slug":"how-to-get-list-of-all-acf-fields","tags":["wordpress","acf"],"author":"jan"}},"next":{"frontmatter":{"slug":"rails-5-with-pdf-js","tags":["rails","ruby"],"author":"jan"}}}}}