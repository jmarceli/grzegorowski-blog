{"componentChunkName":"component---gatsby-ghost-theme-src-templates-post-js","path":"/rails-number_to_currency-change-locale-defaults/amp/","webpackCompilationHash":"b50c9ba01a05d4675850","result":{"data":{"post":{"html":"<p>ActiveSupport <code class=\"language-text\">number_to_currency</code> helper method may be extremely useful if you deal with prices/wages inside your app. By default <code class=\"language-text\">number_to_currency</code> uses your current locale default settings which are OK in most cases but sometimes you may want to change them.</p>\n<p>In my case, I have to always display trailing zeros for each price. By default <code class=\"language-text\">number_to_currency</code> doesn't display them at least for a locale which I was using.</p>\n<p>I found an option called <code class=\"language-text\">strip_insignificant_zeros</code>, which is/was <strong>not documented</strong> in the official <code class=\"language-text\">number_to_currency</code> <a href=\"http://api.rubyonrails.org/classes/ActionView/Helpers/NumberHelper.html\">docs</a>. Setting it to <code class=\"language-text\">true</code> for each <code class=\"language-text\">number_to_currency</code> execution seems like a bad idea (not DRY at all).</p>\n<p>Fortunately, you may define global locale default options inside your e.g. <strong>config/locales/en.yml</strong> like so:</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">en</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">number</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">currency</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">format</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">strip_insignificant_zeros</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>The same format might be used for other <code class=\"language-text\">number_to_currency</code> options e.g.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-yaml line-numbers\"><code class=\"language-yaml\"><span class=\"token key atrule\">en</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">number</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">currency</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">format</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">delimiter</span><span class=\"token punctuation\">:</span> <span class=\"token string\">' '</span>\n        <span class=\"token key atrule\">format</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'%n %u'</span>\n        <span class=\"token key atrule\">precision</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span>\n        <span class=\"token key atrule\">separator</span><span class=\"token punctuation\">:</span> <span class=\"token string\">','</span>\n        <span class=\"token key atrule\">strip_insignificant_zeros</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n        <span class=\"token key atrule\">unit</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'PLN'</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>One more hint about <code class=\"language-text\">number_to_currency</code> usage is using:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-ruby line-numbers\"><code class=\"language-ruby\"><span class=\"token constant\">ActiveSupport</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span><span class=\"token constant\">NumberHelper</span><span class=\"token punctuation\">.</span>number_to_currency<span class=\"token punctuation\">(</span><span class=\"token number\">123.12</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>if you need to use it outside the View.</p>\n<p>Some other places where people talk about this:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/23781427/activeadmin-number-to-currency-helper\">https://stackoverflow.com/questions/23781427/activeadmin-number-to-currency-helper</a></li>\n<li><a href=\"https://apidock.com/rails/ActionView/Helpers/NumberHelper/number_to_currency\">https://apidock.com/rails/ActionView/Helpers/NumberHelper/number<em>to</em>currency</a></li>\n<li><a href=\"https://stackoverflow.com/questions/7237592/number-to-currency-locale-converting\">https://stackoverflow.com/questions/7237592/number-to-currency-locale-converting</a></li>\n</ul>","excerpt":"ActiveSupport  helper method may be extremely useful if you deal with prices/wages inside your app. By default  uses your current localeâ€¦","timeToRead":1,"frontmatter":{"author":"jan","feature_image":null,"title":"Rails number_to_currency change locale defaults","slug":"rails-number_to_currency-change-locale-defaults","tags":[],"date_created":"2017-04-22T00:09:25.000Z","date_updated":"2018-01-15T23:54:45.000Z","featured":false}},"similarPosts":{"edges":[]},"authors":{"edges":[{"node":{"id":"1","slug":"jan","name":"Jan Grzegorowski","bio":"Full-stack developer currently working with React / Java stack","website":"","location":"","profile_image":{"relativePath":"avatar/photo-mini.jpg","childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAa8+nhDphjnIF7Ah/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEiMf/aAAgBAQABBQK5mUB762lg1VGvG8Udif/EABcRAQEBAQAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8BAyHJ/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATUav//EABsQAQACAgMAAAAAAAAAAAAAAAECEgAQESAx/9oACAEBAAY/Agh64Wbx56u//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARECExgaGx/9oACAEBAAE/IRAL6t4R+NaJW948RDMDnzHpQyxFZP/aAAwDAQACAAMAAAAQD8A8/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/EGNZvP/EABYRAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxBJGE//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEDFRgcH/2gAIAQEAAT8Qfyh9bKr5wsWRAIpRh0prgVXZTPUxvgwCqwb+cGlgG6ILpxBXtz//2Q==","width":30,"height":30,"src":"/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg","srcSet":"/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg 1x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/74c3b/photo-mini.jpg 1.5x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 2x"}}},"profile_image_large":{"relativePath":"avatar/photo-mini.jpg","childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAa8+nhDphjnIF7Ah/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEiMf/aAAgBAQABBQK5mUB762lg1VGvG8Udif/EABcRAQEBAQAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8BAyHJ/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATUav//EABsQAQACAgMAAAAAAAAAAAAAAAECEgAQESAx/9oACAEBAAY/Agh64Wbx56u//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARECExgaGx/9oACAEBAAE/IRAL6t4R+NaJW948RDMDnzHpQyxFZP/aAAwDAQACAAMAAAAQD8A8/8QAFhEBAQEAAAAAAAAAAAAAAAAAARAx/9oACAEDAQE/EGNZvP/EABYRAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxBJGE//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAhEDFRgcH/2gAIAQEAAT8Qfyh9bKr5wsWRAIpRh0prgVXZTPUxvgwCqwb+cGlgG6ILpxBXtz//2Q==","width":60,"height":60,"src":"/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg","srcSet":"/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 1x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/c5aad/photo-mini.jpg 1.5x"}}}}}]},"tags":{"edges":[]},"tagPosts":{"edges":[],"totalCount":0}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"rails-number_to_currency-change-locale-defaults","tags":[],"author":"jan","mainTag":"","prev":{"frontmatter":{"slug":"acf-php-api-the-missing-docs","tags":["wordpress","acf"],"author":"jan"}},"next":{"frontmatter":{"slug":"how-to-get-list-of-all-acf-fields","tags":["wordpress","acf"],"author":"jan"}},"isAmp":true}}}