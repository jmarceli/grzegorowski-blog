{"componentChunkName":"component---gatsby-ghost-theme-src-templates-post-js","path":"/custom-jest-transformer/amp/","result":{"data":{"post":{"html":"<p>Sometimes you may need a custom Jest transformer.\nIn my case this was a CSV transformer which was needed to test tabular data provided to the frontend application through the <a href=\"https://www.npmjs.com/package/csv-loader\">Webpack csv-loader</a> and imported CSV file.</p>\n<h2>Problem</h2>\n<p>When you try to test a component which uses CSV import handled by <strong>csv-loader</strong> plugin you will find out that this is not as straight forward as you expect.\nWhile Jest is a very well documented I didn't find any example of a simple custom transformer which is necessary to handle CSV imports in tested code.</p>\n<h2>Example</h2>\n<p>This is an application which just loads some CSV file through a <strong>csv-loader</strong> Webpack plugin and <strong>papaparse</strong> CSV parsing library.\nI won't include all the commands and files because final example project is published on the Github <a href=\"https://github.com/jmarceli/custom-jest-transformer\">https://github.com/jmarceli/custom-jest-transformer</a>.\nLets focus on the most \"interesting\" parts of this project.\nA Webpack configuration file:</p>\n<p><strong>webpack.config.js</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> webpack <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"webpack\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  entry<span class=\"token operator\">:</span> <span class=\"token string\">\"./src/index.js\"</span><span class=\"token punctuation\">,</span>\n  output<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    path<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"dist\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    filename<span class=\"token operator\">:</span> <span class=\"token string\">\"bundle.js\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  module<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    rules<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        test<span class=\"token operator\">:</span> <span class=\"token regex\">/\\.csv$/</span><span class=\"token punctuation\">,</span>\n        loader<span class=\"token operator\">:</span> <span class=\"token string\">\"csv-loader\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> config<span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Then <code class=\"language-text\">src/</code> directory with three simple files:</p>\n<p><strong>src/data.js</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> input <span class=\"token keyword\">from</span> <span class=\"token string\">\"./input.csv\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// A silly function which appends given number to every input cell</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> input<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">row</span> <span class=\"token operator\">=></span> Object<span class=\"token punctuation\">.</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">value</span> <span class=\"token operator\">=></span> value <span class=\"token operator\">+</span> number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><strong>src/index.js</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> data <span class=\"token keyword\">from</span> <span class=\"token string\">\"./data\"</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"CSV data\"</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>and</p>\n<p><strong>src/input.csv</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"csv\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-csv line-numbers\"><code class=\"language-csv\">col1, col2, col3\n1, 2, 3\n11, 12, 13\n21, 22, 23</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>Now we should be able to run <code class=\"language-text\">webpack -d --mode development</code> and <code class=\"language-text\">node dist/bundle.js</code>.\nThat's fine for a start but a the end we want to use Jest to test our <code class=\"language-text\">src/data.js</code> file.\nLet say that we want to run this extremely simple and naive test:</p>\n<p><strong>data.test.js</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> data <span class=\"token keyword\">from</span> <span class=\"token string\">\"./data\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"data\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"adds 1 to every field\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toEqual</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">[</span><span class=\"token string\">\"col11\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"col21\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"col31\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">[</span><span class=\"token string\">\"11\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"21\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"31\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">[</span><span class=\"token string\">\"111\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"121\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"131\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">[</span><span class=\"token string\">\"211\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"221\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"231\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>\"Of course\" it is failing with the following message:</p>\n<blockquote>\n<p>ReferenceError: col1 is not defined</p>\n</blockquote>\n<p>This happens because Jest is unable to process our CSV import statement.\n<code class=\"language-text\">import input from &quot;./input.csv&quot;;</code> line is working perfectly fine when we run code through the Webpack because of <strong>csv-loader</strong> conversion but Jest doesn't run tests through the Webpack and doesn't know what <strong>csv-loader</strong> is.</p>\n<p>Say hello to the custom Jest transformers! (transformer is more or less Jest name for a Webpack loader)</p>\n<p>But wait, is there any documentation, example or some starting point?</p>\n<p>I would suggest starting with <a href=\"https://jestjs.io/docs/en/configuration.html#transform-object-string-pathtotransformer-pathtotransformer-object\">https://jestjs.io/docs/en/configuration.html#transform-object-string-pathtotransformer-pathtotransformer-object</a></p>\n<p>Now when everything is unclear and you are missing some simple example here it is:</p>\n<p><strong>jest-csv-transformer.js</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token string\">\"use strict\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Papa <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"papaparse\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> transform <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"@babel/core\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> jestPreset <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"babel-preset-jest\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">process</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fileContent</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"module.exports = \"</span> <span class=\"token operator\">+</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>Papa<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>fileContent<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\";\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>As you can see (or not) the <strong>process(fileContent, filePath)</strong> function exported from the transformer file accepts two arguments:</p>\n<ul>\n<li><strong>fileContent</strong> - content of a transformed file (plain text)</li>\n<li><strong>filePath</strong> - path to the transformed file (also a plain text, not used in this example)</li>\n</ul>\n<p>Those two parameters should be enough to write a reasonably functional transformer.</p>\n<p>What is very important is that your transformer should return a string which will be possible to understand by Javascript engine (NodeJS in this case).\nFor example if you provide an empty CSV file this transformer will return an empty array:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>Finally you will have to create/update your Jest configuration.\nIf you choose to setup Jest inside <strong>package.json</strong> just add a <strong>transform</strong> key to your <strong>jest</strong> configuration object:</p>\n<p><strong>package.json</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"...\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"...\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"jest\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"transform\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"^.+\\\\.csv$\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./jest-csv-transformer.js\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"^.+\\\\.[t|j]sx?$\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"babel-jest\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>As you can see in order to set a proper transformer for CSV files you will also have to restore a transformer for JS/TS files.\nBy default those files are transformed with <strong>babel-jest</strong> but because our configuration has to override entire <strong>transform</strong> key you will also have to redefine this mapping (and install appropriate packages: <strong>babel-jest</strong>, <strong>@babel/core</strong>).</p>\n<p>That's all. Your Jest CSV transformer is ready.\nFeel free to use <a href=\"https://github.com/jmarceli/custom-jest-transformer\">https://github.com/jmarceli/custom-jest-transformer</a> repository as an example.</p>\n<h2>Debugging</h2>\n<p>When you try to write your own Jest transformer use <code class=\"language-text\">npx jest --clearCache</code> for clearing transformer cache and <code class=\"language-text\">npx jest --no-cache</code> to run tests and transformers without Jest caching.\nThis is really important because by default Jest will cache all transformers and you won't be able to see results of your modifications to the developed transformer.</p>\n<h2>Sources</h2>\n<ul>\n<li>Official Jest docs - <a href=\"https://jestjs.io/docs/en/configuration.html#transform-object-string-pathtotransformer-pathtotransformer-object\">https://jestjs.io/docs/en/configuration.html#transform-object-string-pathtotransformer-pathtotransformer-object</a></li>\n<li>Example repository - <a href=\"https://github.com/jmarceli/custom-jest-transformer\">https://github.com/jmarceli/custom-jest-transformer</a></li>\n<li>Official babel-jest docs - <a href=\"https://www.npmjs.com/package/babel-jest\">https://www.npmjs.com/package/babel-jest</a></li>\n<li>Another example - <a href=\"https://github.com/keplersj/jest-raw-loader/blob/master/index.js\">https://github.com/keplersj/jest-raw-loader/blob/master/index.js</a></li>\n<li>Webpack base config - <a href=\"https://createapp.dev/webpack\">https://createapp.dev/webpack</a></li>\n</ul>","excerpt":"Sometimes you may need a custom Jest transformer.\nIn my case this was a CSV transformer which was needed to test tabular data provided to…","timeToRead":4,"frontmatter":{"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/blog/content/posts/img/arseny-togulev-liAwyJ64wHE-unsplash.jpg","relativePath":"posts/img/arseny-togulev-liAwyJ64wHE-unsplash.jpg","publicURL":"/static/arseny-togulev-liAwyJ64wHE-unsplash-6ed0265581bba2ac8e41569e3f0828e1.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFAf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAGwvs2nyGH/xAAaEAEAAwADAAAAAAAAAAAAAAACAAEDEhMh/9oACAEBAAEFAkqFdtuLUmaenNXR3S5//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAGxAAAgMAAwAAAAAAAAAAAAAAAAECEUExUXH/2gAIAQEABj8CtlKLS7EnIXqJVpzh/8QAGhABAQEBAAMAAAAAAAAAAAAAAREAQVFh8P/aAAgBAQABPyH3EmpQi1cfGdAGdzavp1cShcYRZ//aAAwDAQACAAMAAAAQi9//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxBH/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQBB/9oACAECAQE/EA2W/8QAGxABAAMBAAMAAAAAAAAAAAAAAQARITFBUWH/2gAIAQEAAT8Q3fSAHVeEKyoZKIFJiotglVLtPhnqBINUdhvSr3fLP//Z","aspectRatio":1.778175313059034,"src":"/static/6ed0265581bba2ac8e41569e3f0828e1/d8255/arseny-togulev-liAwyJ64wHE-unsplash.jpg","srcSet":"/static/6ed0265581bba2ac8e41569e3f0828e1/9104c/arseny-togulev-liAwyJ64wHE-unsplash.jpg 480w,\n/static/6ed0265581bba2ac8e41569e3f0828e1/a6352/arseny-togulev-liAwyJ64wHE-unsplash.jpg 960w,\n/static/6ed0265581bba2ac8e41569e3f0828e1/d8255/arseny-togulev-liAwyJ64wHE-unsplash.jpg 1920w,\n/static/6ed0265581bba2ac8e41569e3f0828e1/af56c/arseny-togulev-liAwyJ64wHE-unsplash.jpg 2880w,\n/static/6ed0265581bba2ac8e41569e3f0828e1/27fce/arseny-togulev-liAwyJ64wHE-unsplash.jpg 3840w,\n/static/6ed0265581bba2ac8e41569e3f0828e1/f2689/arseny-togulev-liAwyJ64wHE-unsplash.jpg 7952w","sizes":"(max-width: 1920px) 100vw, 1920px"},"sizes":{"presentationHeight":450,"presentationWidth":800}}},"title":"Custom Jest transformer CSV example","slug":"custom-jest-transformer","tags":["javascript","webpack"],"date_created":"2019-09-04T18:28:50.000Z","date_updated":"2019-09-04T18:28:50.000Z","featured":false}},"similarPosts":{"edges":[{"node":{"timeToRead":3,"excerpt":"While developing or using NPM package registry you may come across  command or multiple dist tags available for one package e.g. next tag…","frontmatter":{"title":"What are NPM dist tags and how to use them","slug":"what-are-npm-dist-tags-how-to-use-them","tags":["javascript","frontend"],"date_created":"2020-02-22T12:20:44.000Z","date_updated":null,"featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/blog/content/posts/img/jez-timms-aw4ctKdmC7k-unsplash.jpg","relativePath":"posts/img/jez-timms-aw4ctKdmC7k-unsplash.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAQBAgP/xAAVAQEBAAAAAAAAAAAAAAAAAAAAA//aAAwDAQACEAMQAAABV2tM6IjQf//EABoQAAIDAQEAAAAAAAAAAAAAAAECAAMSExH/2gAIAQEAAQUC8L2mgZ5TPNnYtNT/xAAWEQEBAQAAAAAAAAAAAAAAAAAAEQH/2gAIAQMBAT8BiY//xAAWEQEBAQAAAAAAAAAAAAAAAAAAEQH/2gAIAQIBAT8Bq6//xAAaEAACAwEBAAAAAAAAAAAAAAAAAREhMQIy/9oACAEBAAY/AmoHZ6J5em0Yf//EABwQAAMAAQUAAAAAAAAAAAAAAAABETEhQVFhcf/aAAgBAQABPyGQoll9CnFVr2FWrRFVtyGUfgLIf//aAAwDAQACAAMAAAAQW/8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAABFh/9oACAEDAQE/ELrJ/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQIBAT8Qkv/EABwQAQACAgMBAAAAAAAAAAAAAAEAESExUWFxQf/aAAgBAQABPxAYJKBo1FKiYFSq12ewzkLoLhQhahLHPEGfE1xkgWUNPXHk/9k=","aspectRatio":2,"src":"/static/d7a6f5f49a012bcfc70209613c7ee4a0/d9b4d/jez-timms-aw4ctKdmC7k-unsplash.jpg","srcSet":"/static/d7a6f5f49a012bcfc70209613c7ee4a0/ec592/jez-timms-aw4ctKdmC7k-unsplash.jpg 150w,\n/static/d7a6f5f49a012bcfc70209613c7ee4a0/8e044/jez-timms-aw4ctKdmC7k-unsplash.jpg 300w,\n/static/d7a6f5f49a012bcfc70209613c7ee4a0/d9b4d/jez-timms-aw4ctKdmC7k-unsplash.jpg 600w,\n/static/d7a6f5f49a012bcfc70209613c7ee4a0/bce72/jez-timms-aw4ctKdmC7k-unsplash.jpg 900w,\n/static/d7a6f5f49a012bcfc70209613c7ee4a0/2a43b/jez-timms-aw4ctKdmC7k-unsplash.jpg 1200w,\n/static/d7a6f5f49a012bcfc70209613c7ee4a0/fed69/jez-timms-aw4ctKdmC7k-unsplash.jpg 4889w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"timeToRead":4,"excerpt":"While generally everything is extremely easy using Jest,\nmocking global variables is one thing which is left up to developer.\nYou can…","frontmatter":{"title":"How to mock global window variables with Jest","slug":"how-to-mock-global-window-with-jest","tags":["javascript","frontend"],"date_created":"2020-01-12T14:00:00.000Z","date_updated":null,"featured":null,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/blog/content/posts/img/photo-of-clear-glass-measuring-cup-lot-1366942.jpg","relativePath":"posts/img/photo-of-clear-glass-measuring-cup-lot-1366942.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAECAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHlzixkh//EABoQAAICAwAAAAAAAAAAAAAAAAABAhESISL/2gAIAQEAAQUCXSUTEsT1Z//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABoQAAICAwAAAAAAAAAAAAAAAAABEBESMUH/2gAIAQEABj8Cxvo1ZuHH/8QAGhABAQACAwAAAAAAAAAAAAAAAQARMSFBYf/aAAgBAQABPyEdYosuwGp5wYznpZ3/2gAMAwEAAgADAAAAEJMP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxAAAgMAAwAAAAAAAAAAAAAAAREAITFBcYH/2gAIAQEAAT8QA9RRVYY+8C0wlwALAdcwAI0GJXUv2WHuf//Z","aspectRatio":2,"src":"/static/cccb96221f021f1d9497ff8f828021bc/d9b4d/photo-of-clear-glass-measuring-cup-lot-1366942.jpg","srcSet":"/static/cccb96221f021f1d9497ff8f828021bc/ec592/photo-of-clear-glass-measuring-cup-lot-1366942.jpg 150w,\n/static/cccb96221f021f1d9497ff8f828021bc/8e044/photo-of-clear-glass-measuring-cup-lot-1366942.jpg 300w,\n/static/cccb96221f021f1d9497ff8f828021bc/d9b4d/photo-of-clear-glass-measuring-cup-lot-1366942.jpg 600w,\n/static/cccb96221f021f1d9497ff8f828021bc/bce72/photo-of-clear-glass-measuring-cup-lot-1366942.jpg 900w,\n/static/cccb96221f021f1d9497ff8f828021bc/2a43b/photo-of-clear-glass-measuring-cup-lot-1366942.jpg 1200w,\n/static/cccb96221f021f1d9497ff8f828021bc/59011/photo-of-clear-glass-measuring-cup-lot-1366942.jpg 1920w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"timeToRead":3,"excerpt":"Opening a link in a new window/tab is not a big deal when working with a regular single page application rendered inside browser.\nUsually…","frontmatter":{"title":"Electron opening link in a new window","slug":"electron-open-in-new-window","tags":["javascript"],"date_created":"2019-05-11T18:28:50.000Z","date_updated":"2019-05-11T18:28:50.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/blog/content/posts/img/raphael-biscaldi-5PEy9UraJ5c-unsplash.jpg","relativePath":"posts/img/raphael-biscaldi-5PEy9UraJ5c-unsplash.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAQFAQP/xAAWAQEBAQAAAAAAAAAAAAAAAAADAQL/2gAMAwEAAhADEAAAAX15tFDw4mp//8QAGhABAAMAAwAAAAAAAAAAAAAAAgEDEQASE//aAAgBAQABBQKOpNhFvFbAlqfZg7kZ/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BV//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/AUf/xAAdEAACAgEFAAAAAAAAAAAAAAAAEQECITEyUWHw/9oACAEBAAY/AnJW1/QLd2RV4wJcGh//xAAaEAEBAQEBAQEAAAAAAAAAAAABEQAhMVFh/9oACAEBAAE/IXVgfc8olgXPFeOBm7xvxn0MGMIFFfzf/9oADAMBAAIAAwAAABBs3//EABYRAQEBAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxAwj//EABYRAQEBAAAAAAAAAAAAAAAAAAEAIf/aAAgBAgEBPxB1YV//xAAcEAEAAgIDAQAAAAAAAAAAAAABETEAIUFhcYH/2gAIAQEAAT8QgAdrjBkkQxRSy9rHmEHACwHE6vzGu0hnplxkmsEqb+arGTQlUXn/2Q==","aspectRatio":2,"src":"/static/f7e54c1c7d67dce4876ba96c69e33fdf/d9b4d/raphael-biscaldi-5PEy9UraJ5c-unsplash.jpg","srcSet":"/static/f7e54c1c7d67dce4876ba96c69e33fdf/ec592/raphael-biscaldi-5PEy9UraJ5c-unsplash.jpg 150w,\n/static/f7e54c1c7d67dce4876ba96c69e33fdf/8e044/raphael-biscaldi-5PEy9UraJ5c-unsplash.jpg 300w,\n/static/f7e54c1c7d67dce4876ba96c69e33fdf/d9b4d/raphael-biscaldi-5PEy9UraJ5c-unsplash.jpg 600w,\n/static/f7e54c1c7d67dce4876ba96c69e33fdf/bce72/raphael-biscaldi-5PEy9UraJ5c-unsplash.jpg 900w,\n/static/f7e54c1c7d67dce4876ba96c69e33fdf/2a43b/raphael-biscaldi-5PEy9UraJ5c-unsplash.jpg 1200w,\n/static/f7e54c1c7d67dce4876ba96c69e33fdf/de430/raphael-biscaldi-5PEy9UraJ5c-unsplash.jpg 3024w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"timeToRead":3,"excerpt":"How to bind handlers in React to multiple similar elements e.g. buttons on list?\nIs it any better to use one handler and identify clicked…","frontmatter":{"title":"React multiple event handlers performance","slug":"react-multiple-event-handlers","tags":["react","javascript","frontend"],"date_created":"2019-03-09T19:49:23.000Z","date_updated":"2019-07-13T22:58:17.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/blog/content/posts/img/photo-1514388479888-50b7cef280ed.jpg","relativePath":"posts/img/photo-1514388479888-50b7cef280ed.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBf/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/9oADAMBAAIQAxAAAAHiJYyD/8QAFxABAQEBAAAAAAAAAAAAAAAAABIBEf/aAAgBAQABBQKEuK1euv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABUQAQEAAAAAAAAAAAAAAAAAABAx/9oACAEBAAY/Amv/xAAZEAEBAQADAAAAAAAAAAAAAAABABEhUWH/2gAIAQEAAT8hHbnEHOz2Xxil/9oADAMBAAIAAwAAABCIP//EABcRAQEBAQAAAAAAAAAAAAAAAAEAURH/2gAIAQMBAT8QDW4bf//EABcRAQADAAAAAAAAAAAAAAAAAAABESH/2gAIAQIBAT8QuWv/xAAgEAEAAgIBBAMAAAAAAAAAAAABABEhMUFRYYGRodHw/9oACAEBAAE/EEm94KNxK7cfvs9y1SwarJ0c82xd0crylfHEo6Bmnfef/9k=","aspectRatio":2,"src":"/static/aad908a40e560a85f4e88a73b25c43dc/d9b4d/photo-1514388479888-50b7cef280ed.jpg","srcSet":"/static/aad908a40e560a85f4e88a73b25c43dc/ec592/photo-1514388479888-50b7cef280ed.jpg 150w,\n/static/aad908a40e560a85f4e88a73b25c43dc/8e044/photo-1514388479888-50b7cef280ed.jpg 300w,\n/static/aad908a40e560a85f4e88a73b25c43dc/d9b4d/photo-1514388479888-50b7cef280ed.jpg 600w,\n/static/aad908a40e560a85f4e88a73b25c43dc/bce72/photo-1514388479888-50b7cef280ed.jpg 900w,\n/static/aad908a40e560a85f4e88a73b25c43dc/f01c1/photo-1514388479888-50b7cef280ed.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}},{"node":{"timeToRead":2,"excerpt":"Can I use the  property with React.PureComponent, or do I have to use only custom properties? TLDR; You can use  with React.PureComponent as…","frontmatter":{"title":"React.PureComponent - children vs custom properties","slug":"react-purecomponent-children-vs-custom-properties","tags":["react","javascript","frontend"],"date_created":"2019-02-27T14:11:00.000Z","date_updated":"2019-02-23T13:04:06.000Z","featured":false,"author":"jan","feature_image":{"absolutePath":"/Users/janek/work/github_contrib/grzegorowski.com/blog/content/posts/img/photo-1503847752244-32e931070a43.jpg","relativePath":"posts/img/photo-1503847752244-32e931070a43.jpg","childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMCBAX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAQID/9oADAMBAAIQAxAAAAGi3NgaOEDj/8QAGhAAAgMBAQAAAAAAAAAAAAAAAQIAAxEQEv/aAAgBAQABBQJa9hrCguJ7abvP/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAEDAQE/Abiv/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEB/9oACAECAQE/Abqv/8QAGBAAAgMAAAAAAAAAAAAAAAAAADEBECH/2gAIAQEABj8CNkQ7/8QAGxAAAwACAwAAAAAAAAAAAAAAAAERECExQWH/2gAIAQEAAT8h7BYISlpTpj2Dbk28f//aAAwDAQACAAMAAAAQKw//xAAXEQADAQAAAAAAAAAAAAAAAAAAARFB/9oACAEDAQE/EHmij//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EBT/xAAdEAEAAQQDAQAAAAAAAAAAAAABIQARMVEQQWFx/9oACAEBAAE/EHREMTTUhej4bcR7WSptirYgV28NdVm2/H//2Q==","aspectRatio":2,"src":"/static/b1dc252aafcc5edeb969febda63fd7b3/d9b4d/photo-1503847752244-32e931070a43.jpg","srcSet":"/static/b1dc252aafcc5edeb969febda63fd7b3/ec592/photo-1503847752244-32e931070a43.jpg 150w,\n/static/b1dc252aafcc5edeb969febda63fd7b3/8e044/photo-1503847752244-32e931070a43.jpg 300w,\n/static/b1dc252aafcc5edeb969febda63fd7b3/d9b4d/photo-1503847752244-32e931070a43.jpg 600w,\n/static/b1dc252aafcc5edeb969febda63fd7b3/bce72/photo-1503847752244-32e931070a43.jpg 900w,\n/static/b1dc252aafcc5edeb969febda63fd7b3/f01c1/photo-1503847752244-32e931070a43.jpg 1080w","sizes":"(max-width: 600px) 100vw, 600px"}}}}}}]},"authors":{"edges":[{"node":{"id":"1","slug":"jan","name":"Jan Grzegorowski","bio":"Full-stack developer currently working with React / Java stack","website":"","location":"","profile_image":{"relativePath":"avatar/photo-mini.jpg","childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAa8+nhDphjnIF7Ah/8QAGhABAAMBAQEAAAAAAAAAAAAAAgABAxEiMf/aAAgBAQABBQLZI1T3zU0rpFdcXw17n//EABcRAQEBAQAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8BAyHJ/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATUav//EABsQAQACAgMAAAAAAAAAAAAAAAECEgAQESAx/9oACAEBAAY/Agh64Wbx56u//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARECExgaGx/9oACAEBAAE/IRAL6t4R+NaJW948RBMDnzHpQyxBsn//2gAMAwEAAgADAAAAED/AfP/EABcRAAMBAAAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8QMsrdf//EABYRAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxBJGE//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAxECFRgcH/2gAIAQEAAT8Qfyh62Kr51hYtTAilGGl1wKr2dp6mJ8GAVsHfzg0nWAToxd4wrtz/2Q==","width":30,"height":30,"src":"/static/2b64da00e4a3f2952c8d9e3a6b631208/58a4b/photo-mini.jpg","srcSet":"/static/2b64da00e4a3f2952c8d9e3a6b631208/58a4b/photo-mini.jpg 1x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/f8771/photo-mini.jpg 1.5x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/56ed0/photo-mini.jpg 2x"}}},"profile_image_large":{"relativePath":"avatar/photo-mini.jpg","childImageSharp":{"fixed":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAUEAv/EABQBAQAAAAAAAAAAAAAAAAAAAAL/2gAMAwEAAhADEAAAAa8+nhDphjnIF7Ah/8QAGhABAAMBAQEAAAAAAAAAAAAAAgABAxEiMf/aAAgBAQABBQLZI1T3zU0rpFdcXw17n//EABcRAQEBAQAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8BAyHJ/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAx/9oACAECAQE/ATUav//EABsQAQACAgMAAAAAAAAAAAAAAAECEgAQESAx/9oACAEBAAY/Agh64Wbx56u//8QAHBABAAIDAAMAAAAAAAAAAAAAAQARECExgaGx/9oACAEBAAE/IRAL6t4R+NaJW948RBMDnzHpQyxBsn//2gAMAwEAAgADAAAAED/AfP/EABcRAAMBAAAAAAAAAAAAAAAAAAEQETH/2gAIAQMBAT8QMsrdf//EABYRAQEBAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPxBJGE//xAAcEAEBAAICAwAAAAAAAAAAAAABEQAxECFRgcH/2gAIAQEAAT8Qfyh62Kr51hYtTAilGGl1wKr2dp6mJ8GAVsHfzg0nWAToxd4wrtz/2Q==","width":60,"height":60,"src":"/static/2b64da00e4a3f2952c8d9e3a6b631208/56ed0/photo-mini.jpg","srcSet":"/static/2b64da00e4a3f2952c8d9e3a6b631208/56ed0/photo-mini.jpg 1x,\n/static/2b64da00e4a3f2952c8d9e3a6b631208/43396/photo-mini.jpg 1.5x"}}}}}]},"tags":{"edges":[{"node":{"id":"5b982ddf16b0a81519316f70","name":"Javascript","slug":"javascript"}},{"node":{"id":"5b982ddf16b0a81519316f7a","name":"Webpack","slug":"webpack"}}]},"tagPosts":{"edges":[{"node":{"frontmatter":{"title":"What are NPM dist tags and how to use them","slug":"what-are-npm-dist-tags-how-to-use-them","date_created":"2020-02-22T12:20:44.000Z","featured":false}}},{"node":{"frontmatter":{"title":"How to mock global window variables with Jest","slug":"how-to-mock-global-window-with-jest","date_created":"2020-01-12T14:00:00.000Z","featured":null}}},{"node":{"frontmatter":{"title":"Electron opening link in a new window","slug":"electron-open-in-new-window","date_created":"2019-05-11T18:28:50.000Z","featured":false}}},{"node":{"frontmatter":{"title":"React multiple event handlers performance","slug":"react-multiple-event-handlers","date_created":"2019-03-09T19:49:23.000Z","featured":false}}}],"totalCount":19}},"pageContext":{"slug":"custom-jest-transformer","tags":["javascript","webpack"],"author":"jan","mainTag":"javascript","prev":{"frontmatter":{"slug":"how-to-mock-global-window-with-jest","tags":["javascript","frontend"],"author":"jan"}},"next":{"frontmatter":{"slug":"secure-docker-grafana-container-with-ssl-through-traefik-proxy","tags":["docker","backend"],"author":"jan"}},"isAmp":true}}}