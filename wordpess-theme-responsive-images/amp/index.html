<!DOCTYPE html><html amp=""><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="preconnect" href="https://www.googletagmanager.com"/><script async="" src="https://cdn.ampproject.org/v0.js"></script><style amp-boilerplate="">body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate="">body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript><style amp-custom="">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:137.5%/1.6 'georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'georgia',serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif;font-weight:500;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;}ul{margin-left:1.6rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.6rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;font-size:0.85rem;line-height:1.6rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;font-size:1rem;line-height:1.6rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;}blockquote{margin-left:1.6rem;margin-right:1.6rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.6rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.6rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.6rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.6rem;margin-bottom:calc(1.6rem / 2);margin-top:calc(1.6rem / 2);}li > ul{margin-left:1.6rem;margin-bottom:calc(1.6rem / 2);margin-top:calc(1.6rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.6rem / 2);}code{font-size:0.85rem;line-height:1.6rem;}kbd{font-size:0.85rem;line-height:1.6rem;}samp{font-size:0.85rem;line-height:1.6rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.06667rem;padding-right:1.06667rem;padding-top:0.8rem;padding-bottom:calc(0.8rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}pre[class*=language-].line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}pre[class*=language-].line-numbers>code{position:relative;white-space:inherit}.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:0;font-size:100%;left:-3.8em;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{background:inherit}.gatsby-highlight-code-line:empty:after{content:" "}code[class*=language-],pre[class*=language-]{color:#5c6e74}pre[class*=language-]{background:#fff;border:1px solid #d1d5da;border-radius:3px}:not(pre)>code[class*=language-]{color:inherit;background:#f1f1f1;padding:2px 4px;margin:0 2px;font-size:.8rem;text-shadow:none}pre[class*=language-]{padding:0 6px}.line-numbers .line-numbers-rows{padding:6px 0 0 8px;border:1px solid transparent;line-height:1.5;background:#fcfcfc}@media (min-width:600px){.line-numbers .line-numbers-rows{padding:6px 0 0 12px}}pre[class*=language-].line-numbers{padding-left:32px;padding-right:18px}@media (min-width:600px){pre[class*=language-].line-numbers{padding-left:48px}}.line-numbers-rows>span:before{color:rgba(27,31,35,.3)}.gatsby-highlight-code-line{display:block;background-color:#fffbdd;margin-right:-10px;padding-right:10px;margin-left:-4px;padding-left:4px}[data-language]{padding:0;margin:0 0 1.666rem}code[class*=language-],pre[class*=language-]{display:inline-block;vertical-align:middle;overflow:scroll;max-width:100%;font-size:.6rem;-webkit-font-smoothing:antialiased}.gatsby-highlight pre[class*=language-]{display:block}.gatsby-highlight code[class*=language-]{display:block;padding:6px 0 20px}@media (min-width:600px){.gatsby-highlight code[class*=language-]{padding:6px 0}}*{box-sizing:border-box}body{color:#111;-webkit-font-smoothing:antialiased;min-width:360px}a{color:inherit;text-decoration:none}html{font-size:100%}@media (min-width:600px){html{font-size:112.5%}}@media (min-width:900px){html{font-size:120%}}@media (min-width:1040px){html{font-size:120%}}html[amp] .gatsby-resp-image-wrapper{left:-8px}#disqus_thread{width:95%;margin:auto}
/* sc-component-id: styles__Wrapper-n5upcq-0 */
.ZQchY{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin:24px 0 16px;} @media (min-width:600px){.ZQchY{margin:48px 0 24px;}}
/* sc-component-id: styles__Container-n5upcq-1 */
.gYslaw{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:-apple-system,"BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;color:#000;}
/* sc-component-id: styles__Photo-n5upcq-2 */
.kyaInQ{border-radius:50%;width:60px;height:60px;overflow:hidden;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}
/* sc-component-id: styles__Info-n5upcq-3 */
.crXwW{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;margin-left:12px;} @media (min-width:600px){.crXwW{margin-left:16px;}}
/* sc-component-id: styles__Name-n5upcq-4 */
.hNjtzh{font-weight:600;font-size:1.25rem;line-height:1.2;}
/* sc-component-id: styles__About-n5upcq-5 */
.bSJODi{padding:0;color:#666;margin-top:4px;font-size:0.8125rem;line-height:1.2;}
/* sc-component-id: styles__More-n5upcq-6 */
.LUBlX{color:#999;border-radius:20px;border:1px solid #999;padding:8px 16px;font-size:0.75rem;font-family:-apple-system,"BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;line-height:1.2;display:none;} @media (min-width:600px){.LUBlX{display:block;}} .LUBlX:hover{color:#3eb0ef;border-color:#3eb0ef;}
/* sc-component-id: styles__Wrapper-sc-1spuanr-0 */
.ljKOOf{text-transform:uppercase;font-family:-apple-system,"BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-size:0.75rem;color:#fff;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;height:50px;overflow:hidden;} .ljKOOf:hover{color:#ccc;}
/* sc-component-id: styles__Scroller-sc-1spuanr-1 */
.dIoKsH{box-sizing:content-box;height:100%;padding-bottom:40px;overflow:scroll;overflow-y:hidden;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: styles__Container-sc-1spuanr-2 */
.JFLdO{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:100%;}
/* sc-component-id: styles__List-sc-1spuanr-3 */
.gBgPZa{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:0;pading:0;list-style:none;white-space:nowrap;}
/* sc-component-id: styles__Item-sc-1spuanr-4 */
.iWCoqC{height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0;} .iWCoqC:last-child{padding-right:12px;} .iWCoqC:hover{color:#fff;}
/* sc-component-id: styles__Link-sc-1spuanr-5 */
.loRRQz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:12px;}
/* sc-component-id: styles__ExternalLink-sc-1spuanr-6 */
.juBybS{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:12px;}
/* sc-component-id: styles__Placeholder-sc-1x4v1ga-0 */
.bLwFiT{height:50px;}
/* sc-component-id: styles__Wrapper-sc-1x4v1ga-1 */
.ezKblj{position:absolute;top:0;z-index:1000;width:100%;background:#000;color:#fff;}
/* sc-component-id: styles__Container-sc-1x4v1ga-2 */
.VaewE{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;height:50px;margin:0 auto;max-width:1080px;}
/* sc-component-id: styles__Name-sc-1x4v1ga-3 */
.cokSQa{height:100%;padding:0 24px;max-width:50vw;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-family:-apple-system,"BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-size:0.875rem;font-weight:600;}
/* sc-component-id: styles__InnerName-sc-1x4v1ga-4 */
.eQLGZU{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}
/* sc-component-id: styles__MainMenu-sc-1x4v1ga-5 */
.bFwYzN{max-width:50vw;}
/* sc-component-id: styles__Wrapper-sc-1diyvya-0 */
.kfJjUJ{font-family:-apple-system,"BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-size:0.75rem;background:#000;color:#ccc;}
/* sc-component-id: styles__Container-sc-1diyvya-1 */
.hNGpJr{padding:18px 24px 36px;margin:0 auto;max-width:1080px;}
/* sc-component-id: styles__Name-sc-1diyvya-2 */
.klwlbE{padding:12px;margin:-12px 0 -12px -12px;}
/* sc-component-id: PageLayout__Wrapper-ttzf8e-0 */
.ivNXPs{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}
/* sc-component-id: PageLayout__Main-ttzf8e-1 */
.Xracc{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}
/* sc-component-id: Tile__Wrapper-k83soo-0 */
.iClmz{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 100%;-ms-flex:1 0 100%;flex:1 0 100%;width:100%;border-radius:5px;overflow:hidden;box-shadow:8px 14px 38px rgba(39,44,49,0.06),1px 3px 8px rgba(39,44,49,0.03);-webkit-transition:-webkit-transform 0.1s ease-in;-webkit-transition:transform 0.1s ease-in;transition:transform 0.1s ease-in;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);} .iClmz:hover{-webkit-transform:scale(1.01);-ms-transform:scale(1.01);transform:scale(1.01);}
/* sc-component-id: styles__Article-zl0bsg-0 */
.bEhqbx{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 100%;-ms-flex:1 0 100%;flex:1 0 100%;width:100%;}
/* sc-component-id: styles__Link-zl0bsg-1 */
.iXqmXg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 100%;-ms-flex:1 0 100%;flex:1 0 100%;width:100%;border:none;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;} @media (min-width:600px){.iXqmXg{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}
/* sc-component-id: styles__NoThumbnail-zl0bsg-3 */
.iHTvla{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:0 0 250px;-ms-flex:0 0 250px;flex:0 0 250px;background:#262626;} @media (min-width:600px){.iHTvla{-webkit-flex:0 0 250px;-ms-flex:0 0 250px;flex:0 0 250px;}}
/* sc-component-id: styles__Content-zl0bsg-4 */
.cYibTA{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;z-index:1;background:#fff;padding:20px;} @media (min-width:600px){.cYibTA{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}}
/* sc-component-id: styles__Tag-zl0bsg-5 */
.iaYraz{display:block;font-size:0.75rem;margin-bottom:6px;color:#666;text-transform:uppercase;}
/* sc-component-id: styles__Title-zl0bsg-6 */
.kASfVB{display:block;font-size:1.25rem;line-height:1.2;margin-bottom:0.6em;}
/* sc-component-id: styles__Excerpt-zl0bsg-7 */
.lbCqxU{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:block;font-size:0.7619rem;line-height:1.4;margin:0 0 18px;font-size:0.875rem;}
/* sc-component-id: styles__Footer-zl0bsg-8 */
.berEvg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;font-family:-apple-system,"BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-size:0.75rem;font-weight:500;text-transform:uppercase;color:#666;}
/* sc-component-id: styles__Author-zl0bsg-9 */
.gZqHrI{height:30px;width:30px;border-radius:50%;overflow:hidden;border:1px solid #eee;}
/* sc-component-id: styles__TimeToRead-zl0bsg-11 */
.KWfpA{font-family:-apple-system,"BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;font-size:0.75rem;font-weight:500;text-transform:uppercase;color:#666;}
/* sc-component-id: styles__Content-sc-1cwohrs-0 */
.jSNjRb{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 0 100%;-ms-flex:1 0 100%;flex:1 0 100%;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:36px 24px 24px;text-align:center;background:#000;color:#fff;font-family:-apple-system,"BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;}
/* sc-component-id: styles__TopLine-sc-1cwohrs-1 */
.chUfWh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}
/* sc-component-id: styles__SiteName-sc-1cwohrs-2 */
.cldIKF{margin:0 auto;font-weight:300;font-size:0.75rem;}
/* sc-component-id: styles__LinkTop-sc-1cwohrs-3 */
.buKDqR{display:block;margin:0 auto;padding:10px 12px;font-weight:300;}
/* sc-component-id: styles__Title-sc-1cwohrs-4 */
.ftbNbI{font-weight:300;font-size:1.375rem;}
/* sc-component-id: styles__List-sc-1cwohrs-5 */
.jGHblD{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:0;margin:24px auto 0;list-style:none;}
/* sc-component-id: styles__Item-sc-1cwohrs-6 */
.cMLhOG{margin:0;} .cMLhOG:last-child a{border-bottom:none;}
/* sc-component-id: styles__Link-sc-1cwohrs-7 */
.tYTWj{display:block;padding:20px 0;border-bottom:1px solid rgba(255,255,255,0.5);font-size:0.875rem;line-height:1.2;} .tYTWj:hover{-webkit-text-decoration:underline;text-decoration:underline;}
/* sc-component-id: styles__Wrapper-sc-177ejwt-0 */
.hMYwmg{background:#f4f8fb;}
/* sc-component-id: styles__Container-sc-177ejwt-1 */
.iNDMyc{display:block;margin:0 auto;max-width:1080px;}
/* sc-component-id: styles__List-sc-177ejwt-2 */
.dnkZyx{margin:0;padding:12px 0;list-style:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;} @media (min-width:600px){.dnkZyx{padding:12px;}}
/* sc-component-id: styles__Item-sc-177ejwt-3 */
.fRjnCq{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex:1 1 300px;-ms-flex:1 1 300px;flex:1 1 300px;max-width:600px;margin:12px 8px;} @media (min-width:600px){.fRjnCq{margin:12px;}}
/* sc-component-id: styles__Wrapper-sc-18g9haf-0 */
.hIduYZ{width:100%;}
/* sc-component-id: styles__Header-sc-18g9haf-1 */
.bZdjSS{font-size:1rem;background:#fff;text-align:center;z-index:100;width:100%;} @media (min-width:600px){.bZdjSS{position:absolute;top:50px;left:0;}}
/* sc-component-id: styles__HeaderContent-sc-18g9haf-2 */
.jiWzbw{margin:0 auto;max-width:1080px;padding:1em 8px 1em;}
/* sc-component-id: styles__DateCreated-sc-18g9haf-3 */
.kRABZN{color:#666;font-size:0.75rem;font-weight:600;font-family:-apple-system,"BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;text-transform:uppercase;}
/* sc-component-id: styles__Title-sc-18g9haf-4 */
.hHhrxG{text-align:center;margin:12px 0;font-weight:600;font-size:1.625rem;} @media (min-width:600px){.hHhrxG{font-size:2rem;}}
/* sc-component-id: styles__Subtitle-sc-18g9haf-5 */
.gUaCNj{color:#3eb0ef;font-size:0.875rem;font-weight:600;font-family:-apple-system,"BlinkMacSystemFont","Segoe UI","Roboto","Oxygen","Ubuntu","Cantarell","Fira Sans","Droid Sans","Helvetica Neue",sans-serif;text-transform:uppercase;}
/* sc-component-id: styles__Divider-sc-18g9haf-6 */
.dXLJRX{color:#333;margin:0 6px;}
/* sc-component-id: styles__TopImage-sc-18g9haf-11 */
.gfHRHM{width:100%;overflow:hidden;z-index:-1;background:#090a0b;} @media (min-width:600px){.gfHRHM{position:fixed;top:600px;left:0;margin-top:-600px;height:600px;}}
/* sc-component-id: styles__Main-sc-18g9haf-13 */
.eohSMh{position:relative;z-index:100;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:100%;background:#fff;} @media (min-width:600px){.eohSMh{margin-top:600px;}}
/* sc-component-id: styles__Container-sc-18g9haf-14 */
.rWBCC{position:relative;width:100%;max-width:1080px;margin:0px auto;background:#fff;padding:36px 8px 12px;} @media (min-width:600px){.rWBCC{margin:-150px auto 0;padding:36px 24px 12px;}} @media (min-width:900px){.rWBCC{padding:36px 48px 12px;}} @media (min-width:1040px){.rWBCC::before,.rWBCC::after{content:"";position:absolute;top:15px;z-index:-1;display:block;width:20px;height:200px;background:rgba(39,44,49,0.15);-webkit-filter:blur(5px);filter:blur(5px);}.rWBCC::before{left:-2px;-webkit-transform:rotate(-2deg);-ms-transform:rotate(-2deg);transform:rotate(-2deg);}.rWBCC::after{right:-2px;-webkit-transform:rotate(2deg);-ms-transform:rotate(2deg);transform:rotate(2deg);}}
/* sc-component-id: styles__Content-sc-18g9haf-15 */
.kBliJm a{border-bottom:1px solid #111;} .kBliJm a.gatsby-resp-image-link,.kBliJm .gatsby-resp-image-figure a{border-bottom:none;}
/* sc-component-id: styles__Comments-sc-18g9haf-16 */
.hGPWto{background:#fff;}
/* sc-component-id: styles__CommentsContainer-sc-18g9haf-17 */
.gEbTXz{max-width:1080px;margin:0 auto;padding:36px 8px 12px;} @media (min-width:600px){.gEbTXz{padding:36px 24px 12px;}} @media (min-width:900px){.gEbTXz{padding:36px 48px 12px;}}</style><link rel="apple-touch-icon" sizes="120x120" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-icon-120x120.png"/><title data-react-helmet="true">Wordpess theme responsive images</title><meta data-react-helmet="true" name="description" content="Ensuring good responsive images support in Wordpress can be a quite complicated task. When you try to provide dedicated image size for each…"/><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"type":"ImageObject","url":"https://grzegorowski.com/favicon.ico"}},"author":{"@type":"Person"},"headline":"Wordpess theme responsive images","description":"Ensuring good responsive images support in Wordpress can be a quite complicated task. When you try to provide dedicated image size for each…","datePublished":"2017-03-18T19:05:47.000Z","dateModified":"2017-03-28T19:07:15.000Z","keywords":"wordpress, wordpress-plugins","image":[{"@type":"ImageObject","url":"https://grzegorowski.com/posts/img/banner-772x250.png"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://grzegorowski.com/"},"articleBody":"Ensuring good responsive images support in Wordpress can be a quite complicated task. When you try to provide dedicated image size for each supported device your images directory will become far larger than the necessary minimum because of generating even unused images by the default `add_image_size()` function.\n\nThe solution of that problem wasn't an easy one, until now!\n\nThanks to the [Fly Dynamic Image Resizer](https://wordpress.org/plugins/fly-dynamic-image-resizer/) by [Junaid Bhura](http://www.junaidbhura.com/) there is now an option to generate only necessary image sizes \"on the fly\". You will never need to regenerate thumbnails again and what's more important WordPress `upload/` directory will stay as small as possible.\n\nFly Dynamic Image Resizer is, of course, a developer plugin so in order to use it your active theme **have to use** `fly_` prefixed functions instead of their `wp_` counterparts. Having said so it's not that hard to convert existing theme to use Fly Dynamic Image Resizer simple *find & replace* will be a helpful tool. The only thing you should take care about is checking the replaced functions results. Fly functions will produce slightly different results e.g. `fly_get_attachment_image_src` outputs an associative array with different keys than the default `wp_get_attachment_image_src`.\n\nOne of the biggest advantages of this plugin is a fact that it is available on Github https://github.com/junaidbhura/fly-dynamic-image-resizer, so you can fork it, report issues and get a quick response from the author.\n\n## Examples\n\n### Default Wordpress\n(probably) your theme configuration:\n```php\n<?php add_image_size('my-custom-size', array(200, 200); ?>\n```\ntemplate:\n```php\n<?php $image = wp_get_attachment_image_src($img_id, 'my-custom-size'); ?>\n<img src=\"<?= $image[0]; ?>\" width=\"<?= $image[1]; ?>\" height=\"<?= $image[2]; ?>\" />\n```\n\n### Wordpress with Fly Dynamic Image Resizer\nno need for any configuration/initialization!\ntemplate:\n\n```php\n<?php $image = wp_get_attachment_image_src($img_id, array(200, 200)); ?>\n<img src=\"<?= $image['src']; ?>\" width=\"<?= $image['width']; ?>\" height=\"<?= $image['height']; ?>\" />\n```\n\nIn case of `wp_get_attachment_image` there is also approperiate `fly_` helper function which will produce `<img>` tag:\n\n```php\n<?= fly_get_attachment_image( $img_id, array(200, 200) ); ?>\n```\n\nThese were just examples. I encourage you to read official documentation on Github (https://github.com/junaidbhura/fly-dynamic-image-resizer) which is really easy to use and provides a comprehensive description of all plugin capabilities.\n\n## .svg support\n\nFly Dynamic Image Resizer doesn't work with `.svg` images (so as the Wordpress without any plugins). If you would like to support them just check for the empty result and replace it with the default Wordpress functions providing `full` as the desired image size.\n\nHere is an example of my custom helper function which falls back to the default Wordpress `.svg` handling if image happens to be a `.svg`:\n\n```php\n/**\n * Gets a dynamically generated image URL from the Fly Images with SVG fallback.\n *\n * @param  integer  $attachment_id\n * @param  mixed    $size\n * @param  boolean  $crop\n * @return array\n */\nfunction get_image_src( $attachment_id = 0, $size = '', $crop = null ) {\n  $img = fly_get_attachment_image_src( $attachment_id, $size, $crop );\n\n  if ( !empty( $img ) ) {\n    return $img;\n  }\n\n  // Something went wrong (this might be a .svg image)\n  $img = wp_get_attachment_image_src( $attachment_id, 'full' );\n  if ( ! empty( $img ) ) {\n    return array(\n      'src' => $img[0],\n      'width' => $size[0],\n      'height' => $size[1],\n    );\n  }\n\n  // Totally wrong (there is no 'full' image)\n  return array();\n}\n```\n\nUse it exactly the same as the `fly_get_attachment_image_src` you will just get `svg` support. Here is an example:\n\n```php\n<?php $img = get_src($attachment_id, array(400, 300)); ?>\n<img src=\"<?= $img['src']; ?>\" alt=\"The .svg image\" />\n```\n\n## responsive background\nProviding good responsive background images (with various sizes) is complicated because it requires generating *CSS* code out of *PHP* (also there is no option to minify this or merge with the rest of your *CSS*). As far as I know there is no option to generate responsive background images in any other way. In order to ease this process I made a custom function (which is of course based on Fly Dynamic Image Resizer plugin):\n\n```php\n/**\n * Returns style string with media queries background-image for various screen sizes\n * @param string  $css_selector - Unique CSS selector for element with background image\n * @param array $sizes  - Array with media query and screen/image dimensions\n *  $sizes = [\n *    [\n *      'id' - (int) Attachment image ID\n *      'media' - (string) media query argument e.g. 'min-width'\n *      'w' - (int) image width\n *      'h' - (int) image height (default: 0)\n *      'crop' - (bool) crop image? (default: false)\n *    ], ...\n *  ]\n *  e.g.\n *  ```\n *  array(\n *    array('id' => 123, 'media' => 'min-width: 1280px', 'w' => 1280, 'h' => 600),\n *    array('id' => 22, 'w' => 375, 'h' => 667, 'crop' => true)\n *  )\n *  ```\n */\nfunction bgImage( $css_selector, $sizes ) {\n  $style = '';\n\n  foreach ( $sizes as $size ) {\n    // set default values\n    $size = array_merge( array( 'h' => 0, 'crop' => false ), $size );\n\n    $img = fly_get_attachment_image_src($size['id'], array( $size['w'], $size['h'] ), $size['crop'] );\n\n    // conditionally wrap with media query\n    if ( empty( $size['media'] ) ) {\n      $style .= $css_selector . '{ background-image:url(' . $img['src'] . ') }';\n    } else {\n      $style .= '@media(' . $size['media'] . ') {' .\n        $css_selector . '{ background-image:url(' . $img['src'] . ') }' .\n        '}';\n    }\n  }\n  return $style;\n}\n```\n\nUsage is simple, just use it inside `wp_head` action like this:\n\n```php\n// add responsive background images for .full-background section\nadd_action( 'wp_head', function() {\n  $img_id = get_post_thumbnail_id(); // or any other function that returns image ID\n  // do nothing if image ID is empty\n  if ( empty( $img_id ) ) return;\n\n  $css = bgImage('.full-background', array(\n    array( 'id' => $img_id, 'w' => 0, 'h' => '700' ),\n    array( 'id' => $img_id, 'media' => 'min-width:400px', 'w' => 800 ),\n    array( 'id' => $img_id, 'media' => 'min-width:800px', 'w' => 1400 ),\n    array( 'id' => $img_id, 'media' => 'min-width:1400px', 'w' => 1920 ),\n  ));\n  // print out CSS inside page header\n  echo '<style type=\"text/css\">' . $css . '</style>';\n});\n\n```\n\nAs a result, you will get following CSS (this is formatted version for better readability):\n\n```css\n.full-background{\n  background-image:url(http://yourdomain.com/app/uploads/fly-images/46/527528428-0x700.jpeg)\n}\n@media(min-width:400px) {\n  .full-background{\n    background-image:url(http://yourdomain.com/app/uploads/fly-images/46/527528428-800x0.jpeg)\n  }\n}\n@media(min-width:800px) {\n  .full-background{\n    background-image:url(http://yourdomain.com/app/uploads/fly-images/46/527528428-1400x0.jpeg)\n  }\n}\n@media(min-width:1400px) {\n  .full-background{\n    background-image:url(http://yourdomain.com/app/uploads/fly-images/46/527528428-1920x0.jpeg)\n  }\n}\n```\n\nEnhanced `.full-background` element will now have four sizes of `background-image` adjusted to the supported screen sizes.\n\n\n## Note\nI would probably try to turn these modifications into a plugin when I will have more spare time.\n","copyrightHolder":{"@type":"Person"},"copyrightYear":"2017-03-18T19:05:47.000Z","creator":{"@type":"Person"},"inLanguage":"en"}</script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="canonical" href="https://www.grzegorowski.com/wordpess-theme-responsive-images"/><meta name="amp-google-client-id-api" content="googleanalytics"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons-13b29af4c563a1cfccb4e580e749b474/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/icons-13b29af4c563a1cfccb4e580e749b474/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/icons-13b29af4c563a1cfccb4e580e749b474/favicon-32x32.png"/><link rel="manifest" href="/icons-13b29af4c563a1cfccb4e580e749b474/manifest.json"/><meta name="mobile-web-app-capable" content="yes"/><meta name="theme-color" content="#fff"/><meta name="application-name" content="blog"/><link rel="apple-touch-icon" sizes="57x57" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-icon-114x114.png"/><meta name="generator" content="Gatsby 2.13.57"/><link rel="apple-touch-icon" sizes="144x144" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-icon-152x152.png"/><link rel="apple-touch-icon" sizes="167x167" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-icon-167x167.png"/><link rel="apple-touch-icon" sizes="180x180" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-icon-180x180.png"/><link rel="apple-touch-icon" sizes="1024x1024" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-icon-1024x1024.png"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/><meta name="apple-mobile-web-app-title" content="blog"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-startup-image-320x460.png"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-startup-image-640x920.png"/><link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-startup-image-640x1096.png"/><link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-startup-image-750x1294.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-startup-image-1182x2208.png"/><link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-startup-image-1242x2148.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-startup-image-748x1024.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-startup-image-768x1004.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-startup-image-1496x2048.png"/><link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" href="/icons-13b29af4c563a1cfccb4e580e749b474/apple-touch-startup-image-1536x2008.png"/><link as="script" rel="preload" href="/styles-5ecbe910dbac2d4ed202.js"/><link as="script" rel="preload" href="/component---gatsby-ghost-theme-src-templates-post-js-e368d87192f9fe8638ff.js"/><link as="script" rel="preload" href="/1-1fec397d10792596fe57.js"/><link as="script" rel="preload" href="/0-973503c1dfaf97f72c6d.js"/><link as="script" rel="preload" href="/app-5f0ca33270bc6bfac054.js"/><link as="script" rel="preload" href="/webpack-runtime-31f3fb74b62301e0f91d.js"/><link as="fetch" rel="preload" href="/page-data/wordpess-theme-responsive-images/amp/page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="PageLayout__Wrapper-ttzf8e-0 ivNXPs"><div class="styles__Placeholder-sc-1x4v1ga-0 bLwFiT"></div><header class="styles__Wrapper-sc-1x4v1ga-1 ezKblj"><div class="styles__Container-sc-1x4v1ga-2 VaewE"><a class="styles__Name-sc-1x4v1ga-3 cokSQa" href="/"><div class="styles__InnerName-sc-1x4v1ga-4 eQLGZU">Full-stack developer blog by Jan Grzegorowski</div></a><nav class="styles__MainMenu-sc-1x4v1ga-5 bFwYzN styles__Wrapper-sc-1spuanr-0 ljKOOf"><div class="styles__Scroller-sc-1spuanr-1 dIoKsH"><div class="styles__Container-sc-1spuanr-2 JFLdO"><ul class="styles__List-sc-1spuanr-3 gBgPZa"><li class="styles__Item-sc-1spuanr-4 iWCoqC"><a class="styles__Link-sc-1spuanr-5 loRRQz" href="/">Home</a></li><li class="styles__Item-sc-1spuanr-4 iWCoqC"><a class="styles__Link-sc-1spuanr-5 loRRQz" href="/author/jan">Contact</a></li><li class="styles__Item-sc-1spuanr-4 iWCoqC"><a class="styles__Link-sc-1spuanr-5 loRRQz" href="/cookies">Cookies</a></li></ul><ul class="styles__List-sc-1spuanr-3 gBgPZa"><li class="styles__Item-sc-1spuanr-4 iWCoqC"><a href="https://www.linkedin.com/in/jan-grzegorowski/" target="_blank" rel="noopener" class="styles__ExternalLink-sc-1spuanr-6 juBybS"></a></li><li class="styles__Item-sc-1spuanr-4 iWCoqC"><a href="https://twitter.com/jangrzegorowski/" target="_blank" rel="noopener" class="styles__ExternalLink-sc-1spuanr-6 juBybS"></a></li></ul></div></div></nav></div></header><main class="PageLayout__Main-ttzf8e-1 Xracc"><article class="styles__Wrapper-sc-18g9haf-0 hIduYZ"><header class="styles__Header-sc-18g9haf-1 bZdjSS"><div class="styles__HeaderContent-sc-18g9haf-2 jiWzbw"><time datetime="2017-03-18T19:05:47.000Z" class="styles__DateCreated-sc-18g9haf-3 kRABZN">18 March 2017</time><h1 class="styles__Title-sc-18g9haf-4 hHhrxG">Wordpess theme responsive images</h1><div class="styles__Subtitle-sc-18g9haf-5 gUaCNj"><a href="/tag/wordpress">Wordpress</a><span class="styles__Divider-sc-18g9haf-6 dXLJRX">/</span><a href="/tag/wordpress-plugins">Wordpress plugins</a></div></div></header><div class="styles__TopImage-sc-18g9haf-11 gfHRHM"><amp-img src="/static/b916a429cfd1c056ff6f3fca864ec139/783a3/banner-772x250.png" srcset="/static/b916a429cfd1c056ff6f3fca864ec139/9d65d/banner-772x250.png 480w,
/static/b916a429cfd1c056ff6f3fca864ec139/783a3/banner-772x250.png 772w" alt="Wordpess theme responsive images" width="3.088" height="1" layout="responsive"></amp-img></div><div class="styles__Main-sc-18g9haf-13 eohSMh"><div class="styles__Container-sc-18g9haf-14 rWBCC"><div class="styles__Content-sc-18g9haf-15 kBliJm"><div><p>Ensuring good responsive images support in Wordpress can be a quite complicated task. When you try to provide dedicated image size for each supported device your images directory will become far larger than the necessary minimum because of generating even unused images by the default <code class="language-text">add_image_size()</code> function.</p>
<p>The solution of that problem wasn't an easy one, until now!</p>
<p>Thanks to the <a href="https://wordpress.org/plugins/fly-dynamic-image-resizer/">Fly Dynamic Image Resizer</a> by <a href="http://www.junaidbhura.com/">Junaid Bhura</a> there is now an option to generate only necessary image sizes "on the fly". You will never need to regenerate thumbnails again and what's more important WordPress <code class="language-text">upload/</code> directory will stay as small as possible.</p>
<p>Fly Dynamic Image Resizer is, of course, a developer plugin so in order to use it your active theme <strong>have to use</strong> <code class="language-text">fly_</code> prefixed functions instead of their <code class="language-text">wp_</code> counterparts. Having said so it's not that hard to convert existing theme to use Fly Dynamic Image Resizer simple <em>find &amp; replace</em> will be a helpful tool. The only thing you should take care about is checking the replaced functions results. Fly functions will produce slightly different results e.g. <code class="language-text">fly_get_attachment_image_src</code> outputs an associative array with different keys than the default <code class="language-text">wp_get_attachment_image_src</code>.</p>
<p>One of the biggest advantages of this plugin is a fact that it is available on Github <a href="https://github.com/junaidbhura/fly-dynamic-image-resizer">https://github.com/junaidbhura/fly-dynamic-image-resizer</a>, so you can fork it, report issues and get a quick response from the author.</p>
<h2>Examples</h2>
<h3>Default Wordpress</h3>
<p>(probably) your theme configuration:</p>
<div class="gatsby-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token function">add_image_size</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'my-custom-size'</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>template:</p>
<div class="gatsby-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token variable">$image</span> <span class="token operator">=</span> <span class="token function">wp_get_attachment_image_src</span><span class="token punctuation">(</span><span class="token variable">$img_id</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'my-custom-size'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$image</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$image</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$image</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<h3>Wordpress with Fly Dynamic Image Resizer</h3>
<p>no need for any configuration/initialization!
template:</p>
<div class="gatsby-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token variable">$image</span> <span class="token operator">=</span> <span class="token function">wp_get_attachment_image_src</span><span class="token punctuation">(</span><span class="token variable">$img_id</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$image</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'src'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$image</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'width'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$image</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'height'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<p>In case of <code class="language-text">wp_get_attachment_image</code> there is also approperiate <code class="language-text">fly_</code> helper function which will produce <code class="language-text">&lt;img&gt;</code> tag:</p>
<div class="gatsby-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token function">fly_get_attachment_image</span><span class="token punctuation">(</span> <span class="token variable">$img_id</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span></span></pre></div>
<p>These were just examples. I encourage you to read official documentation on Github (<a href="https://github.com/junaidbhura/fly-dynamic-image-resizer">https://github.com/junaidbhura/fly-dynamic-image-resizer</a>) which is really easy to use and provides a comprehensive description of all plugin capabilities.</p>
<h2>.svg support</h2>
<p>Fly Dynamic Image Resizer doesn't work with <code class="language-text">.svg</code> images (so as the Wordpress without any plugins). If you would like to support them just check for the empty result and replace it with the default Wordpress functions providing <code class="language-text">full</code> as the desired image size.</p>
<p>Here is an example of my custom helper function which falls back to the default Wordpress <code class="language-text">.svg</code> handling if image happens to be a <code class="language-text">.svg</code>:</p>
<div class="gatsby-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token comment">/**
 * Gets a dynamically generated image URL from the Fly Images with SVG fallback.
 *
 * @param  integer  $attachment_id
 * @param  mixed    $size
 * @param  boolean  $crop
 * @return array
 */</span>
<span class="token keyword">function</span> <span class="token function">get_image_src</span><span class="token punctuation">(</span> <span class="token variable">$attachment_id</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token variable">$size</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">,</span> <span class="token variable">$crop</span> <span class="token operator">=</span> <span class="token constant">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token variable">$img</span> <span class="token operator">=</span> <span class="token function">fly_get_attachment_image_src</span><span class="token punctuation">(</span> <span class="token variable">$attachment_id</span><span class="token punctuation">,</span> <span class="token variable">$size</span><span class="token punctuation">,</span> <span class="token variable">$crop</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span> <span class="token variable">$img</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$img</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Something went wrong (this might be a .svg image)</span>
  <span class="token variable">$img</span> <span class="token operator">=</span> <span class="token function">wp_get_attachment_image_src</span><span class="token punctuation">(</span> <span class="token variable">$attachment_id</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'full'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token keyword">empty</span><span class="token punctuation">(</span> <span class="token variable">$img</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
      <span class="token single-quoted-string string">'src'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$img</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token single-quoted-string string">'width'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$size</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token single-quoted-string string">'height'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$size</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Totally wrong (there is no 'full' image)</span>
  <span class="token keyword">return</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Use it exactly the same as the <code class="language-text">fly_get_attachment_image_src</code> you will just get <code class="language-text">svg</code> support. Here is an example:</p>
<div class="gatsby-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token variable">$img</span> <span class="token operator">=</span> <span class="token function">get_src</span><span class="token punctuation">(</span><span class="token variable">$attachment_id</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$img</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'src'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token delimiter important">?&gt;</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>The .svg image<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span></span></pre></div>
<h2>responsive background</h2>
<p>Providing good responsive background images (with various sizes) is complicated because it requires generating <em>CSS</em> code out of <em>PHP</em> (also there is no option to minify this or merge with the rest of your <em>CSS</em>). As far as I know there is no option to generate responsive background images in any other way. In order to ease this process I made a custom function (which is of course based on Fly Dynamic Image Resizer plugin):</p>
<div class="gatsby-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token comment">/**
 * Returns style string with media queries background-image for various screen sizes
 * @param string  $css_selector - Unique CSS selector for element with background image
 * @param array $sizes  - Array with media query and screen/image dimensions
 *  $sizes = [
 *    [
 *      'id' - (int) Attachment image ID
 *      'media' - (string) media query argument e.g. 'min-width'
 *      'w' - (int) image width
 *      'h' - (int) image height (default: 0)
 *      'crop' - (bool) crop image? (default: false)
 *    ], ...
 *  ]
 *  e.g.
 *  ```
 *  array(
 *    array('id' =&gt; 123, 'media' =&gt; 'min-width: 1280px', 'w' =&gt; 1280, 'h' =&gt; 600),
 *    array('id' =&gt; 22, 'w' =&gt; 375, 'h' =&gt; 667, 'crop' =&gt; true)
 *  )
 *  ```
 */</span>
<span class="token keyword">function</span> <span class="token function">bgImage</span><span class="token punctuation">(</span> <span class="token variable">$css_selector</span><span class="token punctuation">,</span> <span class="token variable">$sizes</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token variable">$style</span> <span class="token operator">=</span> <span class="token single-quoted-string string">''</span><span class="token punctuation">;</span>

  <span class="token keyword">foreach</span> <span class="token punctuation">(</span> <span class="token variable">$sizes</span> <span class="token keyword">as</span> <span class="token variable">$size</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// set default values</span>
    <span class="token variable">$size</span> <span class="token operator">=</span> <span class="token function">array_merge</span><span class="token punctuation">(</span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'h'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'crop'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean constant">false</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$size</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token variable">$img</span> <span class="token operator">=</span> <span class="token function">fly_get_attachment_image_src</span><span class="token punctuation">(</span><span class="token variable">$size</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token variable">$size</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'w'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token variable">$size</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'h'</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$size</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'crop'</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// conditionally wrap with media query</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">empty</span><span class="token punctuation">(</span> <span class="token variable">$size</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'media'</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token variable">$style</span> <span class="token punctuation">.</span><span class="token operator">=</span> <span class="token variable">$css_selector</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'{ background-image:url('</span> <span class="token punctuation">.</span> <span class="token variable">$img</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'src'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">') }'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token variable">$style</span> <span class="token punctuation">.</span><span class="token operator">=</span> <span class="token single-quoted-string string">'@media('</span> <span class="token punctuation">.</span> <span class="token variable">$size</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'media'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">') {'</span> <span class="token punctuation">.</span>
        <span class="token variable">$css_selector</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'{ background-image:url('</span> <span class="token punctuation">.</span> <span class="token variable">$img</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'src'</span><span class="token punctuation">]</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">') }'</span> <span class="token punctuation">.</span>
        <span class="token single-quoted-string string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token variable">$style</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Usage is simple, just use it inside <code class="language-text">wp_head</code> action like this:</p>
<div class="gatsby-highlight" data-language="php"><pre style="counter-reset: linenumber NaN" class="language-php line-numbers"><code class="language-php"><span class="token comment">// add responsive background images for .full-background section</span>
<span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'wp_head'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token variable">$img_id</span> <span class="token operator">=</span> <span class="token function">get_post_thumbnail_id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// or any other function that returns image ID</span>
  <span class="token comment">// do nothing if image ID is empty</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">empty</span><span class="token punctuation">(</span> <span class="token variable">$img_id</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

  <span class="token variable">$css</span> <span class="token operator">=</span> <span class="token function">bgImage</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'.full-background'</span><span class="token punctuation">,</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
    <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$img_id</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'w'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'h'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'700'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$img_id</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'media'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'min-width:400px'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'w'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">800</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$img_id</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'media'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'min-width:800px'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'w'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1400</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token single-quoted-string string">'id'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token variable">$img_id</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'media'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token single-quoted-string string">'min-width:1400px'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'w'</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1920</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// print out CSS inside page header</span>
  <span class="token keyword">echo</span> <span class="token single-quoted-string string">'&lt;style type="text/css"&gt;'</span> <span class="token punctuation">.</span> <span class="token variable">$css</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'&lt;/style&gt;'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>As a result, you will get following CSS (this is formatted version for better readability):</p>
<div class="gatsby-highlight" data-language="css"><pre style="counter-reset: linenumber NaN" class="language-css line-numbers"><code class="language-css"><span class="token selector">.full-background</span><span class="token punctuation">{</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://yourdomain.com/app/uploads/fly-images/46/527528428-0x700.jpeg<span class="token punctuation">)</span></span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@media</span><span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span>400px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.full-background</span><span class="token punctuation">{</span>
    <span class="token property">background-image</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://yourdomain.com/app/uploads/fly-images/46/527528428-800x0.jpeg<span class="token punctuation">)</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@media</span><span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span>800px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.full-background</span><span class="token punctuation">{</span>
    <span class="token property">background-image</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://yourdomain.com/app/uploads/fly-images/46/527528428-1400x0.jpeg<span class="token punctuation">)</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@media</span><span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span>1400px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
  <span class="token selector">.full-background</span><span class="token punctuation">{</span>
    <span class="token property">background-image</span><span class="token punctuation">:</span><span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>http://yourdomain.com/app/uploads/fly-images/46/527528428-1920x0.jpeg<span class="token punctuation">)</span></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code><span aria-hidden="true" class="line-numbers-rows" style="white-space: normal; width: auto; left: 0;"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>
<p>Enhanced <code class="language-text">.full-background</code> element will now have four sizes of <code class="language-text">background-image</code> adjusted to the supported screen sizes.</p>
<h2>Note</h2>
<p>I would probably try to turn these modifications into a plugin when I will have more spare time.</p></div></div><div class="styles__Wrapper-n5upcq-0 ZQchY"><a title="Read more posts by Jan Grzegorowski" class="styles__Container-n5upcq-1 gYslaw" href="/author/jan"><div class="styles__Photo-n5upcq-2 kyaInQ"><amp-img src="/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg" srcset="/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 1x,
/static/2b64da00e4a3f2952c8d9e3a6b631208/c5aad/photo-mini.jpg 1.5x" alt="Jan Grzegorowski" width="60" height="60" layout="fixed"></amp-img></div><div class="styles__Info-n5upcq-3 crXwW"><div class="styles__Name-n5upcq-4 hNjtzh">Jan Grzegorowski</div><div class="styles__About-n5upcq-5 bSJODi">Full-stack developer currently working with React / Java stack at Equinix</div></div></a><a title="Read more posts by Jan Grzegorowski" class="styles__More-n5upcq-6 LUBlX" href="/author/jan">Read More</a></div></div></div><div class="styles__Comments-sc-18g9haf-16 hGPWto"><div class="styles__CommentsContainer-sc-18g9haf-17 gEbTXz"><div id="disqus_thread"></div></div></div><aside class="styles__Wrapper-sc-177ejwt-0 hMYwmg"><div class="styles__Container-sc-177ejwt-1 iNDMyc"><ul class="styles__List-sc-177ejwt-2 dnkZyx"><li class="styles__Item-sc-177ejwt-3 fRjnCq"><div class="Tile__Wrapper-k83soo-0 iClmz"><div class="styles__Content-sc-1cwohrs-0 jSNjRb"><div class="styles__TopLine-sc-1cwohrs-1 chUfWh"><h5 class="styles__SiteName-sc-1cwohrs-2 cldIKF">Full-stack developer blog by Jan Grzegorowski</h5><a title="Wordpress" class="styles__LinkTop-sc-1cwohrs-3 buKDqR" href="/tag/wordpress"><h2 class="styles__Title-sc-1cwohrs-4 ftbNbI">Wordpress</h2></a></div><ul class="styles__List-sc-1cwohrs-5 jGHblD"><li class="styles__Item-sc-1cwohrs-6 cMLhOG"><a title="Wordpress WMPL Post Type Switcher support" class="styles__Link-sc-1cwohrs-7 tYTWj" href="/wordpress-wmpl-post-type-switcher-support">Wordpress WMPL Post Type Switcher support</a></li><li class="styles__Item-sc-1cwohrs-6 cMLhOG"><a title="Wordpress Roots Sage 9 translations" class="styles__Link-sc-1cwohrs-7 tYTWj" href="/wordpress-roots-sage-9-translations">Wordpress Roots Sage 9 translations</a></li><li class="styles__Item-sc-1cwohrs-6 cMLhOG"><a title="Roots Sage 9.0.0 - error Command failed with exit code 2" class="styles__Link-sc-1cwohrs-7 tYTWj" href="/wordpress-roots-sage-9-0-0">Roots Sage 9.0.0 - error Command failed with exit code 2</a></li><li class="styles__Item-sc-1cwohrs-6 cMLhOG"><a title="Wordpress rewrite rules and pagination" class="styles__Link-sc-1cwohrs-7 tYTWj" href="/wordpress-rewrite-rules">Wordpress rewrite rules and pagination</a></li><li class="styles__Item-sc-1cwohrs-6 cMLhOG"><a title="See all" class="styles__Link-sc-1cwohrs-7 tYTWj" href="/tag/wordpress">See all <!-- -->10<!-- --> posts</a></li></ul></div></div></li><li class="styles__Item-sc-177ejwt-3 fRjnCq"><div class="Tile__Wrapper-k83soo-0 iClmz"><article class="styles__Article-zl0bsg-0 bEhqbx"><a title="Wordpress WMPL Post Type Switcher support" class="styles__Link-zl0bsg-1 iXqmXg" href="/wordpress-wmpl-post-type-switcher-support/amp/"><div class="styles__NoThumbnail-zl0bsg-3 iHTvla"></div><div class="styles__Content-zl0bsg-4 cYibTA"><h3 class="styles__Tag-zl0bsg-5 iaYraz">wordpress</h3><h2 class="styles__Title-zl0bsg-6 kASfVB">Wordpress WMPL Post Type Switcher support</h2><p class="styles__Excerpt-zl0bsg-7 lbCqxU">Adding WPML support to PostType Switcher plugin is easy. My solution is based on https://wordpress.org/support/topic/simple-hack-to-add-wpml…</p><div class="styles__Footer-zl0bsg-8 berEvg"><div class="styles__Author-zl0bsg-9 gZqHrI"><amp-img src="/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg" srcset="/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg 1x,
/static/2b64da00e4a3f2952c8d9e3a6b631208/74c3b/photo-mini.jpg 1.5x,
/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 2x" alt="Jan Grzegorowski" width="30" height="30" layout="fixed"></amp-img></div><div class="styles__TimeToRead-zl0bsg-11 KWfpA">1<!-- --> min read</div></div></div></a></article></div></li><li class="styles__Item-sc-177ejwt-3 fRjnCq"><div class="Tile__Wrapper-k83soo-0 iClmz"><article class="styles__Article-zl0bsg-0 bEhqbx"><a title="Wordpress Roots Sage 9 translations" class="styles__Link-zl0bsg-1 iXqmXg" href="/wordpress-roots-sage-9-translations/amp/"><amp-img src="/static/07579ef4c70caa9b105d77ba1fcee8ad/0defe/letters.jpg" srcset="/static/07579ef4c70caa9b105d77ba1fcee8ad/38b6a/letters.jpg 150w,
/static/07579ef4c70caa9b105d77ba1fcee8ad/e201c/letters.jpg 300w,
/static/07579ef4c70caa9b105d77ba1fcee8ad/0defe/letters.jpg 600w,
/static/07579ef4c70caa9b105d77ba1fcee8ad/a71f1/letters.jpg 900w,
/static/07579ef4c70caa9b105d77ba1fcee8ad/9f6c3/letters.jpg 1200w,
/static/07579ef4c70caa9b105d77ba1fcee8ad/e95fb/letters.jpg 1280w" alt="Wordpress Roots Sage 9 translations" width="2" height="1" layout="responsive"></amp-img><div class="styles__Content-zl0bsg-4 cYibTA"><h3 class="styles__Tag-zl0bsg-5 iaYraz">wordpress</h3><h2 class="styles__Title-zl0bsg-6 kASfVB">Wordpress Roots Sage 9 translations</h2><p class="styles__Excerpt-zl0bsg-7 lbCqxU">Adding translations to the current Roots Sage version (which is 9.0.0-beta.4) is not as easy and standard as it was in previous versions…</p><div class="styles__Footer-zl0bsg-8 berEvg"><div class="styles__Author-zl0bsg-9 gZqHrI"><amp-img src="/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg" srcset="/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg 1x,
/static/2b64da00e4a3f2952c8d9e3a6b631208/74c3b/photo-mini.jpg 1.5x,
/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 2x" alt="Jan Grzegorowski" width="30" height="30" layout="fixed"></amp-img></div><div class="styles__TimeToRead-zl0bsg-11 KWfpA">2<!-- --> min read</div></div></div></a></article></div></li><li class="styles__Item-sc-177ejwt-3 fRjnCq"><div class="Tile__Wrapper-k83soo-0 iClmz"><article class="styles__Article-zl0bsg-0 bEhqbx"><a title="Roots Sage 9.0.0 - error Command failed with exit code 2" class="styles__Link-zl0bsg-1 iXqmXg" href="/wordpress-roots-sage-9-0-0/amp/"><amp-img src="/static/90a2aa5953a511a05142d0b453a3e842/0defe/sage_assets_errors_reporting.jpg" srcset="/static/90a2aa5953a511a05142d0b453a3e842/38b6a/sage_assets_errors_reporting.jpg 150w,
/static/90a2aa5953a511a05142d0b453a3e842/e201c/sage_assets_errors_reporting.jpg 300w,
/static/90a2aa5953a511a05142d0b453a3e842/0defe/sage_assets_errors_reporting.jpg 600w,
/static/90a2aa5953a511a05142d0b453a3e842/a71f1/sage_assets_errors_reporting.jpg 900w,
/static/90a2aa5953a511a05142d0b453a3e842/9f6c3/sage_assets_errors_reporting.jpg 1200w,
/static/90a2aa5953a511a05142d0b453a3e842/e95fb/sage_assets_errors_reporting.jpg 1280w" alt="Roots Sage 9.0.0 - error Command failed with exit code 2" width="2" height="1" layout="responsive"></amp-img><div class="styles__Content-zl0bsg-4 cYibTA"><h3 class="styles__Tag-zl0bsg-5 iaYraz">wordpress</h3><h2 class="styles__Title-zl0bsg-6 kASfVB">Roots Sage 9.0.0 - error Command failed with exit code 2</h2><p class="styles__Excerpt-zl0bsg-7 lbCqxU">During assets compilation with ,  or  you may run into this error: error Command failed with exit code 2  Workaround In order to fix it try…</p><div class="styles__Footer-zl0bsg-8 berEvg"><div class="styles__Author-zl0bsg-9 gZqHrI"><amp-img src="/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg" srcset="/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg 1x,
/static/2b64da00e4a3f2952c8d9e3a6b631208/74c3b/photo-mini.jpg 1.5x,
/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 2x" alt="Jan Grzegorowski" width="30" height="30" layout="fixed"></amp-img></div><div class="styles__TimeToRead-zl0bsg-11 KWfpA">2<!-- --> min read</div></div></div></a></article></div></li><li class="styles__Item-sc-177ejwt-3 fRjnCq"><div class="Tile__Wrapper-k83soo-0 iClmz"><article class="styles__Article-zl0bsg-0 bEhqbx"><a title="Wordpress rewrite rules and pagination" class="styles__Link-zl0bsg-1 iXqmXg" href="/wordpress-rewrite-rules/amp/"><div class="styles__NoThumbnail-zl0bsg-3 iHTvla"></div><div class="styles__Content-zl0bsg-4 cYibTA"><h3 class="styles__Tag-zl0bsg-5 iaYraz">wordpress</h3><h2 class="styles__Title-zl0bsg-6 kASfVB">Wordpress rewrite rules and pagination</h2><p class="styles__Excerpt-zl0bsg-7 lbCqxU">If you are making larger Wordpress site at some point you will definitely come across custom rewrite rules configuration. The tools (plugins…</p><div class="styles__Footer-zl0bsg-8 berEvg"><div class="styles__Author-zl0bsg-9 gZqHrI"><amp-img src="/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg" srcset="/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg 1x,
/static/2b64da00e4a3f2952c8d9e3a6b631208/74c3b/photo-mini.jpg 1.5x,
/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 2x" alt="Jan Grzegorowski" width="30" height="30" layout="fixed"></amp-img></div><div class="styles__TimeToRead-zl0bsg-11 KWfpA">2<!-- --> min read</div></div></div></a></article></div></li><li class="styles__Item-sc-177ejwt-3 fRjnCq"><div class="Tile__Wrapper-k83soo-0 iClmz"><article class="styles__Article-zl0bsg-0 bEhqbx"><a title="ACF PHP API the missing docs" class="styles__Link-zl0bsg-1 iXqmXg" href="/acf-php-api-the-missing-docs/amp/"><div class="styles__NoThumbnail-zl0bsg-3 iHTvla"></div><div class="styles__Content-zl0bsg-4 cYibTA"><h3 class="styles__Tag-zl0bsg-5 iaYraz">wordpress</h3><h2 class="styles__Title-zl0bsg-6 kASfVB">ACF PHP API the missing docs</h2><p class="styles__Excerpt-zl0bsg-7 lbCqxU">The most useful feature of the ACF Wordpress plugin is its PHP API. Unfortunately, it is not fully documented on the official page. Here are…</p><div class="styles__Footer-zl0bsg-8 berEvg"><div class="styles__Author-zl0bsg-9 gZqHrI"><amp-img src="/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg" srcset="/static/2b64da00e4a3f2952c8d9e3a6b631208/a6b89/photo-mini.jpg 1x,
/static/2b64da00e4a3f2952c8d9e3a6b631208/74c3b/photo-mini.jpg 1.5x,
/static/2b64da00e4a3f2952c8d9e3a6b631208/9c097/photo-mini.jpg 2x" alt="Jan Grzegorowski" width="30" height="30" layout="fixed"></amp-img></div><div class="styles__TimeToRead-zl0bsg-11 KWfpA">1<!-- --> min read</div></div></div></a></article></div></li></ul></div></aside></article></main><header class="styles__Wrapper-sc-1diyvya-0 kfJjUJ"><div class="styles__Container-sc-1diyvya-1 hNGpJr"><a class="styles__Name-sc-1diyvya-2 klwlbE" href="/">Jan Grzegorowski<!-- --> © 2019</a></div></header></div></div></div></body></html>